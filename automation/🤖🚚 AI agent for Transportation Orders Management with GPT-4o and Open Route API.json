{
  "id": 4692,
  "name": "ü§ñüöö AI agent for Transportation Orders Management with GPT-4o and Open Route API",
  "totalViews": 876,
  "price": 0,
  "purchaseUrl": null,
  "user": {
    "name": "Samir Saci",
    "username": "samirsaci",
    "bio": "Automation, AI and Analytics for Supply Chain & Business Optimization\nHelping businesses streamline operations using n8n, AI agents, and data science to enhance efficiency and sustainability. \nLinkedin: www.linkedin.com/in/samir-saci",
    "verified": true,
    "links": [
      "https://linktr.ee/samirsaci"
    ],
    "avatar": "https://gravatar.com/avatar/d3644476a59e5813c5f00a7933977e2be8805cbdc574958b9cc6a53b45bedd6a?r=pg&d=retro&size=200"
  },
  "description": "***Tags**: AI Agent, Supply Chain, Logistics, Route Planning, Transportation, GPS API*\n\n### Context\n\nHi! I‚Äôm Samir ‚Äî a Supply Chain Engineer and Data Scientist based in Paris, and founder of [LogiGreen Consulting](https://logi-green.com).\n\nI help companies improve their **logistics operations** using data, AI, and automation to **reduce costs and minimize environmental footprint**.\n\n&gt; Let‚Äôs use n8n to automate order management for transportation companies!\n\nüì¨ For business inquiries, you can add find me on [LinkedIn](https://www.linkedin.com/in/samir-saci)\n\n### Who is this template for?\n\nThis workflow is designed for **small transportation companies and carriers** that handle their delivery request **by email**.\n\n![Example of Results](https://www.samirsaci.com/content/images/2025/06/image-12.png)\n\nTwo **AI Agent nodes** and a connection to **Openroute Service API** are used to parse the content of pickup requests\n\n![Workflow](https://www.samirsaci.com/content/images/2025/06/image-13.png)\n\nThe results include **driving time** and **driving distance** in a comprehensive and concise reply generated by the second AI Agent.\n\n### How does it work?\n\nThis n8n workflow automates the processing of **shipment request emails** and enriches them with **distance and driving time** using the OpenRouteService API.\n\n- üì• Extract structured logistics data (pickup, delivery, contact) using an AI Agent  \n- üìå Geocode pickup and delivery addresses into GPS coordinates  \n- üöö Query OpenRouteService using the **truck (driving-hgv)** profile  \n- üìè Get the driving distance (in km) and estimated time (in minutes)  \n- üì§ Store all data in a connected Google Sheet  \n- üìß Send back a professional confirmation email to the customer  \n\n### Steps:\n1. üì© Trigger the workflow from a new Gmail message  \n2. üß† Use the AI Agent to extract structured data from the email  \n3. üìä Record and enrich shipment details in a Google Sheet  \n4. üó∫Ô∏è Geocode addresses into coordinates  \n5. üö¶ Get driving distance & time via OpenRouteService  \n6. üì¨ Generate and send back a confirmation email using AI \n\n![workflow](https://www.samirsaci.com/content/images/size/w1000/2025/06/image-14.png)\n\n### What do I need to get started?\n\nThis workflow requires:\n\n- A **Gmail account** to receive shipment requests  \n- A **Google Sheet** to log and update shipment info  \n- A **free OpenRouteService API key**  \n  [üëâ Get one here](https://openrouteservice.org/dev/#/signup)  \n- OpenAI API access to use the **AI Agent node**\n\n### Next Steps\n\nüóíÔ∏è Follow the sticky notes inside the workflow canvas to:\n\n- Plug your Gmail and Google credentials  \n- Add your OpenRouteService API key  \n- Test by sending a sample email and see the response!\n\n![Thumbnail](https://www.samirsaci.com/content/images/2025/06/temp.png)\n[üé• Check the Tutorial](https://youtu.be/0InkUBOUMQQ)\n\n*This template was built using n8n v1.93.0*  \n*Submitted: June 5, 2025*",
  "createdAt": "2025-06-05T14:42:16.942Z",
  "nodes": [
    {
      "id": 18,
      "icon": "file:googleSheets.svg",
      "name": "n8n-nodes-base.googleSheets",
      "codex": {
        "data": {
          "alias": [
            "CSV",
            "Sheet",
            "Spreadsheet",
            "GS"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/love-at-first-sight-ricardos-n8n-journey/",
                "icon": "‚ù§Ô∏è",
                "label": "Love at first sight: Ricardo‚Äôs n8n journey"
              },
              {
                "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                "icon": "üß¨",
                "label": "Why business process automation with n8n can change your daily life"
              },
              {
                "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                "icon": "üßæ",
                "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
              },
              {
                "url": "https://n8n.io/blog/supercharging-your-conference-registration-process-with-n8n/",
                "icon": "üé´",
                "label": "Supercharging your conference registration process with n8n"
              },
              {
                "url": "https://n8n.io/blog/creating-triggers-for-n8n-workflows-using-polling/",
                "icon": "‚è≤",
                "label": "Creating triggers for n8n workflows using polling"
              },
              {
                "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                "icon": "store",
                "label": "6 e-commerce workflows to power up your Shopify s"
              },
              {
                "url": "https://n8n.io/blog/migrating-community-metrics-to-orbit-using-n8n/",
                "icon": "üìà",
                "label": "Migrating Community Metrics to Orbit using n8n"
              },
              {
                "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                "icon": "üí°",
                "label": "15 Google apps you can combine and automate to increase productivity"
              },
              {
                "url": "https://n8n.io/blog/your-business-doesnt-need-you-to-operate/",
                "icon": " üñ•Ô∏è",
                "label": "Hey founders! Your business doesn't need you to operate"
              },
              {
                "url": "https://n8n.io/blog/how-honest-burgers-use-automation-to-save-100k-per-year/",
                "icon": "üçî",
                "label": "How Honest Burgers Use Automation to Save $100k per year"
              },
              {
                "url": "https://n8n.io/blog/how-a-digital-strategist-uses-n8n-for-online-marketing/",
                "icon": "üíª",
                "label": "How a digital strategist uses n8n for online marketing"
              },
              {
                "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                "icon": "üß†",
                "label": "Why this Product Manager loves workflow automation with n8n"
              },
              {
                "url": "https://n8n.io/blog/sending-automated-congratulations-with-google-sheets-twilio-and-n8n/",
                "icon": "üôå",
                "label": "Sending Automated Congratulations with Google Sheets, Twilio, and n8n "
              },
              {
                "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                "icon": "üìà",
                "label": "How a Membership Development Manager automates his work and investments"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googlesheets/"
              }
            ],
            "credentialDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/credentials/google/oauth-single-service/"
              }
            ]
          },
          "categories": [
            "Data & Storage",
            "Productivity"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0"
        }
      },
      "group": "[\"input\",\"output\"]",
      "defaults": {
        "name": "Google Sheets"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGZpbGw9IiMyOEI0NDYiIGQ9Ik0zNS42OSAxIDUyIDE3LjIyNXYzOS4wODdhMy42NyAzLjY3IDAgMCAxLTEuMDg0IDIuNjFBMy43IDMuNyAwIDAgMSA0OC4yOTMgNjBIMTIuNzA3YTMuNyAzLjcgMCAwIDEtMi42MjMtMS4wNzhBMy42NyAzLjY3IDAgMCAxIDkgNTYuMzEyVjQuNjg4YTMuNjcgMy42NyAwIDAgMSAxLjA4NC0yLjYxQTMuNyAzLjcgMCAwIDEgMTIuNzA3IDF6Ii8+PHBhdGggZmlsbD0iIzZBQ0U3QyIgZD0iTTM1LjY5IDEgNTIgMTcuMjI1SDM5LjM5N2MtMi4wNTQgMC0zLjcwNy0xLjgyOS0zLjcwNy0zLjg3MnoiLz48cGF0aCBmaWxsPSIjMjE5QjM4IiBkPSJNMzkuMjExIDE3LjIyNSA1MiAyMi40OHYtNS4yNTV6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTIwLjEyIDMxLjk3NWMwLS44MTcuNjYyLTEuNDc1IDEuNDgzLTEuNDc1aDE3Ljc5NGMuODIxIDAgMS40ODIuNjU4IDEuNDgyIDEuNDc1djE1LjQ4N2MwIC44MTgtLjY2MSAxLjQ3NS0xLjQ4MiAxLjQ3NUgyMS42MDNhMS40NzYgMS40NzYgMCAwIDEtMS40ODItMS40NzRWMzEuOTc0em0yLjIyNSAxLjQ3NWg2LjY3MnYyLjIxMmgtNi42NzJ6bTAgNS4xNjJoNi42NzJ2Mi4yMTNoLTYuNjcyem0wIDUuMTYzaDYuNjcydjIuMjEyaC02LjY3MnptOS42MzgtMTAuMzI1aDYuNjcydjIuMjEyaC02LjY3MnptMCA1LjE2Mmg2LjY3MnYyLjIxM2gtNi42NzJ6bTAgNS4xNjNoNi42NzJ2Mi4yMTJoLTYuNjcyeiIvPjxwYXRoIGZpbGw9IiMyOEI0NDYiIGQ9Ik0zNC42OSAwIDUxIDE2LjIyNXYzOS4wODdhMy42NyAzLjY3IDAgMCAxLTEuMDg0IDIuNjFBMy43IDMuNyAwIDAgMSA0Ny4yOTMgNTlIMTEuNzA3YTMuNyAzLjcgMCAwIDEtMi42MjMtMS4wNzhBMy42NyAzLjY3IDAgMCAxIDggNTUuMzEyVjMuNjg4YTMuNjcgMy42NyAwIDAgMSAxLjA4NC0yLjYxQTMuNyAzLjcgMCAwIDEgMTEuNzA3IDB6Ii8+PHBhdGggZmlsbD0iIzZBQ0U3QyIgZD0iTTM0LjY5IDAgNTEgMTYuMjI1SDM4LjM5N2MtMi4wNTQgMC0zLjcwNy0xLjgyOS0zLjcwNy0zLjg3MnoiLz48cGF0aCBmaWxsPSIjMjE5QjM4IiBkPSJNMzguMjExIDE2LjIyNSA1MSAyMS40OHYtNS4yNTV6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTE5LjEyIDMwLjk3NWMwLS44MTcuNjYyLTEuNDc1IDEuNDgzLTEuNDc1aDE3Ljc5NGMuODIxIDAgMS40ODIuNjU4IDEuNDgyIDEuNDc1djE1LjQ4N2MwIC44MTgtLjY2MSAxLjQ3NS0xLjQ4MiAxLjQ3NUgyMC42MDNhMS40NzYgMS40NzYgMCAwIDEtMS40ODItMS40NzRWMzAuOTc0em0yLjIyNSAxLjQ3NWg2LjY3MnYyLjIxMmgtNi42NzJ6bTAgNS4xNjJoNi42NzJ2Mi4yMTNoLTYuNjcyem0wIDUuMTYzaDYuNjcydjIuMjEyaC02LjY3MnptOS42MzgtMTAuMzI1aDYuNjcydjIuMjEyaC02LjY3MnptMCA1LjE2Mmg2LjY3MnYyLjIxM2gtNi42NzJ6bTAgNS4xNjNoNi42NzJ2Mi4yMTJoLTYuNjcyeiIvPjwvZz48L3N2Zz4="
      },
      "displayName": "Google Sheets",
      "typeVersion": 5,
      "nodeCategories": [
        {
          "id": 3,
          "name": "Data & Storage"
        },
        {
          "id": 4,
          "name": "Productivity"
        }
      ]
    },
    {
      "id": 19,
      "icon": "file:httprequest.svg",
      "name": "n8n-nodes-base.httpRequest",
      "codex": {
        "data": {
          "alias": [
            "API",
            "Request",
            "URL",
            "Build",
            "cURL"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                "icon": "‚òÄÔ∏è",
                "label": "2021: The Year to Automate the New You with n8n"
              },
              {
                "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                "icon": "üß¨",
                "label": "Why business process automation with n8n can change your daily life"
              },
              {
                "url": "https://n8n.io/blog/automatically-pulling-and-visualizing-data-with-n8n/",
                "icon": "üìà",
                "label": "Automatically pulling and visualizing data with n8n"
              },
              {
                "url": "https://n8n.io/blog/learn-how-to-automatically-cross-post-your-content-with-n8n/",
                "icon": "‚úçÔ∏è",
                "label": "Learn how to automatically cross-post your content with n8n"
              },
              {
                "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                "icon": "üßæ",
                "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
              },
              {
                "url": "https://n8n.io/blog/running-n8n-on-ships-an-interview-with-maranics/",
                "icon": "üõ≥",
                "label": "Running n8n on ships: An interview with Maranics"
              },
              {
                "url": "https://n8n.io/blog/what-are-apis-how-to-use-them-with-no-code/",
                "icon": " ü™¢",
                "label": "What are APIs and how to use them with no code"
              },
              {
                "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                "icon": "‚ö°Ô∏è",
                "label": "5 tasks you can automate with the new Notion API "
              },
              {
                "url": "https://n8n.io/blog/world-poetry-day-workflow/",
                "icon": "üìú",
                "label": "Celebrating World Poetry Day with a daily poem in Telegram"
              },
              {
                "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                "icon": "üí°",
                "label": "15 Google apps you can combine and automate to increase productivity"
              },
              {
                "url": "https://n8n.io/blog/automate-designs-with-bannerbear-and-n8n/",
                "icon": "üé®",
                "label": "Automate Designs with Bannerbear and n8n"
              },
              {
                "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                "icon": " üï∏Ô∏è",
                "label": "How uProc scraped a multi-page website with a low-code workflow"
              },
              {
                "url": "https://n8n.io/blog/building-an-expense-tracking-app-in-10-minutes/",
                "icon": "üì±",
                "label": "Building an expense tracking app in 10 minutes"
              },
              {
                "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                "icon": "ü§ñ",
                "label": "5 workflow automations for Mattermost that we love at n8n"
              },
              {
                "url": "https://n8n.io/blog/how-to-use-the-http-request-node-the-swiss-army-knife-for-workflow-automation/",
                "icon": "üß∞",
                "label": "How to use the HTTP Request Node - The Swiss Army Knife for Workflow Automation"
              },
              {
                "url": "https://n8n.io/blog/learn-how-to-use-webhooks-with-mattermost-slash-commands/",
                "icon": "ü¶Ñ",
                "label": "Learn how to use webhooks with Mattermost slash commands"
              },
              {
                "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                "icon": "üìà",
                "label": "How a Membership Development Manager automates his work and investments"
              },
              {
                "url": "https://n8n.io/blog/a-low-code-bitcoin-ticker-built-with-questdb-and-n8n-io/",
                "icon": "üìà",
                "label": "A low-code bitcoin ticker built with QuestDB and n8n.io"
              },
              {
                "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                "icon": "üé°",
                "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
              },
              {
                "url": "https://n8n.io/blog/automations-for-activists/",
                "icon": "‚ú®",
                "label": "How Common Knowledge use workflow automation for activism"
              },
              {
                "url": "https://n8n.io/blog/creating-scheduled-text-affirmations-with-n8n/",
                "icon": "ü§ü",
                "label": "Creating scheduled text affirmations with n8n"
              },
              {
                "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                "icon": "üõµ",
                "label": "How Goomer automated their operations with over 200 n8n workflows"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.httprequest/"
              }
            ]
          },
          "categories": [
            "Development",
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"output\"]",
      "defaults": {
        "name": "HTTP Request",
        "color": "#0004F5"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MCAyMEM0MCA4Ljk1MzE0IDMxLjA0NjkgMCAyMCAwQzguOTUzMTQgMCAwIDguOTUzMTQgMCAyMEMwIDMxLjA0NjkgOC45NTMxNCA0MCAyMCA0MEMzMS4wNDY5IDQwIDQwIDMxLjA0NjkgNDAgMjBaTTIwIDM2Ljk0NThDMTguODg1MiAzNi45NDU4IDE3LjEzNzggMzUuOTY3IDE1LjQ5OTggMzIuNjk4NUMxNC43OTY0IDMxLjI5MTggMTQuMTk2MSAyOS41NDMxIDEzLjc1MjYgMjcuNjg0N0gyNi4xODk4QzI1LjgwNDUgMjkuNTQwMyAyNS4yMDQ0IDMxLjI5MDEgMjQuNTAwMiAzMi42OTg1QzIyLjg2MjIgMzUuOTY3IDIxLjExNDggMzYuOTQ1OCAyMCAzNi45NDU4Wk0xMi45MDY0IDIwQzEyLjkwNjQgMjEuNjA5NyAxMy4wMDg3IDIzLjE2NCAxMy4yMDAzIDI0LjYzMDVIMjYuNzk5N0MyNi45OTEzIDIzLjE2NCAyNy4wOTM2IDIxLjYwOTcgMjcuMDkzNiAyMEMyNy4wOTM2IDE4LjM5MDMgMjYuOTkxMyAxNi44MzYgMjYuNzk5NyAxNS4zNjk1SDEzLjIwMDNDMTMuMDA4NyAxNi44MzYgMTIuOTA2NCAxOC4zOTAzIDEyLjkwNjQgMjBaTTIwIDMuMDU0MTlDMjEuMTE0OSAzLjA1NDE5IDIyLjg2MjIgNC4wMzA3OCAyNC41MDAxIDcuMzAwMzlDMjUuMjA2NiA4LjcxNDA4IDI1LjgwNzIgMTAuNDA2NyAyNi4xOTIgMTIuMzE1M0gxMy43NTAxQzE0LjE5MzMgMTAuNDA0NyAxNC43OTQyIDguNzEyNTQgMTUuNDk5OCA3LjMwMDY0QzE3LjEzNzcgNC4wMzA4MyAxOC44ODUxIDMuMDU0MTkgMjAgMy4wNTQxOVpNMzAuMTQ3OCAyMEMzMC4xNDc4IDE4LjQwOTkgMzAuMDU0MyAxNi44NjE3IDI5LjgyMjcgMTUuMzY5NUgzNi4zMDQyQzM2LjcyNTIgMTYuODQyIDM2Ljk0NTggMTguMzk2NCAzNi45NDU4IDIwQzM2Ljk0NTggMjEuNjAzNiAzNi43MjUyIDIzLjE1OCAzNi4zMDQyIDI0LjYzMDVIMjkuODIyN0MzMC4wNTQzIDIzLjEzODMgMzAuMTQ3OCAyMS41OTAxIDMwLjE0NzggMjBaTTI2LjI3NjcgNC4yNTUxMkMyNy42MzY1IDYuMzYwMTkgMjguNzExIDkuMTMyIDI5LjM3NzQgMTIuMzE1M0gzNS4xMDQ2QzMzLjI1MTEgOC42NjggMzAuMTA3IDUuNzgzNDYgMjYuMjc2NyA0LjI1NTEyWk0xMC42MjI2IDEyLjMxNTNINC44OTI5M0M2Ljc1MTQ3IDguNjY3ODQgOS44OTM1MSA1Ljc4MzQxIDEzLjcyMzIgNC4yNTUxM0MxMi4zNjM1IDYuMzYwMjEgMTEuMjg5IDkuMTMyMDEgMTAuNjIyNiAxMi4zMTUzWk0zLjA1NDE5IDIwQzMuMDU0MTkgMjEuNjAzIDMuMjc3NDMgMjMuMTU3NSAzLjY5NDg0IDI0LjYzMDVIMTAuMTIxN0M5Ljk0NjE5IDIzLjE0MiA5Ljg1MjIyIDIxLjU5NDMgOS44NTIyMiAyMEM5Ljg1MjIyIDE4LjQwNTcgOS45NDYxOSAxNi44NTggMTAuMTIxNyAxNS4zNjk1SDMuNjk0ODRDMy4yNzc0MyAxNi44NDI1IDMuMDU0MTkgMTguMzk3IDMuMDU0MTkgMjBaTTI2LjI3NjYgMzUuNzQyN0MyNy42MzY1IDMzLjYzOTMgMjguNzExIDMwLjg2OCAyOS4zNzc0IDI3LjY4NDdIMzUuMTA0NkMzMy4yNTEgMzEuMzMyMiAzMC4xMDY4IDM0LjIxNzkgMjYuMjc2NiAzNS43NDI3Wk0xMy43MjM0IDM1Ljc0MjdDOS44OTM2OSAzNC4yMTc5IDYuNzUxNTUgMzEuMzMyNCA0Ljg5MjkzIDI3LjY4NDdIMTAuNjIyNkMxMS4yODkgMzAuODY4IDEyLjM2MzUgMzMuNjM5MyAxMy43MjM0IDM1Ljc0MjdaIiBmaWxsPSIjM0E0MkU5Ii8+Cjwvc3ZnPgo="
      },
      "displayName": "HTTP Request",
      "typeVersion": 4,
      "nodeCategories": [
        {
          "id": 5,
          "name": "Development"
        },
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 38,
      "icon": "fa:pen",
      "name": "n8n-nodes-base.set",
      "codex": {
        "data": {
          "alias": [
            "Set",
            "JS",
            "JSON",
            "Filter",
            "Transform",
            "Map"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                "icon": "üè≠",
                "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
              },
              {
                "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                "icon": "‚òÄÔ∏è",
                "label": "2021: The Year to Automate the New You with n8n"
              },
              {
                "url": "https://n8n.io/blog/automatically-pulling-and-visualizing-data-with-n8n/",
                "icon": "üìà",
                "label": "Automatically pulling and visualizing data with n8n"
              },
              {
                "url": "https://n8n.io/blog/database-monitoring-and-alerting-with-n8n/",
                "icon": "üì°",
                "label": "Database Monitoring and Alerting with n8n"
              },
              {
                "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                "icon": "üßæ",
                "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
              },
              {
                "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                "icon": "store",
                "label": "6 e-commerce workflows to power up your Shopify s"
              },
              {
                "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                "icon": "üîó",
                "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
              },
              {
                "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                "icon": "‚öôÔ∏è",
                "label": "Automate your data processing pipeline in 9 steps"
              },
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "üë•",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                "icon": "‚ö°Ô∏è",
                "label": "5 tasks you can automate with the new Notion API "
              },
              {
                "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                "icon": "üí°",
                "label": "15 Google apps you can combine and automate to increase productivity"
              },
              {
                "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                "icon": " üï∏Ô∏è",
                "label": "How uProc scraped a multi-page website with a low-code workflow"
              },
              {
                "url": "https://n8n.io/blog/building-an-expense-tracking-app-in-10-minutes/",
                "icon": "üì±",
                "label": "Building an expense tracking app in 10 minutes"
              },
              {
                "url": "https://n8n.io/blog/the-ultimate-guide-to-automate-your-video-collaboration-with-whereby-mattermost-and-n8n/",
                "icon": "üìπ",
                "label": "The ultimate guide to automate your video collaboration with Whereby, Mattermost, and n8n"
              },
              {
                "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                "icon": "ü§ñ",
                "label": "5 workflow automations for Mattermost that we love at n8n"
              },
              {
                "url": "https://n8n.io/blog/learn-to-build-powerful-api-endpoints-using-webhooks/",
                "icon": "üß∞",
                "label": "Learn to Build Powerful API Endpoints Using Webhooks"
              },
              {
                "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                "icon": "üìà",
                "label": "How a Membership Development Manager automates his work and investments"
              },
              {
                "url": "https://n8n.io/blog/a-low-code-bitcoin-ticker-built-with-questdb-and-n8n-io/",
                "icon": "üìà",
                "label": "A low-code bitcoin ticker built with QuestDB and n8n.io"
              },
              {
                "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                "icon": "üé°",
                "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
              },
              {
                "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                "icon": "üéñ",
                "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
              },
              {
                "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                "icon": "üõµ",
                "label": "How Goomer automated their operations with over 200 n8n workflows"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.set/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Data Transformation"
            ]
          }
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Edit Fields"
      },
      "iconData": {
        "icon": "pen",
        "type": "icon"
      },
      "displayName": "Edit Fields (Set)",
      "typeVersion": 3,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 356,
      "icon": "file:gmail.svg",
      "name": "n8n-nodes-base.gmail",
      "codex": {
        "data": {
          "alias": [
            "email",
            "human",
            "form",
            "wait",
            "hitl",
            "approval"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                "icon": "üß¨",
                "label": "Why business process automation with n8n can change your daily life"
              },
              {
                "url": "https://n8n.io/blog/supercharging-your-conference-registration-process-with-n8n/",
                "icon": "üé´",
                "label": "Supercharging your conference registration process with n8n"
              },
              {
                "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                "icon": "store",
                "label": "6 e-commerce workflows to power up your Shopify s"
              },
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "üë•",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                "icon": "üí°",
                "label": "15 Google apps you can combine and automate to increase productivity"
              },
              {
                "url": "https://n8n.io/blog/your-business-doesnt-need-you-to-operate/",
                "icon": " üñ•Ô∏è",
                "label": "Hey founders! Your business doesn't need you to operate"
              },
              {
                "url": "https://n8n.io/blog/using-automation-to-boost-productivity-in-the-workplace/",
                "icon": "üí™",
                "label": "Using Automation to Boost Productivity in the Workplace"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.gmail/"
              }
            ],
            "credentialDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/credentials/google/oauth-single-service/"
              }
            ]
          },
          "categories": [
            "Communication",
            "HITL"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "HITL": [
              "Human in the Loop"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Gmail"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTYiIGhlaWdodD0iMTkzIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+PHBhdGggZmlsbD0iIzQyODVGNCIgZD0iTTU4LjE4MiAxOTIuMDVWOTMuMTRMMjcuNTA3IDY1LjA3NyAwIDQ5LjUwNHYxMjUuMDkxYzAgOS42NTggNy44MjUgMTcuNDU1IDE3LjQ1NSAxNy40NTV6Ii8+PHBhdGggZmlsbD0iIzM0QTg1MyIgZD0iTTE5Ny44MTggMTkyLjA1aDQwLjcyN2M5LjY1OSAwIDE3LjQ1NS03LjgyNiAxNy40NTUtMTcuNDU1VjQ5LjUwNWwtMzEuMTU2IDE3LjgzNy0yNy4wMjYgMjUuNzk4eiIvPjxwYXRoIGZpbGw9IiNFQTQzMzUiIGQ9Im01OC4xODIgOTMuMTQtNC4xNzQtMzguNjQ3IDQuMTc0LTM2Ljk4OUwxMjggNjkuODY4bDY5LjgxOC01Mi4zNjQgNC42NyAzNC45OTItNC42NyA0MC42NDRMMTI4IDE0NS41MDR6Ii8+PHBhdGggZmlsbD0iI0ZCQkMwNCIgZD0iTTE5Ny44MTggMTcuNTA0VjkzLjE0TDI1NiA0OS41MDRWMjYuMjMxYzAtMjEuNTg1LTI0LjY0LTMzLjg5LTQxLjg5LTIwLjk0NXoiLz48cGF0aCBmaWxsPSIjQzUyMjFGIiBkPSJtMCA0OS41MDQgMjYuNzU5IDIwLjA3TDU4LjE4MiA5My4xNFYxNy41MDRMNDEuODkgNS4yODZDMjQuNjEtNy42NiAwIDQuNjQ2IDAgMjYuMjN6Ii8+PC9zdmc+"
      },
      "displayName": "Gmail",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 6,
          "name": "Communication"
        },
        {
          "id": 28,
          "name": "HITL"
        }
      ]
    },
    {
      "id": 514,
      "icon": "fa:pause-circle",
      "name": "n8n-nodes-base.wait",
      "codex": {
        "data": {
          "alias": [
            "pause",
            "sleep",
            "delay",
            "timeout"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "üë•",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.wait/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers",
              "Flow"
            ]
          }
        }
      },
      "group": "[\"organization\"]",
      "defaults": {
        "name": "Wait",
        "color": "#804050"
      },
      "iconData": {
        "icon": "pause-circle",
        "type": "icon"
      },
      "displayName": "Wait",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 565,
      "icon": "fa:sticky-note",
      "name": "n8n-nodes-base.stickyNote",
      "codex": {
        "data": {
          "alias": [
            "Comments",
            "Notes",
            "Sticky"
          ],
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Sticky Note",
        "color": "#FFD233"
      },
      "iconData": {
        "icon": "sticky-note",
        "type": "icon"
      },
      "displayName": "Sticky Note",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 824,
      "icon": "file:gmail.svg",
      "name": "n8n-nodes-base.gmailTrigger",
      "codex": {
        "data": {
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                "icon": "üß¨",
                "label": "Why business process automation with n8n can change your daily life"
              },
              {
                "url": "https://n8n.io/blog/supercharging-your-conference-registration-process-with-n8n/",
                "icon": "üé´",
                "label": "Supercharging your conference registration process with n8n"
              },
              {
                "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                "icon": "store",
                "label": "6 e-commerce workflows to power up your Shopify s"
              },
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "üë•",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                "icon": "üí°",
                "label": "15 Google apps you can combine and automate to increase productivity"
              },
              {
                "url": "https://n8n.io/blog/your-business-doesnt-need-you-to-operate/",
                "icon": " üñ•Ô∏è",
                "label": "Hey founders! Your business doesn't need you to operate"
              },
              {
                "url": "https://n8n.io/blog/using-automation-to-boost-productivity-in-the-workplace/",
                "icon": "üí™",
                "label": "Using Automation to Boost Productivity in the Workplace"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/trigger-nodes/n8n-nodes-base.gmailtrigger/"
              }
            ],
            "credentialDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/credentials/google/oauth-single-service/"
              }
            ]
          },
          "categories": [
            "Communication"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0"
        }
      },
      "group": "[\"trigger\"]",
      "defaults": {
        "name": "Gmail Trigger"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTYiIGhlaWdodD0iMTkzIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+PHBhdGggZmlsbD0iIzQyODVGNCIgZD0iTTU4LjE4MiAxOTIuMDVWOTMuMTRMMjcuNTA3IDY1LjA3NyAwIDQ5LjUwNHYxMjUuMDkxYzAgOS42NTggNy44MjUgMTcuNDU1IDE3LjQ1NSAxNy40NTV6Ii8+PHBhdGggZmlsbD0iIzM0QTg1MyIgZD0iTTE5Ny44MTggMTkyLjA1aDQwLjcyN2M5LjY1OSAwIDE3LjQ1NS03LjgyNiAxNy40NTUtMTcuNDU1VjQ5LjUwNWwtMzEuMTU2IDE3LjgzNy0yNy4wMjYgMjUuNzk4eiIvPjxwYXRoIGZpbGw9IiNFQTQzMzUiIGQ9Im01OC4xODIgOTMuMTQtNC4xNzQtMzguNjQ3IDQuMTc0LTM2Ljk4OUwxMjggNjkuODY4bDY5LjgxOC01Mi4zNjQgNC42NyAzNC45OTItNC42NyA0MC42NDRMMTI4IDE0NS41MDR6Ii8+PHBhdGggZmlsbD0iI0ZCQkMwNCIgZD0iTTE5Ny44MTggMTcuNTA0VjkzLjE0TDI1NiA0OS41MDRWMjYuMjMxYzAtMjEuNTg1LTI0LjY0LTMzLjg5LTQxLjg5LTIwLjk0NXoiLz48cGF0aCBmaWxsPSIjQzUyMjFGIiBkPSJtMCA0OS41MDQgMjYuNzU5IDIwLjA3TDU4LjE4MiA5My4xNFYxNy41MDRMNDEuODkgNS4yODZDMjQuNjEtNy42NiAwIDQuNjQ2IDAgMjYuMjN6Ii8+PC9zdmc+"
      },
      "displayName": "Gmail Trigger",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 6,
          "name": "Communication"
        }
      ]
    },
    {
      "id": 1119,
      "icon": "fa:robot",
      "name": "@n8n/n8n-nodes-langchain.agent",
      "codex": {
        "data": {
          "alias": [
            "LangChain",
            "Chat",
            "Conversational",
            "Plan and Execute",
            "ReAct",
            "Tools"
          ],
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Agents",
              "Root Nodes"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "AI Agent",
        "color": "#404040"
      },
      "iconData": {
        "icon": "robot",
        "type": "icon"
      },
      "displayName": "AI Agent",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    },
    {
      "id": 1153,
      "icon": "file:openAiLight.svg",
      "name": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "codex": {
        "data": {
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.lmchatopenai/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Language Models",
              "Root Nodes"
            ],
            "Language Models": [
              "Chat Models (Recommended)"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "OpenAI Chat Model"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTM2Ljg2NzEgMTYuMzcxOEMzNy43NzQ2IDEzLjY0OCAzNy40NjIxIDEwLjY2NDIgMzYuMDEwOCA4LjE4NjYxQzMzLjgyODIgNC4zODY1MyAyOS40NDA3IDIuNDMxNDkgMjUuMTU1NiAzLjM1MTUxQzIzLjI0OTMgMS4yMDM5NiAyMC41MTA1IC0wLjAxNzMxNDggMTcuNjM5MiAwLjAwMDE4NTUzM0MxMy4yNTkxIC0wLjAwOTgxNDY4IDkuMzcyNzMgMi44MTAyNSA4LjAyNTIgNi45Nzc4M0M1LjIxMTM5IDcuNTU0MSAyLjc4MjU4IDkuMzE1MzggMS4zNjEzIDExLjgxMTdDLTAuODM3NDkzIDE1LjYwMTggLTAuMzM2MjMyIDIwLjM3OTQgMi42MDEzMyAyMy42Mjk0QzEuNjkzODEgMjYuMzUzMiAyLjAwNjMyIDI5LjMzNzEgMy40NTc2IDMxLjgxNDZDNS42NDAxNSAzNS42MTQ3IDEwLjAyNzcgMzcuNTY5NyAxNC4zMTI4IDM2LjY0OTdDMTYuMjE3OSAzOC43OTczIDE4Ljk1NzkgNDAuMDE4NSAyMS44MjkyIDM5Ljk5OThDMjYuMjExOCA0MC4wMTEgMzAuMDk5NCAzNy4xODg1IDMxLjQ0NjkgMzMuMDE3MUMzNC4yNjA4IDMyLjQ0MDkgMzYuNjg5NiAzMC42Nzk2IDM4LjExMDggMjguMTgzM0M0MC4zMDcxIDI0LjM5MzIgMzkuODA0NiAxOS42MTk0IDM2Ljg2ODMgMTYuMzY5M0wzNi44NjcxIDE2LjM3MThaTTIxLjgzMTcgMzcuMzg2QzIwLjA3OCAzNy4zODg1IDE4LjM3OTIgMzYuNzc0NyAxNy4wMzI5IDM1LjY1MDlDMTcuMDk0MSAzNS42MTg0IDE3LjIwMDQgMzUuNTU5NyAxNy4yNjkxIDM1LjUxNzJMMjUuMjM0MyAzMC45MTcxQzI1LjY0MTggMzAuNjg1OCAyNS44OTE4IDMwLjI1MjEgMjUuODg5MyAyOS43ODMzVjE4LjU1NDNMMjkuMjU1NyAyMC40OTgxQzI5LjI5MTkgMjAuNTE1NiAyOS4zMTU3IDIwLjU1MDYgMjkuMzIwNyAyMC41OTA2VjI5Ljg4OTZDMjkuMzE1NyAzNC4wMjQ3IDI1Ljk2NjggMzcuMzc3MiAyMS44MzE3IDM3LjM4NlpNNS43MjY0IDMwLjUwNzFDNC44NDc2MyAyOC45ODk2IDQuNTMxMzcgMjcuMjEwOCA0LjgzMjYzIDI1LjQ4NDVDNC44OTEzOCAyNS41MTk1IDQuOTk1MTMgMjUuNTgzMiA1LjA2ODg4IDI1LjYyNTdMMTMuMDM0MSAzMC4yMjU4QzEzLjQzNzggMzAuNDYyMSAxMy45Mzc4IDMwLjQ2MjEgMTQuMzQyOCAzMC4yMjU4TDI0LjA2NjggMjQuNjEwN1YyOC40OTgzQzI0LjA2OTMgMjguNTM4MyAyNC4wNTA1IDI4LjU3NyAyNC4wMTkzIDI4LjYwMkwxNS45Njc5IDMzLjI1MDlDMTIuMzgxNSAzNS4zMTU5IDcuODAxNDQgMzQuMDg4NCA1LjcyNzY1IDMwLjUwNzFINS43MjY0Wk0zLjYzMDEgMTMuMTIwNUM0LjUwNTEyIDExLjYwMDQgNS44ODY0IDEwLjQzNzkgNy41MzE0NCA5LjgzNDE1QzcuNTMxNDQgOS45MDI5IDcuNTI3NjkgMTAuMDI0MiA3LjUyNzY5IDEwLjEwOTJWMTkuMzEwNkM3LjUyNTE5IDE5Ljc3ODEgNy43NzUxOSAyMC4yMTE5IDguMTgxNDUgMjAuNDQzMUwxNy45MDU0IDI2LjA1N0wxNC41MzkxIDI4LjAwMDhDMTQuNTA1MyAyOC4wMjMzIDE0LjQ2MjggMjguMDI3IDE0LjQyNTMgMjguMDEwOEw2LjM3MjY2IDIzLjM1ODJDMi43OTM4MyAyMS4yODU2IDEuNTY2MzEgMTYuNzA2OCAzLjYyODg1IDEzLjEyMTdMMy42MzAxIDEzLjEyMDVaTTMxLjI4ODIgMTkuNTU2OUwyMS41NjQyIDEzLjk0MTdMMjQuOTMwNiAxMS45OTkyQzI0Ljk2NDMgMTEuOTc2NyAyNS4wMDY4IDExLjk3MjkgMjUuMDQ0MyAxMS45ODkyTDMzLjA5NyAxNi42MzhDMzYuNjgyMSAxOC43MDkzIDM3LjkxMDggMjMuMjk1NyAzNS44Mzk1IDI2Ljg4MDhDMzQuOTYzMyAyOC4zOTgzIDMzLjU4MzIgMjkuNTYwOCAzMS45Mzk1IDMwLjE2NThWMjAuNjg5NEMzMS45NDMyIDIwLjIyMTkgMzEuNjk0NSAxOS43ODk0IDMxLjI4OTQgMTkuNTU2OUgzMS4yODgyWk0zNC42MzgzIDE0LjUxNDJDMzQuNTc5NSAxNC40NzggMzQuNDc1OCAxNC40MTU1IDM0LjQwMiAxNC4zNzNMMjYuNDM2OCA5Ljc3Mjg5QzI2LjAzMzEgOS41MzY2NCAyNS41MzMxIDkuNTM2NjQgMjUuMTI4MSA5Ljc3Mjg5TDE1LjQwNDEgMTUuMzg4VjExLjUwMDRDMTUuNDAxNiAxMS40NjA0IDE1LjQyMDQgMTEuNDIxNyAxNS40NTE2IDExLjM5NjdMMjMuNTAzIDYuNzUxNThDMjcuMDg5NCA0LjY4Mjc5IDMxLjY3NDUgNS45MTQwNiAzMy43NDIgOS41MDE2NEMzNC42MTU4IDExLjAxNjcgMzQuOTMyIDEyLjc5MDUgMzQuNjM1OCAxNC41MTQySDM0LjYzODNaTTEzLjU3NDEgMjEuNDQzMUwxMC4yMDY1IDE5LjQ5OTRDMTAuMTcwMiAxOS40ODE5IDEwLjE0NjUgMTkuNDQ2OCAxMC4xNDE1IDE5LjQwNjhWMTAuMTA3OUMxMC4xNDQgNS45Njc4MSAxMy41MDI4IDIuNjEyNzQgMTcuNjQyOSAyLjYxNTI0QzE5LjM5NDIgMi42MTUyNCAyMS4wODkyIDMuMjMwMjUgMjIuNDM1NSA0LjM1MDI4QzIyLjM3NDMgNC4zODI3OCAyMi4yNjkzIDQuNDQxNTMgMjIuMTk5MiA0LjQ4NDAzTDE0LjIzNDEgOS4wODQxM0MxMy44MjY2IDkuMzE1MzggMTMuNTc2NiA5Ljc0Nzg5IDEzLjU3OTEgMTAuMjE2N0wxMy41NzQxIDIxLjQ0MDZWMjEuNDQzMVpNMTUuNDAyOSAxNy41MDA2TDE5LjczNDIgMTQuOTk5M0wyNC4wNjU1IDE3LjQ5OTNWMjIuNTAwN0wxOS43MzQyIDI1LjAwMDdMMTUuNDAyOSAyMi41MDA3VjE3LjUwMDZaIiBmaWxsPSIjN0Q3RDg3Ii8+Cjwvc3ZnPgo="
      },
      "displayName": "OpenAI Chat Model",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    },
    {
      "id": 1179,
      "icon": "fa:code",
      "name": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "codex": {
        "data": {
          "alias": [
            "json",
            "zod"
          ],
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.outputparserstructured/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Output Parsers"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Structured Output Parser"
      },
      "iconData": {
        "icon": "code",
        "type": "icon"
      },
      "displayName": "Structured Output Parser",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    }
  ],
  "views": 876,
  "recentViews": 1,
  "workflow": {
    "meta": {
      "instanceId": ""
    },
    "nodes": [
      {
        "id": "f24429ab-1276-4655-a3ef-1fbbb6d80602",
        "name": "Gmail Trigger",
        "type": "n8n-nodes-base.gmailTrigger",
        "position": [
          20,
          400
        ],
        "parameters": {
          "simple": false,
          "filters": {},
          "options": {
            "downloadAttachments": false
          },
          "pollTimes": {
            "item": [
              {
                "mode": "everyMinute"
              }
            ]
          }
        },
        "notesInFlow": true,
        "typeVersion": 1.2
      },
      {
        "id": "62ced604-4de3-4a6d-bbfe-b1c2f985117f",
        "name": "Structured Output Parser",
        "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
        "position": [
          560,
          560
        ],
        "parameters": {
          "jsonSchemaExample": "{\n  \"shipment_number\": \"15487-PLO\",\n  \"pickup_location\": \"Centre de Distribution Leclerc\",\n  \"pickup_address\": \"77 Rue Albert Garry, 94450 Limeil-Br√©vannes\",\n  \"expected_pickup_time\": \"24-09-2024, 09:00:00\",\n  \"temperature_control\": \"Chilled\",\n  \"quantity\": \"12 pallets\",\n  \"destination_store_name\": \"E.Leclerc Store 124\",\n  \"destination_address\": \"43-45 Quai Jules Guesde, 94405 Vitry-sur-Seine\",\n  \"expected_delivery_time\": \"24-09-2024, 18:00:00\",\n  \"sender_name\":\"Jacques Chirac\",\n  \"sender_company\": \"RPR\"\n}\n\n"
        },
        "typeVersion": 1.2
      },
      {
        "id": "767ee78a-d0ff-4399-bea1-4310aff116f7",
        "name": "AI Agent Parser",
        "type": "@n8n/n8n-nodes-langchain.agent",
        "position": [
          320,
          400
        ],
        "parameters": {
          "text": "=Here is an email from a customer requesting a shipment:\n\nSubject: {{ $json.subject }}\nBody: {{ $json.text }}\n\nPlease extract all the structured logistics data based on the format provided.",
          "options": {
            "systemMessage": "=You are a logistics assistant for a transportation company. \n\nYour job is to extract all structured data from shipping request emails sent by customers (typically retail chains like E.Leclerc). These emails contain information about the sender, shipment pickup and delivery details.\n\nReturn the result as a JSON object with the following fields:\n\n{\n  \"shipment_number\": \"\",\n  \"pickup_location\": \"\",\n  \"pickup_address\": \"\",\n  \"expected_pickup_time\": \"\",\n  \"temperature_control\": \"\",\n  \"quantity\": \"\",\n  \"destination_store_name\": \"\",\n  \"destination_address\": \"\",\n  \"expected_delivery_time\": \"\",\n  \"sender_name\": \"\",\n  \"sender_company\": \"\"\n}\n\nOnly include values mentioned explicitly in the email. Do not infer or guess. If a field is missing, set its value to `null`.\n"
          },
          "promptType": "define",
          "hasOutputParser": true
        },
        "typeVersion": 1.9
      },
      {
        "id": "8a0c7eb8-322b-47c1-8547-2afe0370f3fc",
        "name": "Record Email Content",
        "type": "n8n-nodes-base.googleSheets",
        "position": [
          820,
          440
        ],
        "parameters": {
          "columns": {
            "value": {
              "pickup_address": "={{ $json.output.pickup_address }}",
              "pickup_location": "={{ $json.output.pickup_location }}",
              "shipment_number": "={{ $json.output.shipment_number }}",
              "destination_address": "={{ $json.output.destination_address }}",
              "temperature_control": "={{ $json.output.temperature_control }}",
              "expected_pickup_time": "={{ $json.output.expected_pickup_time }}",
              "destination_store_name": "={{ $json.output.destination_store_name }}",
              "expected_delivery_time": "={{ $json.output.expected_delivery_time}}"
            },
            "schema": [
              {
                "id": "shipment_number",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "shipment_number",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "pickup_location",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "pickup_location",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "pickup_address",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "pickup_address",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "pickup_longitude",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "pickup_longitude",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "pickup_latitude",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "pickup_latitude",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "expected_pickup_time",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "expected_pickup_time",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "temperature_control",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "temperature_control",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "destination_store_name",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "destination_store_name",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "destination_address",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "destination_address",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "destination_longitude",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "destination_longitude",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "destination_latitude",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "destination_latitude",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "expected_delivery_time",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "expected_delivery_time",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "driving_distance",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "driving_distance",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "driving_time",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "driving_time",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              }
            ],
            "mappingMode": "defineBelow",
            "matchingColumns": [
              "shipment_number"
            ],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {},
          "operation": "appendOrUpdate",
          "sheetName": {
            "__rl": true,
            "mode": "list",
            "value": "gid=0",
            "cachedResultUrl": "",
            "cachedResultName": "Orders"
          },
          "documentId": {
            "__rl": true,
            "mode": "list",
            "value": "",
            "cachedResultUrl": "",
            "cachedResultName": "Transportation Orders"
          }
        },
        "notesInFlow": true,
        "typeVersion": 4.6
      },
      {
        "id": "b2c5c252-c464-4094-93c0-9c94ccd82b14",
        "name": "Collect Addresses",
        "type": "n8n-nodes-base.googleSheets",
        "position": [
          820,
          640
        ],
        "parameters": {
          "options": {},
          "filtersUI": {
            "values": [
              {
                "lookupValue": "={{ $json.output.shipment_number }}",
                "lookupColumn": "shipment_number"
              }
            ]
          },
          "sheetName": {
            "__rl": true,
            "mode": "list",
            "value": "gid=0",
            "cachedResultUrl": "",
            "cachedResultName": "Orders"
          },
          "documentId": {
            "__rl": true,
            "mode": "list",
            "value": "",
            "cachedResultUrl": "",
            "cachedResultName": "Transportation Orders"
          }
        },
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "ePnaAS4PG1sN2E50",
            "name": "Google Sheets LogiGreenBot"
          }
        },
        "notesInFlow": true,
        "typeVersion": 4.6
      },
      {
        "id": "840698a1-2f87-43d1-a6d3-27a107d4038b",
        "name": "5 sec",
        "type": "n8n-nodes-base.wait",
        "position": [
          1700,
          540
        ],
        "webhookId": "6ecebf96-14ed-4c7b-b467-eb48c143408e",
        "parameters": {},
        "typeVersion": 1.1
      },
      {
        "id": "82cc284e-14a4-45de-a463-511e2a70e182",
        "name": "Query Open Route API Pickup",
        "type": "n8n-nodes-base.httpRequest",
        "position": [
          1040,
          540
        ],
        "parameters": {
          "url": "https://api.openrouteservice.org/geocode/search",
          "options": {},
          "sendQuery": true,
          "sendHeaders": true,
          "queryParameters": {
            "parameters": [
              {
                "name": "api_key"
              },
              {
                "name": "text",
                "value": "={{ $json.pickup_address }}"
              },
              {
                "name": "boundary.country",
                "value": "=FR"
              },
              {
                "name": "sources",
                "value": "openstreetmap"
              },
              {
                "name": "size",
                "value": "1"
              }
            ]
          },
          "headerParameters": {
            "parameters": [
              {
                "name": "Content-Type",
                "value": "application/json; charset=utf-8"
              },
              {
                "name": "Accept",
                "value": "application/json, application/geo+json, application/gpx+xml, img/png; charset=utf-8"
              }
            ]
          }
        },
        "notesInFlow": true,
        "typeVersion": 4.2
      },
      {
        "id": "ba4f843c-f922-486d-944c-d9ea6655ccda",
        "name": "Save Pickup GPS",
        "type": "n8n-nodes-base.googleSheets",
        "position": [
          1480,
          540
        ],
        "parameters": {
          "columns": {
            "value": {
              "pickup_latitude": "={{ $json.latitude }}",
              "shipment_number": "={{ $('AI Agent Parser').item.json.output.shipment_number }}",
              "pickup_longitude": "={{ $json.longitude }}"
            },
            "schema": [
              {
                "id": "shipment_number",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "shipment_number",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "pickup_location",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "pickup_location",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "pickup_address",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "pickup_address",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "pickup_longitude",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "pickup_longitude",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "pickup_latitude",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "pickup_latitude",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "expected_pickup_time",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "expected_pickup_time",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "temperature_control",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "temperature_control",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "destination_store_name",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "destination_store_name",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "destination_address",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "destination_address",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "destination_longitude",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "destination_longitude",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "destination_latitude",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "destination_latitude",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "expected_delivery_time",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "expected_delivery_time",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "driving_distance",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "driving_distance",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "driving_time",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "driving_time",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "row_number",
                "type": "string",
                "display": true,
                "removed": true,
                "readOnly": true,
                "required": false,
                "displayName": "row_number",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              }
            ],
            "mappingMode": "defineBelow",
            "matchingColumns": [
              "shipment_number"
            ],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {},
          "operation": "update",
          "sheetName": {
            "__rl": true,
            "mode": "list",
            "value": "gid=0",
            "cachedResultUrl": "",
            "cachedResultName": "Orders"
          },
          "documentId": {
            "__rl": true,
            "mode": "list",
            "value": "",
            "cachedResultUrl": "",
            "cachedResultName": "Transportation Orders"
          }
        },
        "notesInFlow": true,
        "typeVersion": 4.6
      },
      {
        "id": "e87c8abb-34b4-41c2-8c4a-139248d41a20",
        "name": "GPS Pickup",
        "type": "n8n-nodes-base.set",
        "position": [
          1260,
          540
        ],
        "parameters": {
          "options": {},
          "assignments": {
            "assignments": [
              {
                "id": "e4c92077-f294-4e49-8276-20d1441c0c2c",
                "name": "longitude",
                "type": "string",
                "value": "={{ $json.features[0].geometry.coordinates[0] }}"
              },
              {
                "id": "899e5304-e7a1-4ce1-bf9a-f403d74934fb",
                "name": "latitude",
                "type": "string",
                "value": "={{ $json.features[0].geometry.coordinates[1] }}"
              },
              {
                "id": "5b35642b-dda4-42b8-b7bb-1275616bfb59",
                "name": "borough",
                "type": "string",
                "value": "={{ $json.features[0].properties.borough }}"
              },
              {
                "id": "aa74bd9a-f543-48e1-a69b-0e6472bda053",
                "name": "neighbourhood",
                "type": "string",
                "value": "={{ $json.features[0].properties.neighbourhood }}"
              },
              {
                "id": "7f303dc8-4e28-4d46-8e3e-9db00dbcac3a",
                "name": "localadmin",
                "type": "string",
                "value": "={{ $json.features[0].properties.localadmin }}"
              }
            ]
          }
        },
        "notesInFlow": true,
        "typeVersion": 3.4
      },
      {
        "id": "556c1a60-e086-47a2-bafe-2aa3646c7846",
        "name": "Query Open Route API Delivery",
        "type": "n8n-nodes-base.httpRequest",
        "position": [
          1040,
          740
        ],
        "parameters": {
          "url": "https://api.openrouteservice.org/geocode/search",
          "options": {},
          "sendQuery": true,
          "sendHeaders": true,
          "queryParameters": {
            "parameters": [
              {
                "name": "api_key"
              },
              {
                "name": "text",
                "value": "={{ $json.destination_address }}"
              },
              {
                "name": "boundary.country",
                "value": "=FR"
              },
              {
                "name": "sources",
                "value": "openstreetmap"
              },
              {
                "name": "size",
                "value": "1"
              }
            ]
          },
          "headerParameters": {
            "parameters": [
              {
                "name": "Content-Type",
                "value": "application/json; charset=utf-8"
              },
              {
                "name": "Accept",
                "value": "application/json, application/geo+json, application/gpx+xml, img/png; charset=utf-8"
              }
            ]
          }
        },
        "notesInFlow": true,
        "typeVersion": 4.2
      },
      {
        "id": "dd81a2cb-fe60-4e3c-95c7-08b89b111ad8",
        "name": "GPS Delivery",
        "type": "n8n-nodes-base.set",
        "position": [
          1260,
          740
        ],
        "parameters": {
          "options": {},
          "assignments": {
            "assignments": [
              {
                "id": "e4c92077-f294-4e49-8276-20d1441c0c2c",
                "name": "longitude",
                "type": "string",
                "value": "={{ $json.features[0].geometry.coordinates[0] }}"
              },
              {
                "id": "899e5304-e7a1-4ce1-bf9a-f403d74934fb",
                "name": "latitude",
                "type": "string",
                "value": "={{ $json.features[0].geometry.coordinates[1] }}"
              },
              {
                "id": "5b35642b-dda4-42b8-b7bb-1275616bfb59",
                "name": "borough",
                "type": "string",
                "value": "={{ $json.features[0].properties.borough }}"
              },
              {
                "id": "aa74bd9a-f543-48e1-a69b-0e6472bda053",
                "name": "neighbourhood",
                "type": "string",
                "value": "={{ $json.features[0].properties.neighbourhood }}"
              },
              {
                "id": "7f303dc8-4e28-4d46-8e3e-9db00dbcac3a",
                "name": "localadmin",
                "type": "string",
                "value": "={{ $json.features[0].properties.localadmin }}"
              }
            ]
          }
        },
        "notesInFlow": true,
        "typeVersion": 3.4
      },
      {
        "id": "652c3a8f-9e47-4386-a932-be99a94e72bd",
        "name": "Save Delivery GPS",
        "type": "n8n-nodes-base.googleSheets",
        "position": [
          1480,
          740
        ],
        "parameters": {
          "columns": {
            "value": {
              "shipment_number": "={{ $('AI Agent Parser').item.json.output.shipment_number }}",
              "destination_latitude": "={{ $json.latitude }}",
              "destination_longitude": "={{ $json.longitude }}"
            },
            "schema": [
              {
                "id": "shipment_number",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "shipment_number",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "pickup_location",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "pickup_location",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "pickup_address",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "pickup_address",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "pickup_longitude",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "pickup_longitude",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "pickup_latitude",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "pickup_latitude",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "expected_pickup_time",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "expected_pickup_time",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "temperature_control",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "temperature_control",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "destination_store_name",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "destination_store_name",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "destination_address",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "destination_address",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "destination_longitude",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "destination_longitude",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "destination_latitude",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "destination_latitude",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "expected_delivery_time",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "expected_delivery_time",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "driving_distance",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "driving_distance",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "driving_time",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "driving_time",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "row_number",
                "type": "string",
                "display": true,
                "removed": true,
                "readOnly": true,
                "required": false,
                "displayName": "row_number",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              }
            ],
            "mappingMode": "defineBelow",
            "matchingColumns": [
              "shipment_number"
            ],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {},
          "operation": "update",
          "sheetName": {
            "__rl": true,
            "mode": "list",
            "value": "gid=0",
            "cachedResultUrl": "",
            "cachedResultName": "Orders"
          },
          "documentId": {
            "__rl": true,
            "mode": "list",
            "value": "",
            "cachedResultUrl": "",
            "cachedResultName": "Transportation Orders"
          }
        },
        "notesInFlow": true,
        "typeVersion": 4.6
      },
      {
        "id": "0d31ad24-c3b3-42bb-b98a-ad443005341a",
        "name": "Collect Coordinates",
        "type": "n8n-nodes-base.googleSheets",
        "position": [
          820,
          940
        ],
        "parameters": {
          "options": {},
          "filtersUI": {
            "values": [
              {
                "lookupValue": "={{ $json.output.shipment_number }}",
                "lookupColumn": "shipment_number"
              }
            ]
          },
          "sheetName": {
            "__rl": true,
            "mode": "list",
            "value": "gid=0",
            "cachedResultUrl": "",
            "cachedResultName": "Orders"
          },
          "documentId": {
            "__rl": true,
            "mode": "list",
            "value": "",
            "cachedResultUrl": "",
            "cachedResultName": "Transportation Orders"
          }
        },
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "ePnaAS4PG1sN2E50",
            "name": "Google Sheets LogiGreenBot"
          }
        },
        "notesInFlow": true,
        "typeVersion": 4.6
      },
      {
        "id": "f813ecde-ea6e-4780-9bae-2be7e171419d",
        "name": "Request Open Route API",
        "type": "n8n-nodes-base.httpRequest",
        "position": [
          1040,
          940
        ],
        "parameters": {
          "url": "https://api.openrouteservice.org/v2/directions/driving-hgv",
          "options": {
            "response": {
              "response": {
                "responseFormat": "json"
              }
            }
          },
          "sendQuery": true,
          "sendHeaders": true,
          "queryParameters": {
            "parameters": [
              {
                "name": "api_key"
              },
              {
                "name": "start",
                "value": "={{ $json.pickup_longitude }}, {{ $json.pickup_latitude }}"
              },
              {
                "name": "end",
                "value": "={{ $json.destination_longitude }}, {{ $json.destination_latitude }}"
              }
            ]
          },
          "headerParameters": {
            "parameters": [
              {
                "name": "Content-Type",
                "value": "application/json; charset=utf-8"
              },
              {
                "name": "Accept",
                "value": "application/json, application/geo+json, application/gpx+xml, img/png; charset=utf-8"
              }
            ]
          }
        },
        "notesInFlow": true,
        "typeVersion": 4.2
      },
      {
        "id": "f9fb4321-398f-439e-832a-531245cad968",
        "name": "Save Results",
        "type": "n8n-nodes-base.googleSheets",
        "position": [
          1480,
          940
        ],
        "parameters": {
          "columns": {
            "value": {
              "driving_time": "={{ $json.duration }}",
              "shipment_number": "={{ $('AI Agent Parser').item.json.output.shipment_number }}",
              "driving_distance": "={{ $json.distance }}"
            },
            "schema": [
              {
                "id": "shipment_number",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "shipment_number",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "pickup_location",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "pickup_location",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "pickup_address",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "pickup_address",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "pickup_longitude",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "pickup_longitude",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "pickup_latitude",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "pickup_latitude",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "expected_pickup_time",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "expected_pickup_time",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "temperature_control",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "temperature_control",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "destination_store_name",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "destination_store_name",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "destination_address",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "destination_address",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "destination_longitude",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "destination_longitude",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "destination_latitude",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "destination_latitude",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "expected_delivery_time",
                "type": "string",
                "display": true,
                "removed": true,
                "required": false,
                "displayName": "expected_delivery_time",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "driving_distance",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "driving_distance",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "driving_time",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "driving_time",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "row_number",
                "type": "string",
                "display": true,
                "removed": true,
                "readOnly": true,
                "required": false,
                "displayName": "row_number",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              }
            ],
            "mappingMode": "defineBelow",
            "matchingColumns": [
              "shipment_number"
            ],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {},
          "operation": "update",
          "sheetName": {
            "__rl": true,
            "mode": "list",
            "value": "gid=0",
            "cachedResultUrl": "",
            "cachedResultName": "Orders"
          },
          "documentId": {
            "__rl": true,
            "mode": "list",
            "value": "17wbroY0w6xmw8AT-p2c_n1WbHzmfesz6d1DJbp39fn8",
            "cachedResultUrl": "",
            "cachedResultName": "Transportation Orders"
          }
        },
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "ePnaAS4PG1sN2E50",
            "name": "Google Sheets LogiGreenBot"
          }
        },
        "notesInFlow": true,
        "typeVersion": 4.6
      },
      {
        "id": "ac878430-fe68-42ee-9b0b-20ad9a245d9b",
        "name": "Collect Shipment Information",
        "type": "n8n-nodes-base.googleSheets",
        "position": [
          800,
          1520
        ],
        "parameters": {
          "options": {},
          "filtersUI": {
            "values": [
              {
                "lookupValue": "={{ $json.output.shipment_number }}",
                "lookupColumn": "shipment_number"
              }
            ]
          },
          "sheetName": {
            "__rl": true,
            "mode": "list",
            "value": "gid=0",
            "cachedResultUrl": "",
            "cachedResultName": "Orders"
          },
          "documentId": {
            "__rl": true,
            "mode": "list",
            "value": "",
            "cachedResultUrl": "",
            "cachedResultName": "Transportation Orders"
          }
        },
        "notesInFlow": true,
        "typeVersion": 4.6
      },
      {
        "id": "21631974-c8a7-4b0c-a19b-3edcf2682200",
        "name": "Driving Time & Distance",
        "type": "n8n-nodes-base.set",
        "position": [
          1260,
          940
        ],
        "parameters": {
          "options": {},
          "assignments": {
            "assignments": [
              {
                "id": "4d0acd1a-c049-4353-9fb7-8eb08c138b9c",
                "name": "distance",
                "type": "string",
                "value": "={{ ($json.features[0].properties.segments[0].distance.round()/1000).toFixed(2) }}"
              },
              {
                "id": "2a6ff46a-f620-4dad-a60a-018b8add76d5",
                "name": "duration",
                "type": "string",
                "value": "={{ ($json.features[0].properties.segments[0].duration/60).toFixed(2) }}"
              },
              {
                "id": "de20932f-4eb5-4372-ad6d-64679df104cb",
                "name": "n_steps",
                "type": "number",
                "value": "={{ $json.features[0].properties.segments[0].steps.length }}"
              }
            ]
          }
        },
        "notesInFlow": true,
        "typeVersion": 3.4
      },
      {
        "id": "aad7e5f3-5eae-4be1-beb5-e57f7723086f",
        "name": "OpenAI Chat Model",
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "position": [
          940,
          1660
        ],
        "parameters": {
          "model": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4o-mini"
          },
          "options": {}
        },
        "typeVersion": 1.2
      },
      {
        "id": "a73dfa1c-4f4e-4cab-950d-91021fc28c5d",
        "name": "AI Agent Reply",
        "type": "@n8n/n8n-nodes-langchain.agent",
        "position": [
          1000,
          1520
        ],
        "parameters": {
          "text": "=Here is the output:\n\n- Shipment Number: {{ $json.shipment_number }}\n- Pickup Location: {{ $json.pickup_location }}\n- Pickup Address: {{ $json.pickup_address }}  \n- Expected Pickup Time: {{ $json.expected_pickup_time }}  \n- Temperature Control: {{ $json.temperature_control }}  \n- Destination: {{ $json.destination_store_name }} \n- Destination Address: {{ $json.destination_address }}\n- Expected Delivery Time: {{ $json.expected_delivery_time }} \n- Driving Distance: {{ $json.driving_distance }} km\n- Estimated Transit Time: {{ $json.driving_time }} min\n- Contact Name: {{ $('AI Agent Parser').item.json.output.sender_name }}\n- Contact Company: {{ $('AI Agent Parser').item.json.output.sender_company }}\n",
          "options": {
            "systemMessage": "=You are a logistics assistant working for a transportation company. Your job is to write polite and professional response confirming shipment planification to retail customers.\n\nYour tone should be clear, efficient, and customer-friendly. Keep it concise and formal.\n\nThe confirmation must repeat the key shipment details to avoid confusion and should reassure the customer that the transport has been scheduled.\n\nDo not invent details ‚Äî only use the provided data. The email must be in **English**.\n\n‚ö†Ô∏è Always format the result in **HTML**, not plain text or Markdown. Use proper HTML tags like `<p>`, `<strong>`, `<br>`, and `<ul><li>` where needed.\n\nYou do not need to add a subject, just the body.\n\nAbout you\n[Name]: LogiGreen Bot\n[Position]: Transportation Planner\n[Company]: LogiGreen Transportation\n[Contact]: logigreenbot@gmail.com\n\n"
          },
          "promptType": "define"
        },
        "typeVersion": 1.9
      },
      {
        "id": "4d83c51c-b124-4732-9757-6b5490002425",
        "name": "Reply",
        "type": "n8n-nodes-base.gmail",
        "position": [
          1340,
          1520
        ],
        "webhookId": "2b6b8447-1f25-4ceb-8c5f-e14f6b6f425a",
        "parameters": {
          "message": "={{ $json.output }}",
          "options": {},
          "messageId": "={{ $('Gmail Trigger').item.json.id }}",
          "operation": "reply"
        },
        "notesInFlow": true,
        "typeVersion": 2.1
      },
      {
        "id": "958e7446-0078-4823-a696-eca00fa6c3fb",
        "name": "Sticky Note",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          780,
          0
        ],
        "parameters": {
          "color": 7,
          "width": 1040,
          "height": 1100,
          "content": "### 3. Record Shipment Request Information and fetch distance and driving time using Open Route API\nThis starts by recording all the information parsed by the AI node. Then, we use the **Open Route API** to complete with **geocoding data** *(GPS Coordinates)* that will be used to fetch **driving distance and time**.\n\n#### How to setup?\n- **Setup API Credentials**\n  1. Get your free API key: [Open Route API Documentation](https://openrouteservice.org/dev/#/api-docs)\n  2. Fill the API key in the HTTP request node\n  3. Select the driving mode (**driving-car**: individual truck) or (**driving-hgv**: commercial truck)\n- **Load records in the Google Sheet Node**:\n   1. Add your Google Sheet API credentials to access the Google Sheet file\n   2. Select the file using the list, an URL or an ID\n   3. Select the sheet in which you want to record your working sessions\n   4. Map the fields: **shipment_number**, **pickup_location**, **pickup_address**, **pickup_longitude**, **pickup_latitude**, **expected_pickup_time**,\t**temperature_control**, **destination_store_name**, **destination_address**, **destination_longitude**, **destination_latitude**, **expected_delivery_time**, **driving_distance**, **driving_time**\t\t\t\t\t\t\t\t\t\t\t\t\t\n  [Learn more about the Google Sheet Node](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googlesheets)\n\nLongitudes, latitudes, distance and time will be fetched from the **Open Route API**.\n"
        },
        "typeVersion": 1
      },
      {
        "id": "1ef6e4fd-67a2-4d07-a6a8-294456fc3fad",
        "name": "Sticky Note1",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          0,
          0
        ],
        "parameters": {
          "color": 7,
          "width": 180,
          "height": 700,
          "content": "### 1. Workflow Trigger with Gmail Trigger\nThe workflow is triggered by a new email received in your Gmail mailbox dedicated to process **shipment request**.\n\n#### How to setup?\n- **Gmail Trigger Node:** set up your Gmail API credentials\n[Learn more about the Gmail Trigger Node](https://docs.n8n.io/integrations/builtin/trigger-nodes/n8n-nodes-base.gmailtrigger)\n"
        },
        "typeVersion": 1
      },
      {
        "id": "c470fc5f-b74b-4b3f-b9bd-6e52220f9159",
        "name": "Sticky Note2",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          200,
          0
        ],
        "parameters": {
          "color": 7,
          "width": 560,
          "height": 700,
          "content": "### 2. AI Agent to parse shipment information from email\nThis node will analyze the content of the email to extract information about the **sender** *(name, company)* and the **shipment** *(departure, arrival, timing and locations)*.\n\n#### How to setup?\n- **AI Agent with the Chat Model**:\n   1. Add a **chat model** with the required credentials *(Example: Open AI 4o-mini)*\n   2. Adapt the system prompt to the format of emails you expect to receive *(type of information included)*\n  [Learn more about the AI Agent Node](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent)\n"
        },
        "typeVersion": 1
      },
      {
        "id": "80ed9218-8c59-4b1b-b3a6-f97f2ece11c8",
        "name": "OpenAI Chat Model2",
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "position": [
          240,
          560
        ],
        "parameters": {
          "model": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4o-mini"
          },
          "options": {}
        },
        "typeVersion": 1.2
      },
      {
        "id": "30592283-3d1e-4f41-b18f-55e4dd87457e",
        "name": "Sticky Note3",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          780,
          1120
        ],
        "parameters": {
          "color": 7,
          "width": 680,
          "height": 720,
          "content": "### 4. Reply with a confirmation of shipment allocation\nWe first collect all the information from the **Google Sheets** that will be used by the AI Agent to generate a reply by email.\n#### How to setup?\n- **Load records in the Google Sheet Node**:\n   1. Add your Google Sheet API credentials to access the Google Sheet file\n   2. Select the file using the list, an URL or an ID\n   3. Select the sheet in which you want to record your working sessions\t\t\t\t\t\t\t\t\t\t\t\n  [Learn more about the Google Sheet Node](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googlesheets)\n- **AI Agent with the Chat Model**:\n   1. Add a **chat model** with the required credentials *(Example: Open AI 4o-mini)*\n   2. Adapt the system prompt with your company information **(name, contact, position)**\n  [Learn more about the AI Agent Node](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent)\n\n"
        },
        "typeVersion": 1
      },
      {
        "id": "7cce6421-6771-4cdf-a8aa-6454c6a4e27f",
        "name": "Sticky Note4",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          0,
          720
        ],
        "parameters": {
          "width": 580,
          "height": 380,
          "content": "### [Check the Tutorial](https://youtu.be/0InkUBOUMQQ)\n![Thumbnail](https://www.samirsaci.com/content/images/2025/06/temp.png)"
        },
        "typeVersion": 1
      }
    ],
    "pinData": {},
    "connections": {
      "GPS Pickup": {
        "main": [
          [
            {
              "node": "Save Pickup GPS",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "GPS Delivery": {
        "main": [
          [
            {
              "node": "Save Delivery GPS",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Gmail Trigger": {
        "main": [
          [
            {
              "node": "AI Agent Parser",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "AI Agent Reply": {
        "main": [
          [
            {
              "node": "Reply",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "AI Agent Parser": {
        "main": [
          [
            {
              "node": "Collect Coordinates",
              "type": "main",
              "index": 0
            },
            {
              "node": "Record Email Content",
              "type": "main",
              "index": 0
            },
            {
              "node": "Collect Addresses",
              "type": "main",
              "index": 0
            },
            {
              "node": "Collect Shipment Information",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Save Pickup GPS": {
        "main": [
          [
            {
              "node": "5 sec",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Collect Addresses": {
        "main": [
          [
            {
              "node": "Query Open Route API Pickup",
              "type": "main",
              "index": 0
            },
            {
              "node": "Query Open Route API Delivery",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "OpenAI Chat Model": {
        "ai_languageModel": [
          [
            {
              "node": "AI Agent Reply",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "OpenAI Chat Model2": {
        "ai_languageModel": [
          [
            {
              "node": "AI Agent Parser",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "Collect Coordinates": {
        "main": [
          [
            {
              "node": "Request Open Route API",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Request Open Route API": {
        "main": [
          [
            {
              "node": "Driving Time & Distance",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Driving Time & Distance": {
        "main": [
          [
            {
              "node": "Save Results",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Structured Output Parser": {
        "ai_outputParser": [
          [
            {
              "node": "AI Agent Parser",
              "type": "ai_outputParser",
              "index": 0
            }
          ]
        ]
      },
      "Query Open Route API Pickup": {
        "main": [
          [
            {
              "node": "GPS Pickup",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Collect Shipment Information": {
        "main": [
          [
            {
              "node": "AI Agent Reply",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Query Open Route API Delivery": {
        "main": [
          [
            {
              "node": "GPS Delivery",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    }
  },
  "lastUpdatedBy": 29,
  "workflowInfo": {
    "nodeCount": 26,
    "nodeTypes": {
      "n8n-nodes-base.set": {
        "count": 3
      },
      "n8n-nodes-base.wait": {
        "count": 1
      },
      "n8n-nodes-base.gmail": {
        "count": 1
      },
      "n8n-nodes-base.stickyNote": {
        "count": 5
      },
      "n8n-nodes-base.httpRequest": {
        "count": 3
      },
      "n8n-nodes-base.gmailTrigger": {
        "count": 1
      },
      "n8n-nodes-base.googleSheets": {
        "count": 7
      },
      "@n8n/n8n-nodes-langchain.agent": {
        "count": 2
      },
      "@n8n/n8n-nodes-langchain.lmChatOpenAi": {
        "count": 2
      },
      "@n8n/n8n-nodes-langchain.outputParserStructured": {
        "count": 1
      }
    }
  },
  "categories": [
    {
      "id": 41,
      "name": "Ticket Management"
    },
    {
      "id": 49,
      "name": "AI Summarization"
    }
  ],
  "image": []
}