{
  "id": 5459,
  "name": "AI-Powered Telegram Trivia Bot with Auto Question Generation & User Management",
  "totalViews": 1559,
  "price": 0,
  "purchaseUrl": null,
  "user": {
    "name": "Luka Zivkovic",
    "username": "zivkovic58",
    "bio": "",
    "verified": true,
    "links": [],
    "avatar": "https://gravatar.com/avatar/264b4523dccf25e81a9a317123ec8e377ecedc880258d79732e08c5ede641e8d?r=pg&d=retro&size=200"
  },
  "description": "## Complete Telegram Trivia Bot with AI Question Generation\n\nBuild a fully-featured **Telegram trivia bot** that automatically generates fresh questions daily using **OpenAI** and tracks user progress with **NocoDB**. Perfect for communities, education, or entertainment!\n\n## ‚ú® Key Features\n\n- ü§ñ **AI Question Generation**: Automatically creates 40+ new trivia questions daily across 8 categories\n- üìä **Smart User Management**: Tracks scores, prevents question repeats, maintains leaderboards\n- üéÆ **Game Mechanics**: Star-based difficulty scoring, answer history, progress tracking\n- üèÜ **Competitive Elements**: Real-time leaderboards with emoji rankings and user positioning\n- üõ°Ô∏è **Robust Architecture**: Error handling, state management, and data validation\n\n## üöÄ Perfect For\n\n- **Community Engagement**: Keep Telegram groups active with daily trivia challenges\n- **Educational Content**: Create learning experiences with categorized questions\n- **Business Applications**: Employee training, customer engagement, lead generation\n- **Personal Projects**: Learn n8n automation while building something fun\n\n## üì± Supported Commands\n\n- `/start` - Welcome new users with setup instructions\n- `/question` - Get personalized trivia questions (never repeats correctly answered ones)\n- `/score` - View current points and statistics\n- `/leaderboard` - See top 10 players with rankings\n- `/stats` - Detailed accuracy and performance metrics\n- `/help` - Complete command reference\n\n## üîß How It Works\n\n**User Journey:**\n1. User sends `/question` command to bot\n2. System checks their answer history to avoid repeats\n3. Displays fresh question with multiple choice options\n4. Processes answer, updates score based on difficulty stars\n5. Saves complete answer history for future filtering\n\n**AI Content Pipeline:**\n1. Daily scheduler triggers question generation\n2. OpenAI creates 5 questions per category (8 categories total)\n3. Questions automatically saved to NocoDB with difficulty ratings\n4. Content includes explanations and proper formatting\n\n## üõ†Ô∏è Set Up Steps\n\n**Prerequisites:**\n- [n8n instance](https://n8n.partnerlinks.io/ds9podzjls6d) (cloud or self-hosted)\n- NocoDB database (free tier works)\n- OpenAI API key (Not required if you want to add questions yourself)\n- Telegram bot token\n\n**Database Setup:**\nCreate 3 NocoDB tables with the exact field specifications provided in the sticky notes. The workflow includes complete schema documentation.\n\n**Configuration Time:** ~15 minutes for database setup + API keys\n\n**Detailed Setup Instructions:**\nAll setup steps, database schemas, and configuration details are documented in the workflow's sticky notes for easy implementation.\n\n## üìà Advanced Features\n\n- **Question History Tracking**: Users never see correctly answered questions again\n- **Difficulty-Based Scoring**: 1-5 star rating system with corresponding points\n- **Category Management**: 8 different trivia categories for variety\n- **State Management**: Proper game flow with idle/waiting states\n- **Error Handling**: Graceful fallbacks for all edge cases\n- **Scalable Architecture**: Supports unlimited concurrent users\n\n## üéØ Business Applications\n\n- **Lead Generation**: Capture user data through engaging trivia\n- **Employee Training**: Create custom questions for onboarding\n- **Customer Engagement**: Keep users active in your Telegram community\n- **Educational Tools**: Subject-specific learning with progress tracking\n- **Event Activation**: Conferences, workshops, or team building\n\n## üí° Customization Options\n\n- Modify question categories for your niche\n- Adjust scoring systems and difficulty levels\n- Add custom commands and features\n- Integrate with other platforms or APIs\n- Create specialized question sets\n\n## üîó Get Started\n\nReady to build your own AI-powered trivia bot? Start with [n8n](https://n8n.partnerlinks.io/ds9podzjls6d) and follow the comprehensive setup guide included in this workflow template.\n\n**Next Steps:**\n1. Import this workflow template\n2. Follow the database setup instructions in sticky notes\n3. Configure your API credentials\n4. Test with sample questions\n5. Launch your trivia bot!\n\nTurn your friend group into trivia champions with AI-generated questions that spark friendly competition!",
  "createdAt": "2025-06-29T20:19:24.617Z",
  "nodes": [
    {
      "id": 20,
      "icon": "fa:map-signs",
      "name": "n8n-nodes-base.if",
      "codex": {
        "data": {
          "alias": [
            "Router",
            "Filter",
            "Condition",
            "Logic",
            "Boolean",
            "Branch"
          ],
          "details": "The IF node can be used to implement binary conditional logic in your workflow. You can set up one-to-many conditions to evaluate each item of data being inputted into the node. That data will either evaluate to TRUE or FALSE and route out of the node accordingly.\n\nThis node has multiple types of conditions: Bool, String, Number, and Date & Time.",
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                "icon": "üè≠",
                "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
              },
              {
                "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                "icon": "‚òÄÔ∏è",
                "label": "2021: The Year to Automate the New You with n8n"
              },
              {
                "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                "icon": "üß¨",
                "label": "Why business process automation with n8n can change your daily life"
              },
              {
                "url": "https://n8n.io/blog/create-a-toxic-language-detector-for-telegram/",
                "icon": "ü§¨",
                "label": "Create a toxic language detector for Telegram in 4 step"
              },
              {
                "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                "icon": "store",
                "label": "6 e-commerce workflows to power up your Shopify s"
              },
              {
                "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                "icon": "üîó",
                "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
              },
              {
                "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                "icon": "‚öôÔ∏è",
                "label": "Automate your data processing pipeline in 9 steps"
              },
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "üë•",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                "icon": "‚ö°Ô∏è",
                "label": "5 tasks you can automate with the new Notion API "
              },
              {
                "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                "icon": "üí°",
                "label": "15 Google apps you can combine and automate to increase productivity"
              },
              {
                "url": "https://n8n.io/blog/automation-for-maintainers-of-open-source-projects/",
                "icon": "üè∑Ô∏è",
                "label": "How to automatically manage contributions to open-source projects"
              },
              {
                "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                "icon": " üï∏Ô∏è",
                "label": "How uProc scraped a multi-page website with a low-code workflow"
              },
              {
                "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                "icon": "ü§ñ",
                "label": "5 workflow automations for Mattermost that we love at n8n"
              },
              {
                "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                "icon": "üß†",
                "label": "Why this Product Manager loves workflow automation with n8n"
              },
              {
                "url": "https://n8n.io/blog/sending-automated-congratulations-with-google-sheets-twilio-and-n8n/",
                "icon": "üôå",
                "label": "Sending Automated Congratulations with Google Sheets, Twilio, and n8n "
              },
              {
                "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                "icon": "üé°",
                "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
              },
              {
                "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                "icon": "üéñ",
                "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.if/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Flow"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "If",
        "color": "#408000"
      },
      "iconData": {
        "icon": "map-signs",
        "type": "icon"
      },
      "displayName": "If",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 24,
      "icon": "file:merge.svg",
      "name": "n8n-nodes-base.merge",
      "codex": {
        "data": {
          "alias": [
            "Join",
            "Concatenate",
            "Wait"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/how-to-sync-data-between-two-systems/",
                "icon": "üè¨",
                "label": "How to synchronize data between two systems (one-way vs. two-way sync"
              },
              {
                "url": "https://n8n.io/blog/supercharging-your-conference-registration-process-with-n8n/",
                "icon": "üé´",
                "label": "Supercharging your conference registration process with n8n"
              },
              {
                "url": "https://n8n.io/blog/migrating-community-metrics-to-orbit-using-n8n/",
                "icon": "üìà",
                "label": "Migrating Community Metrics to Orbit using n8n"
              },
              {
                "url": "https://n8n.io/blog/build-your-own-virtual-assistant-with-n8n-a-step-by-step-guide/",
                "icon": "üë¶",
                "label": "Build your own virtual assistant with n8n: A step by step guide"
              },
              {
                "url": "https://n8n.io/blog/sending-automated-congratulations-with-google-sheets-twilio-and-n8n/",
                "icon": "üôå",
                "label": "Sending Automated Congratulations with Google Sheets, Twilio, and n8n "
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.merge/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Flow",
              "Data Transformation"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Merge"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xMTc3XzUxOCkiPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTAgNDhDMCAyMS40OTAzIDIxLjQ5MDMgMCA0OCAwSDExMkMxMzguNTEgMCAxNjAgMjEuNDkwMyAxNjAgNDhWNTZIMTk2LjI1MkMyNDAuNDM1IDU2IDI3Ni4yNTIgOTEuODE3MiAyNzYuMjUyIDEzNlYxOTJDMjc2LjI1MiAyMTQuMDkxIDI5NC4xNjEgMjMyIDMxNi4yNTIgMjMySDM1MlYyMjRDMzUyIDE5Ny40OSAzNzMuNDkgMTc2IDQwMCAxNzZINDY0QzQ5MC41MSAxNzYgNTEyIDE5Ny40OSA1MTIgMjI0VjI4OEM1MTIgMzE0LjUxIDQ5MC41MSAzMzYgNDY0IDMzNkg0MDBDMzczLjQ5IDMzNiAzNTIgMzE0LjUxIDM1MiAyODhWMjgwSDMxNi4yNTJDMjk0LjE2MSAyODAgMjc2LjI1MiAyOTcuOTA5IDI3Ni4yNTIgMzIwVjM3NkMyNzYuMjUyIDQyMC4xODMgMjQwLjQzNSA0NTYgMTk2LjI1MiA0NTZIMTYwVjQ2NEMxNjAgNDkwLjUxIDEzOC41MSA1MTIgMTEyIDUxMkg0OEMyMS40OTAzIDUxMiAwIDQ5MC41MSAwIDQ2NFY0MDBDMCAzNzMuNDkgMjEuNDkwMyAzNTIgNDggMzUySDExMkMxMzguNTEgMzUyIDE2MCAzNzMuNDkgMTYwIDQwMFY0MDhIMTk2LjI1MkMyMTMuOTI1IDQwOCAyMjguMjUyIDM5My42NzMgMjI4LjI1MiAzNzZWMzIwQzIyOC4yNTIgMjk0Ljc4NCAyMzguODU5IDI3Mi4wNDQgMjU1Ljg1MyAyNTZDMjM4Ljg1OSAyMzkuOTU2IDIyOC4yNTIgMjE3LjIxNiAyMjguMjUyIDE5MlYxMzZDMjI4LjI1MiAxMTguMzI3IDIxMy45MjUgMTA0IDE5Ni4yNTIgMTA0SDE2MFYxMTJDMTYwIDEzOC41MSAxMzguNTEgMTYwIDExMiAxNjBINDhDMjEuNDkwMyAxNjAgMCAxMzguNTEgMCAxMTJWNDhaTTEwNCA0OEMxMDguNDE4IDQ4IDExMiA1MS41ODE3IDExMiA1NlYxMDRDMTEyIDEwOC40MTggMTA4LjQxOCAxMTIgMTA0IDExMkg1NkM1MS41ODE3IDExMiA0OCAxMDguNDE4IDQ4IDEwNFY1NkM0OCA1MS41ODE3IDUxLjU4MTcgNDggNTYgNDhIMTA0Wk00NTYgMjI0QzQ2MC40MTggMjI0IDQ2NCAyMjcuNTgyIDQ2NCAyMzJWMjgwQzQ2NCAyODQuNDE4IDQ2MC40MTggMjg4IDQ1NiAyODhINDA4QzQwMy41ODIgMjg4IDQwMCAyODQuNDE4IDQwMCAyODBWMjMyQzQwMCAyMjcuNTgyIDQwMy41ODIgMjI0IDQwOCAyMjRINDU2Wk0xMTIgNDA4QzExMiA0MDMuNTgyIDEwOC40MTggNDAwIDEwNCA0MDBINTZDNTEuNTgxNyA0MDAgNDggNDAzLjU4MiA0OCA0MDhWNDU2QzQ4IDQ2MC40MTggNTEuNTgxNyA0NjQgNTYgNDY0SDEwNEMxMDguNDE4IDQ2NCAxMTIgNDYwLjQxOCAxMTIgNDU2VjQwOFoiIGZpbGw9IiM1NEI4QzkiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xMTc3XzUxOCI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="
      },
      "displayName": "Merge",
      "typeVersion": 3,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 49,
      "icon": "file:telegram.svg",
      "name": "n8n-nodes-base.telegram",
      "codex": {
        "data": {
          "alias": [
            "human",
            "form",
            "wait",
            "hitl",
            "approval"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                "icon": "üß¨",
                "label": "Why business process automation with n8n can change your daily life"
              },
              {
                "url": "https://n8n.io/blog/create-a-toxic-language-detector-for-telegram/",
                "icon": "ü§¨",
                "label": "Create a toxic language detector for Telegram in 4 step"
              },
              {
                "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                "icon": "üßæ",
                "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
              },
              {
                "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                "icon": "store",
                "label": "6 e-commerce workflows to power up your Shopify s"
              },
              {
                "url": "https://n8n.io/blog/world-poetry-day-workflow/",
                "icon": "üìú",
                "label": "Celebrating World Poetry Day with a daily poem in Telegram"
              },
              {
                "url": "https://n8n.io/blog/using-automation-to-boost-productivity-in-the-workplace/",
                "icon": "üí™",
                "label": "Using Automation to Boost Productivity in the Workplace"
              },
              {
                "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                "icon": "üé°",
                "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
              },
              {
                "url": "https://n8n.io/blog/creating-scheduled-text-affirmations-with-n8n/",
                "icon": "ü§ü",
                "label": "Creating scheduled text affirmations with n8n"
              },
              {
                "url": "https://n8n.io/blog/creating-telegram-bots-with-n8n-a-no-code-platform/",
                "icon": "üí¨",
                "label": "Creating Telegram Bots with n8n, a No-Code Platform"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.telegram/"
              }
            ],
            "credentialDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/credentials/telegram/"
              }
            ]
          },
          "categories": [
            "Communication",
            "HITL"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "HITL": [
              "Human in the Loop"
            ]
          }
        }
      },
      "group": "[\"output\"]",
      "defaults": {
        "name": "Telegram"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiB2aWV3Qm94PSIwIDAgNjYgNjYiPjx1c2UgeGxpbms6aHJlZj0iI2EiIHg9Ii41IiB5PSIuNSIvPjxzeW1ib2wgaWQ9ImEiIG92ZXJmbG93PSJ2aXNpYmxlIj48ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSI+PHBhdGggZmlsbD0iIzM3YWVlMiIgZD0iTTAgMzJjMCAxNy42NzMgMTQuMzI3IDMyIDMyIDMyczMyLTE0LjMyNyAzMi0zMlM0OS42NzMgMCAzMiAwIDAgMTQuMzI3IDAgMzIiLz48cGF0aCBmaWxsPSIjYzhkYWVhIiBkPSJtMjEuNjYxIDM0LjMzOCAzLjc5NyAxMC41MDhzLjQ3NS45ODMuOTgzLjk4MyA4LjA2OC03Ljg2NCA4LjA2OC03Ljg2NGw4LjQwNy0xNi4yMzctMjEuMTE5IDkuODk4eiIvPjxwYXRoIGZpbGw9IiNhOWM2ZDgiIGQ9Im0yNi42OTUgMzcuMDM0LS43MjkgNy43NDZzLS4zMDUgMi4zNzMgMi4wNjggMGw0LjY0NC00LjIwMyIvPjxwYXRoIGQ9Im0yMS43MyAzNC43MTItNy44MDktMi41NDVzLS45MzItLjM3OC0uNjMzLTEuMjM3Yy4wNjItLjE3Ny4xODYtLjMyOC41NTktLjU4OCAxLjczMS0xLjIwNiAzMi4wMjgtMTIuMDk2IDMyLjAyOC0xMi4wOTZzLjg1Ni0uMjg4IDEuMzYxLS4wOTdjLjIzMS4wODguMzc4LjE4Ny41MDMuNTQ4LjA0NS4xMzIuMDcxLjQxMS4wNjguNjg5LS4wMDMuMjAxLS4wMjcuMzg2LS4wNDUuNjc4LS4xODQgMi45NzgtNS43MDYgMjUuMTk4LTUuNzA2IDI1LjE5OHMtLjMzIDEuMy0xLjUxNCAxLjM0NWMtLjQzMi4wMTYtLjk1Ni0uMDcxLTEuNTgyLS42MS0yLjMyMy0xLjk5OC0xMC4zNTItNy4zOTQtMTIuMTI2LTguNThhLjM0LjM0IDAgMCAxLS4xNDYtLjIzOWMtLjAyNS0uMTI1LjEwOC0uMjguMTA4LS4yOHMxMy45OC0xMi40MjcgMTQuMzUyLTEzLjczMWMuMDI5LS4xMDEtLjA3OS0uMTUxLS4yMjYtLjEwNy0uOTI5LjM0Mi0xNy4wMjUgMTAuNTA2LTE4LjgwMSAxMS42MjktLjEwNC4wNjYtLjM5NS4wMjMtLjM5NS4wMjMiLz48L2c+PC9zeW1ib2w+PC9zdmc+"
      },
      "displayName": "Telegram",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 6,
          "name": "Communication"
        },
        {
          "id": 28,
          "name": "HITL"
        }
      ]
    },
    {
      "id": 50,
      "icon": "file:telegram.svg",
      "name": "n8n-nodes-base.telegramTrigger",
      "codex": {
        "data": {
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/create-a-toxic-language-detector-for-telegram/",
                "icon": "ü§¨",
                "label": "Create a toxic language detector for Telegram in 4 step"
              },
              {
                "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                "icon": "üßæ",
                "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
              },
              {
                "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                "icon": "üé°",
                "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
              },
              {
                "url": "https://n8n.io/blog/creating-telegram-bots-with-n8n-a-no-code-platform/",
                "icon": "üí¨",
                "label": "Creating Telegram Bots with n8n, a No-Code Platform"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/trigger-nodes/n8n-nodes-base.telegramtrigger/"
              }
            ],
            "credentialDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/credentials/telegram/"
              }
            ]
          },
          "categories": [
            "Communication"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0"
        }
      },
      "group": "[\"trigger\"]",
      "defaults": {
        "name": "Telegram Trigger"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiB2aWV3Qm94PSIwIDAgNjYgNjYiPjx1c2UgeGxpbms6aHJlZj0iI2EiIHg9Ii41IiB5PSIuNSIvPjxzeW1ib2wgaWQ9ImEiIG92ZXJmbG93PSJ2aXNpYmxlIj48ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSI+PHBhdGggZmlsbD0iIzM3YWVlMiIgZD0iTTAgMzJjMCAxNy42NzMgMTQuMzI3IDMyIDMyIDMyczMyLTE0LjMyNyAzMi0zMlM0OS42NzMgMCAzMiAwIDAgMTQuMzI3IDAgMzIiLz48cGF0aCBmaWxsPSIjYzhkYWVhIiBkPSJtMjEuNjYxIDM0LjMzOCAzLjc5NyAxMC41MDhzLjQ3NS45ODMuOTgzLjk4MyA4LjA2OC03Ljg2NCA4LjA2OC03Ljg2NGw4LjQwNy0xNi4yMzctMjEuMTE5IDkuODk4eiIvPjxwYXRoIGZpbGw9IiNhOWM2ZDgiIGQ9Im0yNi42OTUgMzcuMDM0LS43MjkgNy43NDZzLS4zMDUgMi4zNzMgMi4wNjggMGw0LjY0NC00LjIwMyIvPjxwYXRoIGQ9Im0yMS43MyAzNC43MTItNy44MDktMi41NDVzLS45MzItLjM3OC0uNjMzLTEuMjM3Yy4wNjItLjE3Ny4xODYtLjMyOC41NTktLjU4OCAxLjczMS0xLjIwNiAzMi4wMjgtMTIuMDk2IDMyLjAyOC0xMi4wOTZzLjg1Ni0uMjg4IDEuMzYxLS4wOTdjLjIzMS4wODguMzc4LjE4Ny41MDMuNTQ4LjA0NS4xMzIuMDcxLjQxMS4wNjguNjg5LS4wMDMuMjAxLS4wMjcuMzg2LS4wNDUuNjc4LS4xODQgMi45NzgtNS43MDYgMjUuMTk4LTUuNzA2IDI1LjE5OHMtLjMzIDEuMy0xLjUxNCAxLjM0NWMtLjQzMi4wMTYtLjk1Ni0uMDcxLTEuNTgyLS42MS0yLjMyMy0xLjk5OC0xMC4zNTItNy4zOTQtMTIuMTI2LTguNThhLjM0LjM0IDAgMCAxLS4xNDYtLjIzOWMtLjAyNS0uMTI1LjEwOC0uMjguMTA4LS4yOHMxMy45OC0xMi40MjcgMTQuMzUyLTEzLjczMWMuMDI5LS4xMDEtLjA3OS0uMTUxLS4yMjYtLjEwNy0uOTI5LjM0Mi0xNy4wMjUgMTAuNTA2LTE4LjgwMSAxMS42MjktLjEwNC4wNjYtLjM5NS4wMjMtLjM5NS4wMjMiLz48L2c+PC9zeW1ib2w+PC9zdmc+"
      },
      "displayName": "Telegram Trigger",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 6,
          "name": "Communication"
        }
      ]
    },
    {
      "id": 112,
      "icon": "fa:map-signs",
      "name": "n8n-nodes-base.switch",
      "codex": {
        "data": {
          "alias": [
            "Router",
            "If",
            "Path",
            "Filter",
            "Condition",
            "Logic",
            "Branch",
            "Case"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                "icon": "‚òÄÔ∏è",
                "label": "2021: The Year to Automate the New You with n8n"
              },
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "üë•",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/build-your-own-virtual-assistant-with-n8n-a-step-by-step-guide/",
                "icon": "üë¶",
                "label": "Build your own virtual assistant with n8n: A step by step guide"
              },
              {
                "url": "https://n8n.io/blog/automation-for-maintainers-of-open-source-projects/",
                "icon": "üè∑Ô∏è",
                "label": "How to automatically manage contributions to open-source projects"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.switch/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Flow"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Switch",
        "color": "#506000"
      },
      "iconData": {
        "icon": "map-signs",
        "type": "icon"
      },
      "displayName": "Switch",
      "typeVersion": 3,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 510,
      "icon": "file:nocodb.svg",
      "name": "n8n-nodes-base.nocoDb",
      "codex": {
        "data": {
          "resources": {
            "generic": [],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.nocodb/"
              }
            ],
            "credentialDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/credentials/nocoDb/"
              }
            ]
          },
          "categories": [
            "Data & Storage"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0"
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "NocoDB"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSJub25lIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iIzNENDNENSIgcng9IjI1Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTM4IDkzLjkwNyAyOS43NiAyOS4wMDZ2NDUuOTJIMzh6bTEyNS02MS42NjV2MTI1LjQxN2MwIDguMDc4LTQuNDk4IDExLjM0MS0xMS43NDIgMTEuMzQxLTEuMzMzIDAtMy43MjUtLjUwMS01Ljc5My0yLjUwMkwzOCA2NS4zMjhWNDIuODRDMzggMzQuNzYzIDQxLjM2MyAzMS41IDQ5LjcyMyAzMS41YzEuMzMzIDAgNC4wMS41MiA2LjA2IDIuNTAybDc3LjQzOCA3MS45MjNWMzIuMjQyeiIvPjwvc3ZnPg=="
      },
      "displayName": "NocoDB",
      "typeVersion": 3,
      "nodeCategories": [
        {
          "id": 3,
          "name": "Data & Storage"
        }
      ]
    },
    {
      "id": 565,
      "icon": "fa:sticky-note",
      "name": "n8n-nodes-base.stickyNote",
      "codex": {
        "data": {
          "alias": [
            "Comments",
            "Notes",
            "Sticky"
          ],
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Sticky Note",
        "color": "#FFD233"
      },
      "iconData": {
        "icon": "sticky-note",
        "type": "icon"
      },
      "displayName": "Sticky Note",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 834,
      "icon": "file:code.svg",
      "name": "n8n-nodes-base.code",
      "codex": {
        "data": {
          "alias": [
            "cpde",
            "Javascript",
            "JS",
            "Python",
            "Script",
            "Custom Code",
            "Function"
          ],
          "details": "The Code node allows you to execute JavaScript in your workflow.",
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.code/"
              }
            ]
          },
          "categories": [
            "Development",
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers",
              "Data Transformation"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Code"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xMTcxXzQ0MSkiPgo8cGF0aCBkPSJNMTcwLjI4MyA0OEgxOTYuNUMyMDMuMTI3IDQ4IDIwOC41IDQyLjYyNzQgMjA4LjUgMzZWMTJDMjA4LjUgNS4zNzI1OCAyMDMuMTI3IDAgMTk2LjUgMEgxNzAuMjgzQzEyNi4xIDAgOTAuMjgzIDM1LjgxNzIgOTAuMjgzIDgwVjE3NkM5MC4yODMgMjA2LjkyOCA2NS4yMTA5IDIzMiAzNC4yODMgMjMySDIzQzE2LjM3MjYgMjMyIDExIDIzNy4zNzIgMTEgMjQ0VjI2OEMxMSAyNzQuNjI3IDE2LjM3MjQgMjgwIDIyLjk5OTYgMjgwTDM0LjI4MyAyODBDNjUuMjEwOSAyODAgOTAuMjgzIDMwNS4wNzIgOTAuMjgzIDMzNlY0NDBDOTAuMjgzIDQ3OS43NjQgMTIyLjUxOCA1MTIgMTYyLjI4MyA1MTJIMTk2LjVDMjAzLjEyNyA1MTIgMjA4LjUgNTA2LjYyNyAyMDguNSA1MDBWNDc2QzIwOC41IDQ2OS4zNzMgMjAzLjEyNyA0NjQgMTk2LjUgNDY0SDE2Mi4yODNDMTQ5LjAyOCA0NjQgMTM4LjI4MyA0NTMuMjU1IDEzOC4yODMgNDQwVjMzNkMxMzguMjgzIDMwOS4wMjIgMTI4LjAxMSAyODQuNDQzIDExMS4xNjQgMjY1Ljk2MUMxMDYuMTA5IDI2MC40MTYgMTA2LjEwOSAyNTEuNTg0IDExMS4xNjQgMjQ2LjAzOUMxMjguMDExIDIyNy41NTcgMTM4LjI4MyAyMDIuOTc4IDEzOC4yODMgMTc2VjgwQzEzOC4yODMgNjIuMzI2OSAxNTIuNjEgNDggMTcwLjI4MyA0OFoiIGZpbGw9IiNGRjk5MjIiLz4KPHBhdGggZD0iTTMwNSAzNkMzMDUgNDIuNjI3NCAzMTAuMzczIDQ4IDMxNyA0OEgzNDIuOTc5QzM2MC42NTIgNDggMzc0Ljk3OCA2Mi4zMjY5IDM3NC45NzggODBWMTc2QzM3NC45NzggMjAyLjk3OCAzODUuMjUxIDIyNy41NTcgNDAyLjA5OCAyNDYuMDM5QzQwNy4xNTMgMjUxLjU4NCA0MDcuMTUzIDI2MC40MTYgNDAyLjA5OCAyNjUuOTYxQzM4NS4yNTEgMjg0LjQ0MyAzNzQuOTc4IDMwOS4wMjIgMzc0Ljk3OCAzMzZWNDMyQzM3NC45NzggNDQ5LjY3MyAzNjAuNjUyIDQ2NCAzNDIuOTc5IDQ2NEgzMTdDMzEwLjM3MyA0NjQgMzA1IDQ2OS4zNzMgMzA1IDQ3NlY1MDBDMzA1IDUwNi42MjcgMzEwLjM3MyA1MTIgMzE3IDUxMkgzNDIuOTc5QzM4Ny4xNjEgNTEyIDQyMi45NzggNDc2LjE4MyA0MjIuOTc4IDQzMlYzMzZDNDIyLjk3OCAzMDUuMDcyIDQ0OC4wNTEgMjgwIDQ3OC45NzkgMjgwSDQ5MEM0OTYuNjI3IDI4MCA1MDIgMjc0LjYyOCA1MDIgMjY4VjI0NEM1MDIgMjM3LjM3MyA0OTYuNjI4IDIzMiA0OTAgMjMyTDQ3OC45NzkgMjMyQzQ0OC4wNTEgMjMyIDQyMi45NzggMjA2LjkyOCA0MjIuOTc4IDE3NlY4MEM0MjIuOTc4IDM1LjgxNzIgMzg3LjE2MSAwIDM0Mi45NzkgMEgzMTdDMzEwLjM3MyAwIDMwNSA1LjM3MjU4IDMwNSAxMlYzNloiIGZpbGw9IiNGRjk5MjIiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xMTcxXzQ0MSI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="
      },
      "displayName": "Code",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 5,
          "name": "Development"
        },
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 839,
      "icon": "fa:clock",
      "name": "n8n-nodes-base.scheduleTrigger",
      "codex": {
        "data": {
          "alias": [
            "Time",
            "Scheduler",
            "Polling",
            "Cron",
            "Interval"
          ],
          "resources": {
            "generic": [],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.scheduletrigger/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0"
        }
      },
      "group": "[\"trigger\",\"schedule\"]",
      "defaults": {
        "name": "Schedule Trigger",
        "color": "#31C49F"
      },
      "iconData": {
        "icon": "clock",
        "type": "icon"
      },
      "displayName": "Schedule Trigger",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 1236,
      "icon": "file:aggregate.svg",
      "name": "n8n-nodes-base.aggregate",
      "codex": {
        "data": {
          "alias": [
            "Aggregate",
            "Combine",
            "Flatten",
            "Transform",
            "Array",
            "List",
            "Item"
          ],
          "details": "",
          "resources": {
            "generic": [],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.aggregate/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Data Transformation"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Aggregate"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSJub25lIj48ZyBmaWxsPSIjRkY2RDVBIiBjbGlwLXBhdGg9InVybCgjYSkiPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTMyIDE0OGMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDE0NmM2LjYyNyAwIDEyIDUuMzczIDEyIDEydjI0YzAgNi42MjctNS4zNzMgMTItMTIgMTJINDRjLTYuNjI3IDAtMTItNS4zNzMtMTItMTJ6bTAgOTZjMC02LjYyNyA1LjM3My0xMiAxMi0xMmgxNDZjNi42MjcgMCAxMiA1LjM3MyAxMiAxMnYyNGMwIDYuNjI3LTUuMzczIDEyLTEyIDEySDQ0Yy02LjYyNyAwLTEyLTUuMzczLTEyLTEyem0wIDk2YzAtNi42MjcgNS4zNzMtMTIgMTItMTJoMTQ2YzYuNjI3IDAgMTIgNS4zNzMgMTIgMTJ2MjRjMCA2LjYyNy01LjM3MyAxMi0xMiAxMkg0NGMtNi42MjcgMC0xMi01LjM3My0xMi0xMnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGQ9Ik03NCA3NmMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDExNi4yMTdjMTcuNjczIDAgMzIgMTQuMzI3IDMyIDMydjU2YzAgMjYuOTc4IDEwLjI3MiA1MS41NTcgMjcuMTE5IDcwLjAzOSA1LjA1NSA1LjU0NSA1LjA1NSAxNC4zNzcgMCAxOS45MjItMTYuODQ3IDE4LjQ4Mi0yNy4xMTkgNDMuMDYxLTI3LjExOSA3MC4wMzl2NTZjMCAxNy42NzMtMTQuMzI3IDMyLTMyIDMySDg2Yy02LjYyNyAwLTEyIDUuMzczLTEyIDEydjI0YzAgNi42MjcgNS4zNzMgMTIgMTIgMTJoMTE2LjIxN2M0NC4xODMgMCA4MC0zNS44MTcgODAtODB2LTU2YzAtMzAuOTI4IDI1LjA3Mi01NiA1Ni01NmE1Ljc4MyA1Ljc4MyAwIDAgMCA1Ljc4My01Ljc4M3YtMzYuNDM0YTUuNzgzIDUuNzgzIDAgMCAwLTUuNzgzLTUuNzgzYy0zMC45MjggMC01Ni0yNS4wNzItNTYtNTZ2LTU2YzAtNDQuMTgzLTM1LjgxNy04MC04MC04MEg4NmMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnoiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zNzYgMjQ0YzAtNi42MjcgNS4zNzMtMTIgMTItMTJoMTEyYzYuNjI3IDAgMTIgNS4zNzMgMTIgMTJ2MjRjMCA2LjYyNy01LjM3MyAxMi0xMiAxMkgzODhjLTYuNjI3IDAtMTItNS4zNzMtMTItMTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDUxMnY1MTJIMHoiLz48L2NsaXBQYXRoPjwvZGVmcz48L3N2Zz4="
      },
      "displayName": "Aggregate",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 1250,
      "icon": "file:openAi.svg",
      "name": "@n8n/n8n-nodes-langchain.openAi",
      "codex": {
        "data": {
          "alias": [
            "LangChain",
            "ChatGPT",
            "DallE",
            "whisper",
            "audio",
            "transcribe",
            "tts",
            "assistant"
          ],
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-langchain.openai/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Agents",
              "Miscellaneous",
              "Root Nodes"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "OpenAI"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTM2Ljg2NzEgMTYuMzcxOEMzNy43NzQ2IDEzLjY0OCAzNy40NjIxIDEwLjY2NDIgMzYuMDEwOCA4LjE4NjYxQzMzLjgyODIgNC4zODY1MyAyOS40NDA3IDIuNDMxNDkgMjUuMTU1NiAzLjM1MTUxQzIzLjI0OTMgMS4yMDM5NiAyMC41MTA1IC0wLjAxNzMxNDggMTcuNjM5MiAwLjAwMDE4NTUzM0MxMy4yNTkxIC0wLjAwOTgxNDY4IDkuMzcyNzMgMi44MTAyNSA4LjAyNTIgNi45Nzc4M0M1LjIxMTM5IDcuNTU0MSAyLjc4MjU4IDkuMzE1MzggMS4zNjEzIDExLjgxMTdDLTAuODM3NDkzIDE1LjYwMTggLTAuMzM2MjMyIDIwLjM3OTQgMi42MDEzMyAyMy42Mjk0QzEuNjkzODEgMjYuMzUzMiAyLjAwNjMyIDI5LjMzNzEgMy40NTc2IDMxLjgxNDZDNS42NDAxNSAzNS42MTQ3IDEwLjAyNzcgMzcuNTY5NyAxNC4zMTI4IDM2LjY0OTdDMTYuMjE3OSAzOC43OTczIDE4Ljk1NzkgNDAuMDE4NSAyMS44MjkyIDM5Ljk5OThDMjYuMjExOCA0MC4wMTEgMzAuMDk5NCAzNy4xODg1IDMxLjQ0NjkgMzMuMDE3MUMzNC4yNjA4IDMyLjQ0MDkgMzYuNjg5NiAzMC42Nzk2IDM4LjExMDggMjguMTgzM0M0MC4zMDcxIDI0LjM5MzIgMzkuODA0NiAxOS42MTk0IDM2Ljg2ODMgMTYuMzY5M0wzNi44NjcxIDE2LjM3MThaTTIxLjgzMTcgMzcuMzg2QzIwLjA3OCAzNy4zODg1IDE4LjM3OTIgMzYuNzc0NyAxNy4wMzI5IDM1LjY1MDlDMTcuMDk0MSAzNS42MTg1IDE3LjIwMDQgMzUuNTU5NyAxNy4yNjkxIDM1LjUxNzJMMjUuMjM0MyAzMC45MTcxQzI1LjY0MTggMzAuNjg1OCAyNS44OTE4IDMwLjI1MjEgMjUuODg5MyAyOS43ODMzVjE4LjU1NDNMMjkuMjU1NiAyMC40OTgxQzI5LjI5MTkgMjAuNTE1NiAyOS4zMTU3IDIwLjU1MDYgMjkuMzIwNyAyMC41OTA2VjI5Ljg4OTZDMjkuMzE1NyAzNC4wMjQ3IDI1Ljk2NjggMzcuMzc3MiAyMS44MzE3IDM3LjM4NlpNNS43MjY0IDMwLjUwNzFDNC44NDc2MyAyOC45ODk2IDQuNTMxMzcgMjcuMjEwOCA0LjgzMjYzIDI1LjQ4NDVDNC44OTEzOCAyNS41MTk1IDQuOTk1MTMgMjUuNTgzMiA1LjA2ODg4IDI1LjYyNTdMMTMuMDM0MSAzMC4yMjU4QzEzLjQzNzggMzAuNDYyMSAxMy45Mzc4IDMwLjQ2MjEgMTQuMzQyOCAzMC4yMjU4TDI0LjA2NjggMjQuNjEwN1YyOC40OTgzQzI0LjA2OTMgMjguNTM4MyAyNC4wNTA1IDI4LjU3NyAyNC4wMTkzIDI4LjYwMkwxNS45Njc5IDMzLjI1MDlDMTIuMzgxNSAzNS4zMTU5IDcuODAxNDQgMzQuMDg4NCA1LjcyNzY1IDMwLjUwNzFINS43MjY0Wk0zLjYzMDEgMTMuMTIwNUM0LjUwNTEyIDExLjYwMDQgNS44ODY0IDEwLjQzNzkgNy41MzE0NCA5LjgzNDE1QzcuNTMxNDQgOS45MDI5IDcuNTI3NjkgMTAuMDI0MSA3LjUyNzY5IDEwLjEwOTJWMTkuMzEwNkM3LjUyNTE5IDE5Ljc3ODEgNy43NzUxOSAyMC4yMTE5IDguMTgxNDUgMjAuNDQzMUwxNy45MDU0IDI2LjA1N0wxNC41MzkxIDI4LjAwMDhDMTQuNTA1MyAyOC4wMjMzIDE0LjQ2MjggMjguMDI3IDE0LjQyNTMgMjguMDEwOEw2LjM3MjY2IDIzLjM1ODJDMi43OTM4MyAyMS4yODU2IDEuNTY2MzEgMTYuNzA2OCAzLjYyODg1IDEzLjEyMTdMMy42MzAxIDEzLjEyMDVaTTMxLjI4ODIgMTkuNTU2OUwyMS41NjQyIDEzLjk0MTdMMjQuOTMwNiAxMS45OTkyQzI0Ljk2NDMgMTEuOTc2NyAyNS4wMDY4IDExLjk3MjkgMjUuMDQ0MyAxMS45ODkyTDMzLjA5NyAxNi42MzhDMzYuNjgyMSAxOC43MDkzIDM3LjkxMDggMjMuMjk1NyAzNS44Mzk1IDI2Ljg4MDhDMzQuOTYzMyAyOC4zOTgzIDMzLjU4MzIgMjkuNTYwOCAzMS45Mzk1IDMwLjE2NThWMjAuNjg5NEMzMS45NDMyIDIwLjIyMTkgMzEuNjk0NSAxOS43ODk0IDMxLjI4OTQgMTkuNTU2OUgzMS4yODgyWk0zNC42MzgzIDE0LjUxNDJDMzQuNTc5NSAxNC40NzggMzQuNDc1OCAxNC40MTU1IDM0LjQwMiAxNC4zNzNMMjYuNDM2OCA5Ljc3Mjg5QzI2LjAzMzEgOS41MzY2NCAyNS41MzMxIDkuNTM2NjQgMjUuMTI4MSA5Ljc3Mjg5TDE1LjQwNDEgMTUuMzg4VjExLjUwMDRDMTUuNDAxNiAxMS40NjA0IDE1LjQyMDQgMTEuNDIxNyAxNS40NTE2IDExLjM5NjdMMjMuNTAzIDYuNzUxNThDMjcuMDg5NCA0LjY4Mjc5IDMxLjY3NDUgNS45MTQwNiAzMy43NDIgOS41MDE2NEMzNC42MTU4IDExLjAxNjcgMzQuOTMyIDEyLjc5MDUgMzQuNjM1OCAxNC41MTQySDM0LjYzODNaTTEzLjU3NDEgMjEuNDQzMUwxMC4yMDY1IDE5LjQ5OTRDMTAuMTcwMiAxOS40ODE5IDEwLjE0NjUgMTkuNDQ2OCAxMC4xNDE1IDE5LjQwNjhWMTAuMTA3OUMxMC4xNDQgNS45Njc4MSAxMy41MDI4IDIuNjEyNzQgMTcuNjQyOSAyLjYxNTI0QzE5LjM5NDIgMi42MTUyNCAyMS4wODkyIDMuMjMwMjUgMjIuNDM1NSA0LjM1MDI4QzIyLjM3NDMgNC4zODI3OCAyMi4yNjkzIDQuNDQxNTMgMjIuMTk5MiA0LjQ4NDAzTDE0LjIzNDEgOS4wODQxM0MxMy44MjY2IDkuMzE1MzggMTMuNTc2NiA5Ljc0Nzg5IDEzLjU3OTEgMTAuMjE2N0wxMy41NzQxIDIxLjQ0MDZWMjEuNDQzMVpNMTUuNDAyOSAxNy41MDA2TDE5LjczNDIgMTQuOTk5M0wyNC4wNjU1IDE3LjQ5OTNWMjIuNTAwN0wxOS43MzQyIDI1LjAwMDdMMTUuNDAyOSAyMi41MDA3VjE3LjUwMDZaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K"
      },
      "displayName": "OpenAI",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    }
  ],
  "views": 1559,
  "recentViews": 4,
  "workflow": {
    "meta": {
      "instanceId": "c668632f5ca4908ffa76bd7bc9be05dec193c66269ed7a1160909b2e861050b7",
      "templateCredsSetupCompleted": true
    },
    "nodes": [
      {
        "id": "d9902b39-9d8d-4109-bfda-0a255c72cf1f",
        "name": "Telegram Trigger",
        "type": "n8n-nodes-base.telegramTrigger",
        "position": [
          -1200,
          -720
        ],
        "webhookId": "689feb2a-dce5-4f9b-b62f-8ed52e510683",
        "parameters": {
          "updates": [
            "message"
          ],
          "additionalFields": {}
        },
        "credentials": {
          "telegramApi": {
            "id": "SlR5McCoTpMXB5Mc",
            "name": "TriviaBot"
          }
        },
        "typeVersion": 1.2
      },
      {
        "id": "78ac5309-7baa-4002-ab26-10c5c1242cd3",
        "name": "Parse Telegram Data",
        "type": "n8n-nodes-base.code",
        "position": [
          -1000,
          -720
        ],
        "parameters": {
          "jsCode": "// Parse incoming Telegram data\nconst message = items[0].json.message;\nconst user = message.from;\nconst text = message.text || '';\nconst chatId = message.chat.id;\n\n// Determine message type\nlet messageType = 'text';\nlet command = null;\nlet isCommand = false;\n\nif (text.startsWith('/')) {\n  isCommand = true;\n  command = text.split(' ')[0].toLowerCase();\n  messageType = 'command';\n}\n\n// Extract user info\nconst userData = {\n  telegram_id: user.id,\n  username: user.username || '',\n  first_name: user.first_name || '',\n  last_name: user.last_name || '',\n  chat_id: chatId\n};\n\nreturn [{\n  json: {\n    message_type: messageType,\n    command: command,\n    text: text,\n    user: userData,\n    raw_message: message,\n    is_command: isCommand\n  }\n}];"
        },
        "typeVersion": 2
      },
      {
        "id": "a98966f7-c63a-4376-bc50-cddf4764009b",
        "name": "Check Existing User",
        "type": "n8n-nodes-base.nocoDb",
        "notes": "Users table",
        "position": [
          -780,
          -720
        ],
        "parameters": {
          "limit": 1,
          "options": {
            "where": "=(telegram_id,like,{{ $('Parse Telegram Data').item.json.user.telegram_id }})"
          },
          "operation": "getAll",
          "authentication": "nocoDbApiToken"
        },
        "credentials": {
          "nocoDbApiToken": {
            "id": "6M0tdo5lEJ6wbxJZ",
            "name": "n8n Token"
          }
        },
        "notesInFlow": true,
        "typeVersion": 3,
        "alwaysOutputData": true
      },
      {
        "id": "e61286d1-94ed-40f5-ba5c-1211fd8247a6",
        "name": "User Exists?",
        "type": "n8n-nodes-base.if",
        "position": [
          -580,
          -720
        ],
        "parameters": {
          "options": {},
          "conditions": {
            "options": {
              "version": 2,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "combinator": "and",
            "conditions": [
              {
                "id": "ba1bc824-082e-45f4-be31-3e4186ca7c4c",
                "operator": {
                  "type": "number",
                  "operation": "exists",
                  "singleValue": true
                },
                "leftValue": "={{ $json.Id }}",
                "rightValue": 0
              }
            ]
          }
        },
        "typeVersion": 2.2
      },
      {
        "id": "77097a18-d05d-4211-9c85-e1bbc821f960",
        "name": "Create New User",
        "type": "n8n-nodes-base.nocoDb",
        "notes": "Users table",
        "position": [
          -380,
          -520
        ],
        "parameters": {
          "fieldsUi": {
            "fieldValues": [
              {
                "fieldName": "telegram_id",
                "fieldValue": "={{ $('Parse Telegram Data').item.json.user.telegram_id }}"
              },
              {
                "fieldName": "username",
                "fieldValue": "={{ $('Parse Telegram Data').item.json.user.username }}"
              },
              {
                "fieldName": "first_name",
                "fieldValue": "={{ $('Parse Telegram Data').item.json.user.first_name }}"
              },
              {
                "fieldName": "last_name",
                "fieldValue": "={{ $('Parse Telegram Data').item.json.user.last_name }}"
              },
              {
                "fieldName": "score",
                "fieldValue": "0"
              },
              {
                "fieldName": "games_played",
                "fieldValue": "0"
              },
              {
                "fieldName": "correct_answers",
                "fieldValue": "0"
              },
              {
                "fieldName": "game_state",
                "fieldValue": "idle"
              }
            ]
          },
          "operation": "create",
          "authentication": "nocoDbApiToken"
        },
        "credentials": {
          "nocoDbApiToken": {
            "id": "6M0tdo5lEJ6wbxJZ",
            "name": "n8n Token"
          }
        },
        "notesInFlow": true,
        "typeVersion": 3
      },
      {
        "id": "ebfffcd2-1a37-4aa9-9bd3-052552de448f",
        "name": "Merge User Data",
        "type": "n8n-nodes-base.code",
        "position": [
          -180,
          -740
        ],
        "parameters": {
          "jsCode": "// Merge user data from either existing user or newly created user\nconst telegramData = $('Parse Telegram Data').first().json;\nconst existingUser = $('Check Existing User').first().json;\nconst newUser = $input.all().find(item => item.json.id); // From Create New User\nconsole.log(existingUser, 'ovo')\nlet userData;\nif (existingUser) {\n  userData = existingUser;\n} else if (newUser) {\n  userData = newUser.json;\n} else {\n  userData = {\n    telegram_id: telegramData.user.telegram_id,\n    score: 0,\n    game_state: 'idle'\n  };\n}\n\nreturn [{\n  json: {\n    ...telegramData,\n    user_data: userData\n  }\n}];"
        },
        "typeVersion": 2
      },
      {
        "id": "6803deb8-17bd-42f5-9981-d48f6db3f2e5",
        "name": "Is Command?",
        "type": "n8n-nodes-base.if",
        "position": [
          0,
          -740
        ],
        "parameters": {
          "options": {},
          "conditions": {
            "options": {
              "version": 2,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "combinator": "and",
            "conditions": [
              {
                "id": "a71cbee3-b6da-4a5a-9a1d-eb58000aa521",
                "operator": {
                  "type": "boolean",
                  "operation": "true",
                  "singleValue": true
                },
                "leftValue": "={{ $('Merge User Data').item.json.is_command }}",
                "rightValue": ""
              }
            ]
          }
        },
        "typeVersion": 2.2
      },
      {
        "id": "79f6d733-2f08-4992-a129-7672674bc28d",
        "name": "Command Router",
        "type": "n8n-nodes-base.switch",
        "position": [
          260,
          -800
        ],
        "parameters": {
          "rules": {
            "values": [
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "1a20a83b-ea74-4bff-8d6c-5d0c3a406b96",
                      "operator": {
                        "type": "string",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $('Merge User Data').item.json.command }}",
                      "rightValue": "/start"
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "9168b33d-ad7a-481a-92dc-4d8c3e13c713",
                      "operator": {
                        "name": "filter.operator.equals",
                        "type": "string",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $('Merge User Data').item.json.command }}",
                      "rightValue": "/help"
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "2952abe2-754f-4415-a427-702da4aab27e",
                      "operator": {
                        "name": "filter.operator.equals",
                        "type": "string",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $('Merge User Data').item.json.command }}",
                      "rightValue": "/score"
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "2349fa37-7742-43a4-a9d9-76e77a044fa2",
                      "operator": {
                        "name": "filter.operator.equals",
                        "type": "string",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $('Merge User Data').item.json.command }}",
                      "rightValue": "/stats"
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "6eebbcfd-18bf-4f4e-85b1-2536a88328fa",
                      "operator": {
                        "name": "filter.operator.equals",
                        "type": "string",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $('Merge User Data').item.json.command }}",
                      "rightValue": "/question"
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "4da11fe6-2af8-4a18-8b45-8621e5c1ea86",
                      "operator": {
                        "name": "filter.operator.equals",
                        "type": "string",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $('Merge User Data').item.json.command }}",
                      "rightValue": "/leaderboard"
                    }
                  ]
                }
              }
            ]
          },
          "options": {}
        },
        "typeVersion": 3.2
      },
      {
        "id": "e1eeecea-f282-4651-9354-94418aa867e0",
        "name": "Handle Basic Commands",
        "type": "n8n-nodes-base.code",
        "position": [
          1400,
          -900
        ],
        "parameters": {
          "jsCode": "const command = items[0].json.command;\nconst userData = items[0].json.user_data;\nconst userName = userData.first_name || userData.username || 'Player';\n\nlet responseText = '';\n\nswitch(command) {\n  case '/start':\n    responseText = `üéâ Welcome to Trivia Bot, ${userName}!\n\nüß† Test your knowledge with our trivia questions!\n\nCommands:\n/question - Get a new question\n/score - Check your score\n/leaderboard - View top players\n/stats - Your statistics\n/help - Show this help\n\nGood luck! üçÄ`;\n    break;\n    \n  case '/help':\n    responseText = `üìö **Trivia Bot Help**\n\nüéØ **Commands:**\n/question - Get a new trivia question\n/score - Check your current score\n/leaderboard - View top 10 players\n/stats - Your detailed statistics\n/help - Show this help message\n\nüéÆ **How to Play:**\n1. Use /question to get a new question\n2. Reply with A, B, C, or D\n3. Earn points for correct answers\n4. Climb the leaderboard!\n\nüèÜ **Scoring:**\n- ‚≠ê: 1 point\n- ‚≠ê‚≠ê: 2 points\n- ‚≠ê‚≠ê‚≠ê: 3 points\n- ‚≠ê‚≠ê‚≠ê‚≠ê: 4 points\n- ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê: 5 points\n\nHave fun! üéâ`;\n    break;\n    \n  case '/score':\n    responseText = `üèÜ **Your Score**\n\nüìä Current Score: ${userData.score || 0} points\nüéÆ Games Played: ${userData.games_played || 0}\n‚úÖ Correct Answers: ${userData.correct_answers || 0}\n\nKeep playing to improve your score! üí™`;\n    break;\n    \n  case '/stats':\n    const accuracy = userData.games_played > 0 ? \n      Math.round((userData.correct_answers / userData.games_played) * 100) : 0;\n    responseText = `üìà **Your Statistics**\n\nüèÜ Total Score: ${userData.score || 0} points\nüéØ Accuracy: ${accuracy}%\nüéÆ Games Played: ${userData.games_played || 0}\n‚úÖ Correct Answers: ${userData.correct_answers || 0}\n‚ùå Wrong Answers: ${(userData.games_played || 0) - (userData.correct_answers || 0)}\n\nYou're doing great! Keep it up! üöÄ`;\n    break;\n    \n  default:\n    responseText = `‚ùì Unknown command: ${command}\n\nUse /help to see available commands.`;\n}\n\nreturn [{\n  json: {\n    chat_id: items[0].json.user.chat_id,\n    response_text: responseText,\n    command: command\n  }\n}];"
        },
        "typeVersion": 2
      },
      {
        "id": "d5831643-79a8-4671-a90c-c5c01014cb4f",
        "name": "Format Question",
        "type": "n8n-nodes-base.code",
        "position": [
          1220,
          -760
        ],
        "parameters": {
          "jsCode": "const question = $('Get Random Question').first().json;\nconst userData = $('Merge User Data').first().json.user;\n\nif (!question) {\n  return [{\n    json: {\n      chat_id: userData.chat_id,\n      response_text: \"‚ùå Sorry, no questions available right now. Please try again later.\"\n    }\n  }];\n}\n\nconst questionText = `üß† **Trivia Question** (${question.difficulty || 'Medium'})\n\n‚ùì ${question.question}\n\nA) ${question.option_a}\nB) ${question.option_b}\nC) ${question.option_c}\nD) ${question.option_d}\n\nüí° Reply with A, B, C, or D!`;\n\nreturn [{\n  json: {\n    chat_id: userData.chat_id,\n    response_text: questionText,\n    question_data: question,\n    user_data: userData\n  }\n}];"
        },
        "typeVersion": 2
      },
      {
        "id": "3e96876a-d775-47e5-85ad-a2d3f221a930",
        "name": "Update User Game State",
        "type": "n8n-nodes-base.nocoDb",
        "notes": "Users",
        "position": [
          1240,
          -480
        ],
        "parameters": {
          "fieldsUi": {
            "fieldValues": [
              {
                "fieldName": "telegram_id",
                "fieldValue": "={{ $('Is Command?').item.json.user.telegram_id }}"
              },
              {
                "fieldName": "Id",
                "fieldValue": "={{ $('Is Command?').item.json.user_data.Id }}"
              },
              {
                "fieldName": "game_state",
                "fieldValue": "waiting_answer"
              },
              {
                "fieldName": "current_question_id",
                "fieldValue": "={{ $json.Id }}"
              }
            ]
          },
          "operation": "update",
          "authentication": "nocoDbApiToken"
        },
        "credentials": {
          "nocoDbApiToken": {
            "id": "6M0tdo5lEJ6wbxJZ",
            "name": "n8n Token"
          }
        },
        "notesInFlow": true,
        "typeVersion": 3,
        "alwaysOutputData": false
      },
      {
        "id": "1e03df0d-5ead-4f82-8565-a1dd9391dcb1",
        "name": "Get Leaderboard",
        "type": "n8n-nodes-base.nocoDb",
        "notes": "Users",
        "position": [
          660,
          -440
        ],
        "parameters": {
          "limit": 10,
          "options": {
            "sort": {
              "property": [
                {
                  "field": "score",
                  "direction": "desc"
                }
              ]
            }
          },
          "operation": "getAll",
          "authentication": "nocoDbApiToken"
        },
        "credentials": {
          "nocoDbApiToken": {
            "id": "6M0tdo5lEJ6wbxJZ",
            "name": "n8n Token"
          }
        },
        "notesInFlow": true,
        "typeVersion": 3
      },
      {
        "id": "ea723525-a09e-429e-86b2-c4b13db0f4b6",
        "name": "Format Leaderboard",
        "type": "n8n-nodes-base.code",
        "position": [
          1420,
          -280
        ],
        "parameters": {
          "jsCode": "const leaderboard = $input.first().json.leaderboard;\nconst currentUser = $('Merge User Data').item.json.user_data;\n\nif (!leaderboard || leaderboard.length === 0) {\n  return [{\n    json: {\n      chat_id: $('Merge User Data').item.json.user.chat_id,\n      response_text: \"üèÜ **Leaderboard**\\n\\nNo players yet! Be the first to play!\"\n    }\n  }];\n}\n\nlet leaderboardText = \"üèÜ **Trivia Leaderboard** üèÜ\\n\\n\";\n\nleaderboard.forEach((player, index) => {\n  const emoji = index === 0 ? \"ü•á\" : index === 1 ? \"ü•à\" : index === 2 ? \"ü•â\" : \"üî∏\";\n  const name = player.first_name || player.username || 'Anonymous';\n  const isCurrentUser = player.telegram_id === currentUser.telegram_id;\n  const marker = isCurrentUser ? \" ‚Üê YOU\" : \"\";\n  \n  leaderboardText += `${emoji} ${index + 1}. ${name}: ${player.score || 0} pts${marker}\\n`;\n});\n\n// Find current user's rank if not in top 10\nconst currentUserRank = leaderboard.findIndex(p => p.telegram_id === currentUser.telegram_id);\nif (currentUserRank === -1) {\n  leaderboardText += `\\nüîç Your rank: Not ranked yet`;\n} else if (currentUserRank >= 10) {\n  leaderboardText += `\\nüîç Your rank: #${currentUserRank + 1}`;\n}\n\nleaderboardText += \"\\n\\nüéÆ Keep playing to climb higher!\";\n\nreturn [{\n  json: {\n    chat_id: $('Merge User Data').item.json.user.chat_id,\n    response_text: leaderboardText\n  }\n}];"
        },
        "typeVersion": 2
      },
      {
        "id": "4dfc640c-2b70-4265-839c-f9ec296a7982",
        "name": "Valid Answer?",
        "type": "n8n-nodes-base.if",
        "position": [
          280,
          -280
        ],
        "parameters": {
          "options": {},
          "conditions": {
            "options": {
              "version": 2,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "combinator": "and",
            "conditions": [
              {
                "id": "08b095f6-023b-4046-9121-e6d02643961d",
                "operator": {
                  "type": "string",
                  "operation": "regex"
                },
                "leftValue": "={{ $('Merge User Data').item.json.text.trim().toUpperCase() }}",
                "rightValue": "^[ABCD]$"
              },
              {
                "id": "6a953adb-8f4d-4c5e-9b3c-fd6c9f44c3c0",
                "operator": {
                  "name": "filter.operator.equals",
                  "type": "string",
                  "operation": "equals"
                },
                "leftValue": "={{ $('Merge User Data').item.json.user_data.game_state }}",
                "rightValue": "waiting_answer"
              }
            ]
          }
        },
        "typeVersion": 2.2
      },
      {
        "id": "e7b6d610-667d-4317-83c8-64ae9e1b9e7d",
        "name": "Get Current Question",
        "type": "n8n-nodes-base.nocoDb",
        "notes": "Questions",
        "position": [
          660,
          -260
        ],
        "parameters": {
          "id": "={{ $json.user_data.current_question_id }}",
          "authentication": "nocoDbApiToken"
        },
        "credentials": {
          "nocoDbApiToken": {
            "id": "6M0tdo5lEJ6wbxJZ",
            "name": "n8n Token"
          }
        },
        "notesInFlow": true,
        "typeVersion": 3
      },
      {
        "id": "70cd94a3-d8c6-4a0c-a236-008808887ce8",
        "name": "Process Answer",
        "type": "n8n-nodes-base.code",
        "position": [
          880,
          -240
        ],
        "parameters": {
          "jsCode": "const userAnswer = $('Merge User Data').first().json.text.trim().toUpperCase();\nconst question = $('Get Current Question').first().json;\nconst userData = $('Merge User Data').first().json.user_data;\n\nif (!question) {\n  return [{\n    json: {\n      chat_id: $('Merge User Data').first().json.user.chat_id,\n      response_text: \"‚ùå No active question found. Use /question to start a new one!\"\n    }\n  }];\n}\n\nconst correctAnswer = question.correct_answer.toUpperCase();\nconst isCorrect = userAnswer === correctAnswer;\n\n// Calculate points based on difficulty\nlet points = question.difficulty;\n\nconst responseText = isCorrect ? \n  `‚úÖ **Correct!** üéâ\n\nYou earned ${points} point${points !== 1 ? 's' : ''}!\n\nüí° ${question.explanation || 'Well done!'}\n\nUse /question for another question!` :\n  `‚ùå **Wrong!** üòî\n\nThe correct answer was: **${correctAnswer}**\n\nüí° ${question.explanation || 'Better luck next time!'}\n\nUse /question to try again!`;\n\nreturn [{\n  json: {\n    chat_id: $('Merge User Data').first().json.user.chat_id,\n    response_text: responseText,\n    is_correct: isCorrect,\n    points_earned: points,\n    user_data: userData,\n    question: question\n  }\n}];"
        },
        "typeVersion": 2
      },
      {
        "id": "06af6d12-2ce5-4092-9f20-d8a7cb6a1500",
        "name": "Update User Stats",
        "type": "n8n-nodes-base.nocoDb",
        "notes": "Users",
        "position": [
          1060,
          160
        ],
        "parameters": {
          "fieldsUi": {
            "fieldValues": [
              {
                "fieldName": "score",
                "fieldValue": "={{ $('Process Answer').item.json.user_data.score + $('Process Answer').item.json.points_earned }}"
              },
              {
                "fieldName": "Id",
                "fieldValue": "={{ $('Check Existing User').item.json.Id }}"
              },
              {
                "fieldName": "games_played",
                "fieldValue": "={{ $('Process Answer').item.json.user_data.games_played + 1 }}"
              },
              {
                "fieldName": "correct_answers",
                "fieldValue": "={{ $('Process Answer').item.json.user_data.correct_answers + ($('Process Answer').item.json.is_correct ? 1 : 0) }}"
              },
              {
                "fieldName": "game_state",
                "fieldValue": "idle"
              }
            ]
          },
          "operation": "update",
          "authentication": "nocoDbApiToken"
        },
        "credentials": {
          "nocoDbApiToken": {
            "id": "6M0tdo5lEJ6wbxJZ",
            "name": "n8n Token"
          }
        },
        "notesInFlow": true,
        "typeVersion": 3
      },
      {
        "id": "bc1d784f-e937-40f2-ae81-a2e70c0c73fb",
        "name": "Handle Unknown Text",
        "type": "n8n-nodes-base.code",
        "position": [
          1240,
          340
        ],
        "parameters": {
          "jsCode": "// Handle unknown text when not waiting for answer\nconst userData = $input.first().json.user;\nconst text = $input.first().json.text;\n\nlet responseText = `ü§î I didn't understand \"${text}\"\\n\\n`;\n\nif (userData.game_state === 'waiting_answer') {\n  responseText += `You have an active question. Please answer with A, B, C, or D.`;\n} else {\n  responseText += `Available commands:\n/question - Get a trivia question\n/score - Check your score\n/leaderboard - View rankings\n/help - Show all commands`;\n}\n\nreturn [{\n  json: {\n    chat_id: $input.first().json.user.chat_id,\n    response_text: responseText\n  }\n}];"
        },
        "typeVersion": 2
      },
      {
        "id": "bbf362a8-f2da-4023-bce1-f454263de631",
        "name": "Telegram",
        "type": "n8n-nodes-base.telegram",
        "position": [
          1780,
          -265
        ],
        "webhookId": "105fea17-a486-4d09-9afa-1bdee3611adc",
        "parameters": {
          "text": "={{ $json.response_text }}",
          "chatId": "={{ $('Merge User Data').item.json.user.chat_id }}",
          "additionalFields": {
            "parse_mode": "Markdown"
          }
        },
        "credentials": {
          "telegramApi": {
            "id": "SlR5McCoTpMXB5Mc",
            "name": "TriviaBot"
          }
        },
        "typeVersion": 1.2
      },
      {
        "id": "1f3c7039-bbd7-43b8-a1f7-23f3aaac84a7",
        "name": "Merge",
        "type": "n8n-nodes-base.merge",
        "position": [
          1420,
          -460
        ],
        "parameters": {
          "mode": "combine",
          "options": {},
          "combineBy": "combineByPosition"
        },
        "typeVersion": 3.2
      },
      {
        "id": "8986f8aa-6051-4cf8-a1c9-a3c7dfdf0827",
        "name": "OpenAI",
        "type": "@n8n/n8n-nodes-langchain.openAi",
        "position": [
          -640,
          -20
        ],
        "parameters": {
          "modelId": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4o-mini",
            "cachedResultName": "GPT-4O-MINI"
          },
          "options": {},
          "messages": {
            "values": [
              {
                "role": "system",
                "content": "You are a trivia question generator. Create exactly 5 high-quality trivia questions for the specified category. Each question must have exactly 4 options (A, B, C, D) with only one correct answer. Include a brief explanation for each answer. Return the response as a JSON array."
              },
              {
                "content": "=Generate 5 trivia questions for category: {{ $json.category }}\nFormat each question as:\n{\n\"question\": \"Your question here?\",\n\"option_a\": \"First option\",\n\"option_b\": \"Second option\",\n\"option_c\": \"Third option\",\n\"option_d\": \"Fourth option\",\n\"correct_answer\": \"A\" (or B, C, D),\n\"difficulty\": \"3\" (number from 1-5),\n\"explanation\": \n\"Brief explanation of the answer\",\n\"category\": \"{{ $json.category }}\",\n\"time_limit\": 15 (difficulty*5)\n}\n\nMake questions varied in difficulty. Ensure facts are accurate. Avoid controversial topics."
              }
            ]
          }
        },
        "credentials": {
          "openAiApi": {
            "id": "1wKkKoKDmyKta6Xv",
            "name": "OpenAi account"
          }
        },
        "typeVersion": 1.8
      },
      {
        "id": "50ef158d-f86a-4292-8c46-967eeb3db772",
        "name": "NocoDB",
        "type": "n8n-nodes-base.nocoDbTool",
        "notes": "Questions table",
        "position": [
          -540,
          200
        ],
        "parameters": {
          "fieldsUi": {
            "fieldValues": [
              {
                "fieldName": "question",
                "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('fieldValues0_Field_Value', ``, 'string') }}"
              },
              {
                "fieldName": "option_a",
                "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('fieldValues1_Field_Value', ``, 'string') }}"
              },
              {
                "fieldName": "option_b",
                "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('fieldValues2_Field_Value', ``, 'string') }}"
              },
              {
                "fieldName": "option_c",
                "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('fieldValues3_Field_Value', ``, 'string') }}"
              },
              {
                "fieldName": "option_d",
                "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('fieldValues4_Field_Value', ``, 'string') }}"
              },
              {
                "fieldName": "correct_answer",
                "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('fieldValues5_Field_Value', ``, 'string') }}"
              },
              {
                "fieldName": "difficulty",
                "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('fieldValues6_Field_Value', ``, 'string') }}"
              },
              {
                "fieldName": "category",
                "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('fieldValues7_Field_Value', ``, 'string') }}"
              },
              {
                "fieldName": "explanation",
                "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('fieldValues8_Field_Value', ``, 'string') }}"
              }
            ]
          },
          "operation": "create",
          "authentication": "nocoDbApiToken"
        },
        "credentials": {
          "nocoDbApiToken": {
            "id": "6M0tdo5lEJ6wbxJZ",
            "name": "n8n Token"
          }
        },
        "notesInFlow": true,
        "typeVersion": 3
      },
      {
        "id": "6efe0704-ce7c-436b-89e7-d783733e5af0",
        "name": "Daily Question Generator",
        "type": "n8n-nodes-base.scheduleTrigger",
        "position": [
          -1080,
          -20
        ],
        "parameters": {
          "rule": {
            "interval": [
              {}
            ]
          }
        },
        "typeVersion": 1.2
      },
      {
        "id": "a6229303-f5ee-47b5-999d-f634b78a21ac",
        "name": "Get Possible Categories",
        "type": "n8n-nodes-base.code",
        "position": [
          -860,
          -20
        ],
        "parameters": {
          "jsCode": "// Define default categories if none exist in DB\nconst categories = [\n  'Science & Nature',\n  'History', \n  'Geography',\n  'Sports',\n  'Movies & TV',\n  'Technology',\n  'Food & Drink',\n  'Art & Literature'\n];\n\n// Create requests for each category (5 questions per category)\nconst generationRequests = categories.map(category => ({\n  category: category,\n  questionsToGenerate: 5,\n  timestamp: new Date().toISOString()\n}));\n\nreturn generationRequests.map(request => ({ json: request }));"
        },
        "typeVersion": 2
      },
      {
        "id": "38f5bce5-9ba9-4b2c-9278-cc42a6cd5ad0",
        "name": "Send New Questions Available Notification",
        "type": "n8n-nodes-base.telegram",
        "position": [
          -260,
          -20
        ],
        "webhookId": "105fea17-a486-4d09-9afa-1bdee3611adc",
        "parameters": {
          "text": "={{ $json.response_text }}",
          "chatId": "={{ $('Merge User Data').item.json.user.chat_id }}",
          "additionalFields": {
            "parse_mode": "Markdown"
          }
        },
        "credentials": {
          "telegramApi": {
            "id": "SlR5McCoTpMXB5Mc",
            "name": "TriviaBot"
          }
        },
        "typeVersion": 1.2
      },
      {
        "id": "a6a6a589-515b-4641-8943-8a508f1c56c6",
        "name": "Merge1",
        "type": "n8n-nodes-base.merge",
        "position": [
          1400,
          -80
        ],
        "parameters": {
          "mode": "combine",
          "options": {},
          "combineBy": "combineByPosition"
        },
        "typeVersion": 3.2
      },
      {
        "id": "84013da6-ddef-47b7-aa81-544fe5c15c16",
        "name": "Aggregate",
        "type": "n8n-nodes-base.aggregate",
        "position": [
          1260,
          -280
        ],
        "parameters": {
          "options": {},
          "aggregate": "aggregateAllItemData",
          "destinationFieldName": "leaderboard"
        },
        "typeVersion": 1
      },
      {
        "id": "7ed0881f-3ca0-4e2e-ad6f-4db3c311cf86",
        "name": "Get User History",
        "type": "n8n-nodes-base.nocoDb",
        "notes": "User Question History",
        "position": [
          660,
          -640
        ],
        "parameters": {
          "options": {
            "where": "=(user_telegram_id,like,{{ $json.user.telegram_id }})"
          },
          "operation": "getAll",
          "returnAll": true,
          "authentication": "nocoDbApiToken"
        },
        "credentials": {
          "nocoDbApiToken": {
            "id": "6M0tdo5lEJ6wbxJZ",
            "name": "n8n Token"
          }
        },
        "notesInFlow": true,
        "typeVersion": 3,
        "alwaysOutputData": true
      },
      {
        "id": "6f8e4bee-6aea-421b-96e8-63a4e9c41b2d",
        "name": "Mark Question As Answered",
        "type": "n8n-nodes-base.nocoDb",
        "notes": "User Question History",
        "position": [
          1100,
          -60
        ],
        "parameters": {
          "fieldsUi": {
            "fieldValues": [
              {
                "fieldName": "user_telegram_id",
                "fieldValue": "={{ $json.user_data.telegram_id }}"
              },
              {
                "fieldName": "question_id",
                "fieldValue": "={{ $json.question.Id }}"
              },
              {
                "fieldName": "answered_correctly",
                "fieldValue": "={{ $json.is_correct }}"
              },
              {
                "fieldName": "user_answer",
                "fieldValue": "={{ $('Valid Answer?').item.json.text }}"
              },
              {
                "fieldName": "answered_at",
                "fieldValue": "={{ $now }}"
              },
              {
                "fieldName": "points_earned",
                "fieldValue": "={{ $json.points_earned }}"
              }
            ]
          },
          "operation": "create",
          "authentication": "nocoDbApiToken"
        },
        "credentials": {
          "nocoDbApiToken": {
            "id": "6M0tdo5lEJ6wbxJZ",
            "name": "n8n Token"
          }
        },
        "notesInFlow": true,
        "typeVersion": 3
      },
      {
        "id": "27e9643b-03d4-44f8-b18c-a7991ddac076",
        "name": "Aggregate1",
        "type": "n8n-nodes-base.aggregate",
        "position": [
          840,
          -640
        ],
        "parameters": {
          "options": {},
          "fieldsToAggregate": {
            "fieldToAggregate": [
              {
                "fieldToAggregate": "question_id"
              }
            ]
          }
        },
        "typeVersion": 1
      },
      {
        "id": "1f03aba3-2bd0-4c32-bf17-cf5380c58c54",
        "name": "Get Random Question",
        "type": "n8n-nodes-base.nocoDb",
        "notes": "Questions",
        "position": [
          1020,
          -640
        ],
        "parameters": {
          "limit": 1,
          "options": {
            "where": "=(Id,nanyof,{{ $json.question_id[0] }},{{ $json.question_id.join(',') }})"
          },
          "operation": "getAll",
          "authentication": "nocoDbApiToken"
        },
        "credentials": {
          "nocoDbApiToken": {
            "id": "6M0tdo5lEJ6wbxJZ",
            "name": "n8n Token"
          }
        },
        "notesInFlow": true,
        "typeVersion": 3
      },
      {
        "id": "a8f0472f-25db-470b-8c65-58cadc50b3c3",
        "name": "Database Setup Instructions",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -2000,
          -1240
        ],
        "parameters": {
          "color": 3,
          "width": 600,
          "height": 940,
          "content": "## üìä **NocoDB Database Setup Required**\n\n### **Table 1: Users**\n- `Id` - Auto Number (Primary Key)\n- `telegram_id` - Number (Unique)\n- `username` - Single Line Text\n- `first_name` - Single Line Text  \n- `last_name` - Single Line Text\n- `score` - Number (Default: 0)\n- `games_played` - Number (Default: 0)\n- `correct_answers` - Number (Default: 0)\n- `current_question_id` - Number\n- `game_state` - Single Line Text (Default: 'idle')\n\n### **Table 2: Questions**\n- `Id` - Auto Number (Primary Key)\n- `question` - Long Text\n- `option_a` - Single Line Text\n- `option_b` - Single Line Text\n- `option_c` - Single Line Text\n- `option_d` - Single Line Text\n- `correct_answer` - Single Select (A,B,C,D)\n- `difficulty` - Number (1-5 for star rating)\n- `explanation` - Long Text\n- `category` - Single Line Text\n- `time_limit` - Number (seconds)\n\n### **Table 3: User Question History**\n- `Id` - Auto Number (Primary Key)\n- `user_telegram_id` - Number\n- `question_id` - Number\n- `answered_correctly` - Checkbox\n- `user_answer` - Single Line Text\n- `answered_at` - DateTime\n- `points_earned` - Number\n\n**‚ö†Ô∏è Make sure to update tables in workflow nodes! You will have a note under the Node to what table should it connect**\n\n"
        },
        "typeVersion": 1
      },
      {
        "id": "3e6758f9-064a-44fa-bbb3-8ab77fcd12ca",
        "name": "AI Generation System",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -1160,
          200
        ],
        "parameters": {
          "color": 5,
          "width": 480,
          "height": 440,
          "content": "## ü§ñ **AI Question Generation System**\n\n**Purpose**: Automatically generates fresh trivia questions daily\n\n**Schedule**: Runs once per day\n**Output**: 5 questions per category (8 categories = 40 questions/day)\n\n**Categories**:\n- Science & Nature\n- History\n- Geography  \n- Sports\n- Movies & TV\n- Technology\n- Food & Drink\n- Art & Literature\n\n**AI Model**: GPT-4O-Mini (cost-effective)\n**Quality**: Each question includes explanation and difficulty rating"
        },
        "typeVersion": 1
      },
      {
        "id": "022a4501-5b95-4a51-a9b3-cab2e50b9464",
        "name": "Message Processing",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -1180,
          -520
        ],
        "parameters": {
          "color": 4,
          "width": 400,
          "height": 320,
          "content": "## üì® **Message Processing Pipeline**\n\n**Step 1**: Telegram webhook receives message\n**Step 2**: Parse user data and message content\n**Step 3**: Check if user exists in database\n**Step 4**: Create new user if needed\n**Step 5**: Merge user data for processing\n\n**Handles**:\n- User registration\n- Message parsing\n- Command detection\n- User state management"
        },
        "typeVersion": 1
      },
      {
        "id": "846f7032-c510-4e5f-b04d-28cc38ea172e",
        "name": "Smart Question System",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          440,
          -1240
        ],
        "parameters": {
          "color": 6,
          "width": 580,
          "height": 380,
          "content": "## üéÆ **Smart Question System**\n\n**Features**:\n‚úÖ **No Repeats**: Users never see correctly answered questions again\n‚úÖ **History Tracking**: Every answer is logged\n‚úÖ **Dynamic Selection**: Always fresh questions available\n\n**Process**:\n1. Get user's question history\n2. Exclude correctly answered questions\n3. Select random question from remaining pool\n4. Track when question is answered\n\n**Fallback**: Shows \"All questions completed\" when user has answered everything"
        },
        "typeVersion": 1
      },
      {
        "id": "68a50473-cab9-4a3a-818f-1b37db782c3a",
        "name": "Leaderboard System",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          1680,
          -860
        ],
        "parameters": {
          "color": 3,
          "width": 380,
          "height": 340,
          "content": "## üìä **Leaderboard System**\n\n**Features**:\n- Top 10 players by score\n- Shows current user's position\n- Real-time ranking updates\n- Emoji medals for top 3\n\n**Display**:\nü•á 1st place\nü•à 2nd place  \nü•â 3rd place\nüî∏ Others\n\n**User Marker**: Shows \"‚Üê YOU\" for current user"
        },
        "typeVersion": 1
      },
      {
        "id": "5930ed78-fd46-402d-845c-653a680332c4",
        "name": "Answer Processing",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          360,
          -40
        ],
        "parameters": {
          "width": 320,
          "height": 460,
          "content": "## ‚úÖ **Answer Processing Engine**\n\n**Input Validation**:\n- Only accepts A, B, C, D answers\n- Must be in \"waiting_answer\" state\n- Case-insensitive processing\n\n**Scoring System**:\n‚≠ê = 1 point\n‚≠ê‚≠ê = 2 points\n‚≠ê‚≠ê‚≠ê = 3 points\n‚≠ê‚≠ê‚≠ê‚≠ê = 4 points\n‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê = 5 points\n\n**Actions**:\n‚úÖ Updates user score & stats\n‚úÖ Records answer in history\n‚úÖ Resets game state to idle\n‚úÖ Provides feedback with explanation"
        },
        "typeVersion": 1
      },
      {
        "id": "7edc0a6b-42a2-4290-b683-99a09e8c764d",
        "name": "Game State Management",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -900,
          -1140
        ],
        "parameters": {
          "color": 2,
          "width": 480,
          "height": 300,
          "content": "## üîÑ **Game State Management**\n\n**States**:\n- `idle` - Ready for new question\n- `waiting_answer` - Question active, awaiting response\n\n**Tracking**:\n- Current question ID\n- When question was asked\n- User's progress through questions\n\n**Safety**: Prevents invalid state transitions"
        },
        "typeVersion": 1
      },
      {
        "id": "0e5219c5-af7a-4c9f-b984-a33abdc2353e",
        "name": "Response System",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          1980,
          -400
        ],
        "parameters": {
          "color": 4,
          "width": 340,
          "height": 400,
          "content": "## üì§ **Response System**\n\n**Features**:\n- Markdown formatting for rich messages\n- Emoji integration for visual appeal\n- Consistent message structure\n- Error handling and fallbacks\n\n**Message Types**:\n- Command responses\n- Question displays\n- Answer feedback\n- Leaderboard updates\n- Error messages\n\n**Delivery**: All responses go through single Telegram node"
        },
        "typeVersion": 1
      },
      {
        "id": "8d1c5306-cb5a-4631-9dac-23932f7c7e80",
        "name": "History Tracking System",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -220,
          -1240
        ],
        "parameters": {
          "color": 6,
          "width": 600,
          "height": 380,
          "content": "## üé≤ **Question History Tracking**\n\n**Purpose**: Ensures users never see the same correctly answered question twice\n\n**Process**:\n1. Get user's answer history\n2. Collect all correctly answered question IDs\n3. Use NocoDB's `nanyof` operator to exclude those questions\n4. Return random question from remaining pool\n\n**Benefits**:\n‚úÖ Fresh content for returning users\n‚úÖ Prevents repetition\n‚úÖ Encourages continuous play\n‚úÖ Tracks user progress\n\n**Fallback**: When all questions are answered, shows completion message"
        },
        "typeVersion": 1
      },
      {
        "id": "4ea2a44e-c741-4d5f-ad4b-870ee562c394",
        "name": "Data Flow Overview",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -1220,
          -1340
        ],
        "parameters": {
          "color": 4,
          "width": 300,
          "height": 500,
          "content": "## üîÑ **Data Flow Summary**\n\n**Input**: Telegram message\n**Processing**: \n1. Parse & validate user\n2. Route command or answer\n3. Process business logic\n4. Update database\n5. Format response\n\n**Output**: Telegram response\n\n**Error Handling**: \n- Invalid inputs\n- Database failures\n- API timeouts\n- User state conflicts\n\n**Performance**:\n- Concurrent user support\n- Fast response times\n- Efficient database queries"
        },
        "typeVersion": 1
      }
    ],
    "pinData": {},
    "connections": {
      "Merge": {
        "main": [
          [
            {
              "node": "Telegram",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Merge1": {
        "main": [
          [
            {
              "node": "Telegram",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "NocoDB": {
        "ai_tool": [
          [
            {
              "node": "OpenAI",
              "type": "ai_tool",
              "index": 0
            }
          ]
        ]
      },
      "OpenAI": {
        "main": [
          [
            {
              "node": "Send New Questions Available Notification",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Aggregate": {
        "main": [
          [
            {
              "node": "Format Leaderboard",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Aggregate1": {
        "main": [
          [
            {
              "node": "Get Random Question",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Is Command?": {
        "main": [
          [
            {
              "node": "Command Router",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Valid Answer?",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "User Exists?": {
        "main": [
          [
            {
              "node": "Merge User Data",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Create New User",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Valid Answer?": {
        "main": [
          [
            {
              "node": "Get Current Question",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Handle Unknown Text",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Command Router": {
        "main": [
          [
            {
              "node": "Handle Basic Commands",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Handle Basic Commands",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Handle Basic Commands",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Handle Basic Commands",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Get User History",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Get Leaderboard",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Process Answer": {
        "main": [
          [
            {
              "node": "Merge1",
              "type": "main",
              "index": 0
            },
            {
              "node": "Update User Stats",
              "type": "main",
              "index": 0
            },
            {
              "node": "Mark Question As Answered",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Create New User": {
        "main": [
          [
            {
              "node": "Merge User Data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Format Question": {
        "main": [
          [
            {
              "node": "Merge",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get Leaderboard": {
        "main": [
          [
            {
              "node": "Aggregate",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Merge User Data": {
        "main": [
          [
            {
              "node": "Is Command?",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get User History": {
        "main": [
          [
            {
              "node": "Aggregate1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Telegram Trigger": {
        "main": [
          [
            {
              "node": "Parse Telegram Data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Update User Stats": {
        "main": [
          [
            {
              "node": "Merge1",
              "type": "main",
              "index": 1
            }
          ]
        ]
      },
      "Format Leaderboard": {
        "main": [
          [
            {
              "node": "Telegram",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Check Existing User": {
        "main": [
          [
            {
              "node": "User Exists?",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get Random Question": {
        "main": [
          [
            {
              "node": "Format Question",
              "type": "main",
              "index": 0
            },
            {
              "node": "Update User Game State",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Handle Unknown Text": {
        "main": [
          [
            {
              "node": "Telegram",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Parse Telegram Data": {
        "main": [
          [
            {
              "node": "Check Existing User",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get Current Question": {
        "main": [
          [
            {
              "node": "Process Answer",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Handle Basic Commands": {
        "main": [
          [
            {
              "node": "Telegram",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Update User Game State": {
        "main": [
          [
            {
              "node": "Merge",
              "type": "main",
              "index": 1
            }
          ]
        ]
      },
      "Get Possible Categories": {
        "main": [
          [
            {
              "node": "OpenAI",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Daily Question Generator": {
        "main": [
          [
            {
              "node": "Get Possible Categories",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    }
  },
  "lastUpdatedBy": 29,
  "workflowInfo": {
    "nodeCount": 41,
    "nodeTypes": {
      "n8n-nodes-base.if": {
        "count": 3
      },
      "n8n-nodes-base.code": {
        "count": 8
      },
      "n8n-nodes-base.merge": {
        "count": 2
      },
      "n8n-nodes-base.nocoDb": {
        "count": 9
      },
      "n8n-nodes-base.switch": {
        "count": 1
      },
      "n8n-nodes-base.telegram": {
        "count": 2
      },
      "n8n-nodes-base.aggregate": {
        "count": 2
      },
      "n8n-nodes-base.nocoDbTool": {
        "count": 1
      },
      "n8n-nodes-base.stickyNote": {
        "count": 10
      },
      "n8n-nodes-base.scheduleTrigger": {
        "count": 1
      },
      "n8n-nodes-base.telegramTrigger": {
        "count": 1
      },
      "@n8n/n8n-nodes-langchain.openAi": {
        "count": 1
      }
    }
  },
  "categories": [
    {
      "id": 45,
      "name": "Miscellaneous"
    },
    {
      "id": 47,
      "name": "AI Chatbot"
    }
  ],
  "image": []
}