{
  "id": 5470,
  "name": "Discord Daily Digest for Multiple Google Analytics Accounts",
  "totalViews": 273,
  "price": 0,
  "purchaseUrl": null,
  "user": {
    "name": "Jay Emp0",
    "username": "jay-emp0",
    "bio": "AI and Automation developer. Im implementing n8n and ai tools to automate marketing and sales in companies",
    "verified": true,
    "links": [
      "https://discord.com/users/jym.god"
    ],
    "avatar": "https://gravatar.com/avatar/b5cb4e342c961c6d6761469dac68bb3794f94fe439d86ce46861527ea7c08e8f?r=pg&d=retro&size=200"
  },
  "description": "# Overview\nFetch Multiple Google Analytics GA4 metrics daily, post to Discord, update previous day‚Äôs entry as GA data finalizes over seven days.\n![Discord Daily Digest for Multiple Google Analytics Accounts](https://articles.emp0.com/wp-content/uploads/2025/06/Discord-Daily-Digest-for-Multiple-Google-Analytics-Accounts.png)\n\n## Benefits\n- Automates daily traffic reporting\n- Maintains single message per day, avoids channel clutter\n- Provides near‚Äìreal-time updates by editing prior messages\n\n## Use Case\n- Teams tracking website performance via Discord (or any chat tool) without manual copy‚Äìpaste. Marketing managers, community moderators, growth hackers.\n- If your manager asks you for daily marketing report every morning, you can now automate it\n\n## Notes\n- google analytics node in n8n does not provide real time data. The node updates previous values for the next 7 days\n- discord node on n8n does not have features to update an exisiting message by message id. So we have used the discord api for this\n- most businesses use multiple google analytics properties across their digital platforms\n\n\n# Core Logic\n\n1. Schedule trigger fires once a day.\n2. Google Analytics node retrieves metrics for date ranges (past 7 days)\n3. Aggregate node collates all records.\n4. Discord node fetches the last 10 messages in the broadcast channel\n5. Code node maps existing Discord messages by to the google analytics data using the date fields\n5. For each GA record:\n\t1. If no message exists ‚Üí send new POST to the discord channel\n\t2. If message exists and metrics changed, send an update patch to the existing discord message\n8. Batch loops + wait nodes prevent rate-limit.\n\n# Setup Instructions\n\n1. Import workflow JSON into n8n.\n2. [Follow the n8n guide to Create Google Analytics OAuth2 credential](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googleanalytics) with access to all required GA accounts. \n3. [Follow the n8n guide to Create Discord OAuth2 credential](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.discord) for ‚ÄúGet Messages‚Äù operations.\n4. [Follow the Discord guide to Create HTTP Header Auth credential](https://discord.com/developers/docs/reference) named ‚ÄúDiscord-Bot‚Äù with header\n\n```\nKey: Authorization\n\nValue: Bot &lt;your-bot-token&gt;\n```\n\n\n5. In the two Set nodes in the beginning of the flow, assign discord_channel_id and google_analytics_id.\n![Edit discord and google analytics id](https://articles.emp0.com/wp-content/uploads/2025/06/edit-discord-and-google-analytics-id-1.png)\n\t1. Get your discord channel id by sending a text on your discord channel and then copy message link\n\t2. Paste the text below and you will see your message link in the form of https://discord.com/channels/server_id/channel_id/message_id , you will want to get the channel_id which is the number in the middle\n![get discord channel id](https://articles.emp0.com/wp-content/uploads/2025/06/12345678-1.png)\n\t3. Find your google analytics id by going to google analytics dashboard, seeing the properties in the top right and copy paste that number to the flow\n![get google analytics id ](https://articles.emp0.com/wp-content/uploads/2025/06/12345678.png)\n\n\n8. Adjust schedule trigger times to your preferred report hour.\n\n9. Activate workflow.\n\n# Customization\n\nReplace Discord HTTP Request nodes with Slack, ClickUp, WhatsApp, Telegram integrations by swapping POST/PATCH endpoints and authentication.",
  "createdAt": "2025-06-30T09:34:33.394Z",
  "nodes": [
    {
      "id": 19,
      "icon": "file:httprequest.svg",
      "name": "n8n-nodes-base.httpRequest",
      "codex": {
        "data": {
          "alias": [
            "API",
            "Request",
            "URL",
            "Build",
            "cURL"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                "icon": "‚òÄÔ∏è",
                "label": "2021: The Year to Automate the New You with n8n"
              },
              {
                "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                "icon": "üß¨",
                "label": "Why business process automation with n8n can change your daily life"
              },
              {
                "url": "https://n8n.io/blog/automatically-pulling-and-visualizing-data-with-n8n/",
                "icon": "üìà",
                "label": "Automatically pulling and visualizing data with n8n"
              },
              {
                "url": "https://n8n.io/blog/learn-how-to-automatically-cross-post-your-content-with-n8n/",
                "icon": "‚úçÔ∏è",
                "label": "Learn how to automatically cross-post your content with n8n"
              },
              {
                "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                "icon": "üßæ",
                "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
              },
              {
                "url": "https://n8n.io/blog/running-n8n-on-ships-an-interview-with-maranics/",
                "icon": "üõ≥",
                "label": "Running n8n on ships: An interview with Maranics"
              },
              {
                "url": "https://n8n.io/blog/what-are-apis-how-to-use-them-with-no-code/",
                "icon": " ü™¢",
                "label": "What are APIs and how to use them with no code"
              },
              {
                "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                "icon": "‚ö°Ô∏è",
                "label": "5 tasks you can automate with the new Notion API "
              },
              {
                "url": "https://n8n.io/blog/world-poetry-day-workflow/",
                "icon": "üìú",
                "label": "Celebrating World Poetry Day with a daily poem in Telegram"
              },
              {
                "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                "icon": "üí°",
                "label": "15 Google apps you can combine and automate to increase productivity"
              },
              {
                "url": "https://n8n.io/blog/automate-designs-with-bannerbear-and-n8n/",
                "icon": "üé®",
                "label": "Automate Designs with Bannerbear and n8n"
              },
              {
                "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                "icon": " üï∏Ô∏è",
                "label": "How uProc scraped a multi-page website with a low-code workflow"
              },
              {
                "url": "https://n8n.io/blog/building-an-expense-tracking-app-in-10-minutes/",
                "icon": "üì±",
                "label": "Building an expense tracking app in 10 minutes"
              },
              {
                "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                "icon": "ü§ñ",
                "label": "5 workflow automations for Mattermost that we love at n8n"
              },
              {
                "url": "https://n8n.io/blog/how-to-use-the-http-request-node-the-swiss-army-knife-for-workflow-automation/",
                "icon": "üß∞",
                "label": "How to use the HTTP Request Node - The Swiss Army Knife for Workflow Automation"
              },
              {
                "url": "https://n8n.io/blog/learn-how-to-use-webhooks-with-mattermost-slash-commands/",
                "icon": "ü¶Ñ",
                "label": "Learn how to use webhooks with Mattermost slash commands"
              },
              {
                "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                "icon": "üìà",
                "label": "How a Membership Development Manager automates his work and investments"
              },
              {
                "url": "https://n8n.io/blog/a-low-code-bitcoin-ticker-built-with-questdb-and-n8n-io/",
                "icon": "üìà",
                "label": "A low-code bitcoin ticker built with QuestDB and n8n.io"
              },
              {
                "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                "icon": "üé°",
                "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
              },
              {
                "url": "https://n8n.io/blog/automations-for-activists/",
                "icon": "‚ú®",
                "label": "How Common Knowledge use workflow automation for activism"
              },
              {
                "url": "https://n8n.io/blog/creating-scheduled-text-affirmations-with-n8n/",
                "icon": "ü§ü",
                "label": "Creating scheduled text affirmations with n8n"
              },
              {
                "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                "icon": "üõµ",
                "label": "How Goomer automated their operations with over 200 n8n workflows"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.httprequest/"
              }
            ]
          },
          "categories": [
            "Development",
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"output\"]",
      "defaults": {
        "name": "HTTP Request",
        "color": "#0004F5"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MCAyMEM0MCA4Ljk1MzE0IDMxLjA0NjkgMCAyMCAwQzguOTUzMTQgMCAwIDguOTUzMTQgMCAyMEMwIDMxLjA0NjkgOC45NTMxNCA0MCAyMCA0MEMzMS4wNDY5IDQwIDQwIDMxLjA0NjkgNDAgMjBaTTIwIDM2Ljk0NThDMTguODg1MiAzNi45NDU4IDE3LjEzNzggMzUuOTY3IDE1LjQ5OTggMzIuNjk4NUMxNC43OTY0IDMxLjI5MTggMTQuMTk2MSAyOS41NDMxIDEzLjc1MjYgMjcuNjg0N0gyNi4xODk4QzI1LjgwNDUgMjkuNTQwMyAyNS4yMDQ0IDMxLjI5MDEgMjQuNTAwMiAzMi42OTg1QzIyLjg2MjIgMzUuOTY3IDIxLjExNDggMzYuOTQ1OCAyMCAzNi45NDU4Wk0xMi45MDY0IDIwQzEyLjkwNjQgMjEuNjA5NyAxMy4wMDg3IDIzLjE2NCAxMy4yMDAzIDI0LjYzMDVIMjYuNzk5N0MyNi45OTEzIDIzLjE2NCAyNy4wOTM2IDIxLjYwOTcgMjcuMDkzNiAyMEMyNy4wOTM2IDE4LjM5MDMgMjYuOTkxMyAxNi44MzYgMjYuNzk5NyAxNS4zNjk1SDEzLjIwMDNDMTMuMDA4NyAxNi44MzYgMTIuOTA2NCAxOC4zOTAzIDEyLjkwNjQgMjBaTTIwIDMuMDU0MTlDMjEuMTE0OSAzLjA1NDE5IDIyLjg2MjIgNC4wMzA3OCAyNC41MDAxIDcuMzAwMzlDMjUuMjA2NiA4LjcxNDA4IDI1LjgwNzIgMTAuNDA2NyAyNi4xOTIgMTIuMzE1M0gxMy43NTAxQzE0LjE5MzMgMTAuNDA0NyAxNC43OTQyIDguNzEyNTQgMTUuNDk5OCA3LjMwMDY0QzE3LjEzNzcgNC4wMzA4MyAxOC44ODUxIDMuMDU0MTkgMjAgMy4wNTQxOVpNMzAuMTQ3OCAyMEMzMC4xNDc4IDE4LjQwOTkgMzAuMDU0MyAxNi44NjE3IDI5LjgyMjcgMTUuMzY5NUgzNi4zMDQyQzM2LjcyNTIgMTYuODQyIDM2Ljk0NTggMTguMzk2NCAzNi45NDU4IDIwQzM2Ljk0NTggMjEuNjAzNiAzNi43MjUyIDIzLjE1OCAzNi4zMDQyIDI0LjYzMDVIMjkuODIyN0MzMC4wNTQzIDIzLjEzODMgMzAuMTQ3OCAyMS41OTAxIDMwLjE0NzggMjBaTTI2LjI3NjcgNC4yNTUxMkMyNy42MzY1IDYuMzYwMTkgMjguNzExIDkuMTMyIDI5LjM3NzQgMTIuMzE1M0gzNS4xMDQ2QzMzLjI1MTEgOC42NjggMzAuMTA3IDUuNzgzNDYgMjYuMjc2NyA0LjI1NTEyWk0xMC42MjI2IDEyLjMxNTNINC44OTI5M0M2Ljc1MTQ3IDguNjY3ODQgOS44OTM1MSA1Ljc4MzQxIDEzLjcyMzIgNC4yNTUxM0MxMi4zNjM1IDYuMzYwMjEgMTEuMjg5IDkuMTMyMDEgMTAuNjIyNiAxMi4zMTUzWk0zLjA1NDE5IDIwQzMuMDU0MTkgMjEuNjAzIDMuMjc3NDMgMjMuMTU3NSAzLjY5NDg0IDI0LjYzMDVIMTAuMTIxN0M5Ljk0NjE5IDIzLjE0MiA5Ljg1MjIyIDIxLjU5NDMgOS44NTIyMiAyMEM5Ljg1MjIyIDE4LjQwNTcgOS45NDYxOSAxNi44NTggMTAuMTIxNyAxNS4zNjk1SDMuNjk0ODRDMy4yNzc0MyAxNi44NDI1IDMuMDU0MTkgMTguMzk3IDMuMDU0MTkgMjBaTTI2LjI3NjYgMzUuNzQyN0MyNy42MzY1IDMzLjYzOTMgMjguNzExIDMwLjg2OCAyOS4zNzc0IDI3LjY4NDdIMzUuMTA0NkMzMy4yNTEgMzEuMzMyMiAzMC4xMDY4IDM0LjIxNzkgMjYuMjc2NiAzNS43NDI3Wk0xMy43MjM0IDM1Ljc0MjdDOS44OTM2OSAzNC4yMTc5IDYuNzUxNTUgMzEuMzMyNCA0Ljg5MjkzIDI3LjY4NDdIMTAuNjIyNkMxMS4yODkgMzAuODY4IDEyLjM2MzUgMzMuNjM5MyAxMy43MjM0IDM1Ljc0MjdaIiBmaWxsPSIjM0E0MkU5Ii8+Cjwvc3ZnPgo="
      },
      "displayName": "HTTP Request",
      "typeVersion": 4,
      "nodeCategories": [
        {
          "id": 5,
          "name": "Development"
        },
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 38,
      "icon": "fa:pen",
      "name": "n8n-nodes-base.set",
      "codex": {
        "data": {
          "alias": [
            "Set",
            "JS",
            "JSON",
            "Filter",
            "Transform",
            "Map"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                "icon": "üè≠",
                "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
              },
              {
                "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                "icon": "‚òÄÔ∏è",
                "label": "2021: The Year to Automate the New You with n8n"
              },
              {
                "url": "https://n8n.io/blog/automatically-pulling-and-visualizing-data-with-n8n/",
                "icon": "üìà",
                "label": "Automatically pulling and visualizing data with n8n"
              },
              {
                "url": "https://n8n.io/blog/database-monitoring-and-alerting-with-n8n/",
                "icon": "üì°",
                "label": "Database Monitoring and Alerting with n8n"
              },
              {
                "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                "icon": "üßæ",
                "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
              },
              {
                "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                "icon": "store",
                "label": "6 e-commerce workflows to power up your Shopify s"
              },
              {
                "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                "icon": "üîó",
                "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
              },
              {
                "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                "icon": "‚öôÔ∏è",
                "label": "Automate your data processing pipeline in 9 steps"
              },
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "üë•",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                "icon": "‚ö°Ô∏è",
                "label": "5 tasks you can automate with the new Notion API "
              },
              {
                "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                "icon": "üí°",
                "label": "15 Google apps you can combine and automate to increase productivity"
              },
              {
                "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                "icon": " üï∏Ô∏è",
                "label": "How uProc scraped a multi-page website with a low-code workflow"
              },
              {
                "url": "https://n8n.io/blog/building-an-expense-tracking-app-in-10-minutes/",
                "icon": "üì±",
                "label": "Building an expense tracking app in 10 minutes"
              },
              {
                "url": "https://n8n.io/blog/the-ultimate-guide-to-automate-your-video-collaboration-with-whereby-mattermost-and-n8n/",
                "icon": "üìπ",
                "label": "The ultimate guide to automate your video collaboration with Whereby, Mattermost, and n8n"
              },
              {
                "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                "icon": "ü§ñ",
                "label": "5 workflow automations for Mattermost that we love at n8n"
              },
              {
                "url": "https://n8n.io/blog/learn-to-build-powerful-api-endpoints-using-webhooks/",
                "icon": "üß∞",
                "label": "Learn to Build Powerful API Endpoints Using Webhooks"
              },
              {
                "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                "icon": "üìà",
                "label": "How a Membership Development Manager automates his work and investments"
              },
              {
                "url": "https://n8n.io/blog/a-low-code-bitcoin-ticker-built-with-questdb-and-n8n-io/",
                "icon": "üìà",
                "label": "A low-code bitcoin ticker built with QuestDB and n8n.io"
              },
              {
                "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                "icon": "üé°",
                "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
              },
              {
                "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                "icon": "üéñ",
                "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
              },
              {
                "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                "icon": "üõµ",
                "label": "How Goomer automated their operations with over 200 n8n workflows"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.set/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Data Transformation"
            ]
          }
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Edit Fields"
      },
      "iconData": {
        "icon": "pen",
        "type": "icon"
      },
      "displayName": "Edit Fields (Set)",
      "typeVersion": 3,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 39,
      "icon": "fa:sync",
      "name": "n8n-nodes-base.splitInBatches",
      "codex": {
        "data": {
          "alias": [
            "Loop",
            "Concatenate",
            "Batch",
            "Split",
            "Split In Batches"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                "icon": " üï∏Ô∏è",
                "label": "How uProc scraped a multi-page website with a low-code workflow"
              },
              {
                "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                "icon": "üéñ",
                "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.splitinbatches/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Flow"
            ]
          }
        }
      },
      "group": "[\"organization\"]",
      "defaults": {
        "name": "Loop Over Items",
        "color": "#007755"
      },
      "iconData": {
        "icon": "sync",
        "type": "icon"
      },
      "displayName": "Loop Over Items (Split in Batches)",
      "typeVersion": 3,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 60,
      "icon": "file:discord.svg",
      "name": "n8n-nodes-base.discord",
      "codex": {
        "data": {
          "alias": [
            "human",
            "form",
            "wait",
            "hitl",
            "approval"
          ],
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.discord/"
              }
            ],
            "credentialDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/credentials/discord/"
              }
            ]
          },
          "categories": [
            "Communication",
            "HITL"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "HITL": [
              "Human in the Loop"
            ]
          }
        }
      },
      "group": "[\"output\"]",
      "defaults": {
        "name": "Discord"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTYiIGhlaWdodD0iMTk5IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+PHBhdGggZmlsbD0iIzU4NjVGMiIgZD0iTTIxNi44NTYgMTYuNTk3QTIwOC41IDIwOC41IDAgMCAwIDE2NC4wNDIgMGMtMi4yNzUgNC4xMTMtNC45MzMgOS42NDUtNi43NjYgMTQuMDQ2cS0yOS41MzgtNC40NDItNTguNTMzIDBjLTEuODMyLTQuNC00LjU1LTkuOTMzLTYuODQ2LTE0LjA0NmEyMDcuOCAyMDcuOCAwIDAgMC01Mi44NTUgMTYuNjM4QzUuNjE4IDY3LjE0Ny0zLjQ0MyAxMTYuNCAxLjA4NyAxNjQuOTU2YzIyLjE2OSAxNi41NTUgNDMuNjUzIDI2LjYxMiA2NC43NzUgMzMuMTkzQTE2MSAxNjEgMCAwIDAgNzkuNzM1IDE3NS4zYTEzNi40IDEzNi40IDAgMCAxLTIxLjg0Ni0xMC42MzIgMTA5IDEwOSAwIDAgMCA1LjM1Ni00LjIzN2M0Mi4xMjIgMTkuNzAyIDg3Ljg5IDE5LjcwMiAxMjkuNTEgMGExMzIgMTMyIDAgMCAwIDUuMzU1IDQuMjM3IDEzNiAxMzYgMCAwIDEtMjEuODg2IDEwLjY1M2M0LjAwNiA4LjAyIDguNjM4IDE1LjY3IDEzLjg3MyAyMi44NDggMjEuMTQyLTYuNTggNDIuNjQ2LTE2LjYzNyA2NC44MTUtMzMuMjEzIDUuMzE2LTU2LjI4OC05LjA4LTEwNS4wOS0zOC4wNTYtMTQ4LjM2TTg1LjQ3NCAxMzUuMDk1Yy0xMi42NDUgMC0yMy4wMTUtMTEuODA1LTIzLjAxNS0yNi4xOHMxMC4xNDktMjYuMiAyMy4wMTUtMjYuMiAyMy4yMzYgMTEuODA0IDIzLjAxNSAyNi4yYy4wMiAxNC4zNzUtMTAuMTQ4IDI2LjE4LTIzLjAxNSAyNi4xOG04NS4wNTEgMGMtMTIuNjQ1IDAtMjMuMDE0LTExLjgwNS0yMy4wMTQtMjYuMThzMTAuMTQ4LTI2LjIgMjMuMDE0LTI2LjJjMTIuODY3IDAgMjMuMjM2IDExLjgwNCAyMy4wMTUgMjYuMiAwIDE0LjM3NS0xMC4xNDggMjYuMTgtMjMuMDE1IDI2LjE4Ii8+PC9zdmc+"
      },
      "displayName": "Discord",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 6,
          "name": "Communication"
        },
        {
          "id": 28,
          "name": "HITL"
        }
      ]
    },
    {
      "id": 112,
      "icon": "fa:map-signs",
      "name": "n8n-nodes-base.switch",
      "codex": {
        "data": {
          "alias": [
            "Router",
            "If",
            "Path",
            "Filter",
            "Condition",
            "Logic",
            "Branch",
            "Case"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                "icon": "‚òÄÔ∏è",
                "label": "2021: The Year to Automate the New You with n8n"
              },
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "üë•",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/build-your-own-virtual-assistant-with-n8n-a-step-by-step-guide/",
                "icon": "üë¶",
                "label": "Build your own virtual assistant with n8n: A step by step guide"
              },
              {
                "url": "https://n8n.io/blog/automation-for-maintainers-of-open-source-projects/",
                "icon": "üè∑Ô∏è",
                "label": "How to automatically manage contributions to open-source projects"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.switch/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Flow"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Switch",
        "color": "#506000"
      },
      "iconData": {
        "icon": "map-signs",
        "type": "icon"
      },
      "displayName": "Switch",
      "typeVersion": 3,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 435,
      "icon": "file:analytics.svg",
      "name": "n8n-nodes-base.googleAnalytics",
      "codex": {
        "data": {
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                "icon": "üí°",
                "label": "15 Google apps you can combine and automate to increase productivity"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googleanalytics/"
              }
            ],
            "credentialDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/credentials/google/oauth-single-service/"
              }
            ]
          },
          "categories": [
            "Analytics"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0"
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Google Analytics"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE5MnYxOTJIMHoiLz48cGF0aCBmaWxsPSIjRjlBQjAwIiBkPSJNMTMwIDI5djEzMmMwIDE0Ljc3IDEwLjE5IDIzIDIxIDIzIDEwIDAgMjEtNyAyMS0yM1YzMGMwLTEzLjU0LTEwLTIyLTIxLTIycy0yMSA5LjMzLTIxIDIxIi8+PHBhdGggZmlsbD0iI0UzNzQwMCIgZD0iTTc1IDk2djY1YzAgMTQuNzcgMTAuMTkgMjMgMjEgMjMgMTAgMCAyMS03IDIxLTIzVjk3YzAtMTMuNTQtMTAtMjItMjEtMjJzLTIxIDkuMzMtMjEgMjEiLz48Y2lyY2xlIGN4PSI0MSIgY3k9IjE2MyIgcj0iMjEiIGZpbGw9IiNFMzc0MDAiLz48L3N2Zz4="
      },
      "displayName": "Google Analytics",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 10,
          "name": "Analytics"
        }
      ]
    },
    {
      "id": 514,
      "icon": "fa:pause-circle",
      "name": "n8n-nodes-base.wait",
      "codex": {
        "data": {
          "alias": [
            "pause",
            "sleep",
            "delay",
            "timeout"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "üë•",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.wait/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers",
              "Flow"
            ]
          }
        }
      },
      "group": "[\"organization\"]",
      "defaults": {
        "name": "Wait",
        "color": "#804050"
      },
      "iconData": {
        "icon": "pause-circle",
        "type": "icon"
      },
      "displayName": "Wait",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 565,
      "icon": "fa:sticky-note",
      "name": "n8n-nodes-base.stickyNote",
      "codex": {
        "data": {
          "alias": [
            "Comments",
            "Notes",
            "Sticky"
          ],
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Sticky Note",
        "color": "#FFD233"
      },
      "iconData": {
        "icon": "sticky-note",
        "type": "icon"
      },
      "displayName": "Sticky Note",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 834,
      "icon": "file:code.svg",
      "name": "n8n-nodes-base.code",
      "codex": {
        "data": {
          "alias": [
            "cpde",
            "Javascript",
            "JS",
            "Python",
            "Script",
            "Custom Code",
            "Function"
          ],
          "details": "The Code node allows you to execute JavaScript in your workflow.",
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.code/"
              }
            ]
          },
          "categories": [
            "Development",
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers",
              "Data Transformation"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Code"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xMTcxXzQ0MSkiPgo8cGF0aCBkPSJNMTcwLjI4MyA0OEgxOTYuNUMyMDMuMTI3IDQ4IDIwOC41IDQyLjYyNzQgMjA4LjUgMzZWMTJDMjA4LjUgNS4zNzI1OCAyMDMuMTI3IDAgMTk2LjUgMEgxNzAuMjgzQzEyNi4xIDAgOTAuMjgzIDM1LjgxNzIgOTAuMjgzIDgwVjE3NkM5MC4yODMgMjA2LjkyOCA2NS4yMTA5IDIzMiAzNC4yODMgMjMySDIzQzE2LjM3MjYgMjMyIDExIDIzNy4zNzIgMTEgMjQ0VjI2OEMxMSAyNzQuNjI3IDE2LjM3MjQgMjgwIDIyLjk5OTYgMjgwTDM0LjI4MyAyODBDNjUuMjEwOSAyODAgOTAuMjgzIDMwNS4wNzIgOTAuMjgzIDMzNlY0NDBDOTAuMjgzIDQ3OS43NjQgMTIyLjUxOCA1MTIgMTYyLjI4MyA1MTJIMTk2LjVDMjAzLjEyNyA1MTIgMjA4LjUgNTA2LjYyNyAyMDguNSA1MDBWNDc2QzIwOC41IDQ2OS4zNzMgMjAzLjEyNyA0NjQgMTk2LjUgNDY0SDE2Mi4yODNDMTQ5LjAyOCA0NjQgMTM4LjI4MyA0NTMuMjU1IDEzOC4yODMgNDQwVjMzNkMxMzguMjgzIDMwOS4wMjIgMTI4LjAxMSAyODQuNDQzIDExMS4xNjQgMjY1Ljk2MUMxMDYuMTA5IDI2MC40MTYgMTA2LjEwOSAyNTEuNTg0IDExMS4xNjQgMjQ2LjAzOUMxMjguMDExIDIyNy41NTcgMTM4LjI4MyAyMDIuOTc4IDEzOC4yODMgMTc2VjgwQzEzOC4yODMgNjIuMzI2OSAxNTIuNjEgNDggMTcwLjI4MyA0OFoiIGZpbGw9IiNGRjk5MjIiLz4KPHBhdGggZD0iTTMwNSAzNkMzMDUgNDIuNjI3NCAzMTAuMzczIDQ4IDMxNyA0OEgzNDIuOTc5QzM2MC42NTIgNDggMzc0Ljk3OCA2Mi4zMjY5IDM3NC45NzggODBWMTc2QzM3NC45NzggMjAyLjk3OCAzODUuMjUxIDIyNy41NTcgNDAyLjA5OCAyNDYuMDM5QzQwNy4xNTMgMjUxLjU4NCA0MDcuMTUzIDI2MC40MTYgNDAyLjA5OCAyNjUuOTYxQzM4NS4yNTEgMjg0LjQ0MyAzNzQuOTc4IDMwOS4wMjIgMzc0Ljk3OCAzMzZWNDMyQzM3NC45NzggNDQ5LjY3MyAzNjAuNjUyIDQ2NCAzNDIuOTc5IDQ2NEgzMTdDMzEwLjM3MyA0NjQgMzA1IDQ2OS4zNzMgMzA1IDQ3NlY1MDBDMzA1IDUwNi42MjcgMzEwLjM3MyA1MTIgMzE3IDUxMkgzNDIuOTc5QzM4Ny4xNjEgNTEyIDQyMi45NzggNDc2LjE4MyA0MjIuOTc4IDQzMlYzMzZDNDIyLjk3OCAzMDUuMDcyIDQ0OC4wNTEgMjgwIDQ3OC45NzkgMjgwSDQ5MEM0OTYuNjI3IDI4MCA1MDIgMjc0LjYyOCA1MDIgMjY4VjI0NEM1MDIgMjM3LjM3MyA0OTYuNjI4IDIzMiA0OTAgMjMyTDQ3OC45NzkgMjMyQzQ0OC4wNTEgMjMyIDQyMi45NzggMjA2LjkyOCA0MjIuOTc4IDE3NlY4MEM0MjIuOTc4IDM1LjgxNzIgMzg3LjE2MSAwIDM0Mi45NzkgMEgzMTdDMzEwLjM3MyAwIDMwNSA1LjM3MjU4IDMwNSAxMlYzNloiIGZpbGw9IiNGRjk5MjIiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xMTcxXzQ0MSI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="
      },
      "displayName": "Code",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 5,
          "name": "Development"
        },
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 839,
      "icon": "fa:clock",
      "name": "n8n-nodes-base.scheduleTrigger",
      "codex": {
        "data": {
          "alias": [
            "Time",
            "Scheduler",
            "Polling",
            "Cron",
            "Interval"
          ],
          "resources": {
            "generic": [],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.scheduletrigger/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0"
        }
      },
      "group": "[\"trigger\",\"schedule\"]",
      "defaults": {
        "name": "Schedule Trigger",
        "color": "#31C49F"
      },
      "iconData": {
        "icon": "clock",
        "type": "icon"
      },
      "displayName": "Schedule Trigger",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 1240,
      "icon": "file:sort.svg",
      "name": "n8n-nodes-base.sort",
      "codex": {
        "data": {
          "alias": [
            "Sort",
            "Order",
            "Transform",
            "Array",
            "List",
            "Item",
            "Random"
          ],
          "details": "",
          "resources": {
            "generic": [],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.sort/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Data Transformation"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Sort"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSJub25lIj48cGF0aCBmaWxsPSIjODI4N0VCIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMzAuNSA0MjIuNWMtNi42MjcgMC0xMi01LjM3My0xMi0xMnYtMzUxYzAtNi42MjcgNS4zNzMtMTIgMTItMTJoMjRjNi42MjcgMCAxMiA1LjM3MyAxMiAxMnYzNTFjMCA2LjYyNy01LjM3MyAxMi0xMiAxMnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiM4Mjg3RUIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTM2LjA3NyAzMzMuNDgyYzkuMzk4LTkuMzQ2IDI0LjU5NC05LjMwNCAzMy45NC4wOTVsNzIuNDgzIDcyLjg4NyA3Mi40ODItNzIuODg3YzkuMzQ3LTkuMzk5IDI0LjU0My05LjQ0MSAzMy45NDEtLjA5NXM5LjQ0MSAyNC41NDMuMDk1IDMzLjk0MWwtODkuNSA5MGEyNCAyNCAwIDAgMS0zNC4wMzYgMGwtODkuNS05MGMtOS4zNDYtOS4zOTgtOS4zMDQtMjQuNTk0LjA5NS0zMy45NDFNMzgxLjUgODkuNWM2LjYyNyAwIDEyIDUuMzczIDEyIDEydjM1MWMwIDYuNjI3LTUuMzczIDEyLTEyIDEyaC0yNGMtNi42MjcgMC0xMi01LjM3My0xMi0xMnYtMzUxYzAtNi42MjcgNS4zNzMtMTIgMTItMTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjODI4N0VCIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00NzUuOTIzIDE3OC41MThjLTkuMzk4IDkuMzQ2LTI0LjU5NCA5LjMwNC0zMy45NDEtLjA5NUwzNjkuNSAxMDUuNTM2bC03Mi40ODIgNzIuODg3Yy05LjM0NyA5LjM5OS0yNC41NDMgOS40NDEtMzMuOTQxLjA5NXMtOS40NDEtMjQuNTQzLS4wOTUtMzMuOTQxbDg5LjUtOTBhMjQgMjQgMCAwIDEgMzQuMDM2IDBsODkuNSA5MGM5LjM0NiA5LjM5OCA5LjMwNCAyNC41OTQtLjA5NSAzMy45NDEiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="
      },
      "displayName": "Sort",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    }
  ],
  "views": 273,
  "recentViews": 1,
  "workflow": {
    "id": "EkiPj955iLTz4N2X",
    "meta": {
      "instanceId": "52254486b159b349334953c1738da94e90477c7604aa8db2062d11afc0120739",
      "templateCredsSetupCompleted": true
    },
    "name": "google analytics to discord",
    "tags": [
      {
        "id": "ieqEVthNwLDfYSc1",
        "name": "Emp0",
        "createdAt": "2025-05-06T11:04:25.307Z",
        "updatedAt": "2025-05-06T11:04:25.307Z"
      }
    ],
    "nodes": [
      {
        "id": "d3bf8c74-1adf-46ca-8bb0-18ad83a1a3e7",
        "name": "Edit Fields2",
        "type": "n8n-nodes-base.set",
        "position": [
          440,
          80
        ],
        "parameters": {
          "options": {},
          "assignments": {
            "assignments": [
              {
                "id": "c89a369e-0c67-476f-8227-b56b2b1c87b3",
                "name": "discord_channel_id",
                "type": "string",
                "value": ""
              },
              {
                "id": "0bc05648-2f31-4757-8703-75d3c7f80917",
                "name": "google_analytics_id",
                "type": "string",
                "value": "="
              }
            ]
          }
        },
        "typeVersion": 3.4
      },
      {
        "id": "6592e781-3b51-44c7-9b60-0d38cb6143b2",
        "name": "Edit Fields3",
        "type": "n8n-nodes-base.set",
        "position": [
          440,
          280
        ],
        "parameters": {
          "options": {},
          "assignments": {
            "assignments": [
              {
                "id": "c89a369e-0c67-476f-8227-b56b2b1c87b3",
                "name": "discord_channel_id",
                "type": "string",
                "value": ""
              },
              {
                "id": "be197313-7b88-462a-8ff7-9bb9ddf7e846",
                "name": "google_analytics_id",
                "type": "string",
                "value": ""
              }
            ]
          }
        },
        "typeVersion": 3.4
      },
      {
        "id": "325bcec9-276a-4a62-9755-04c3033f385f",
        "name": "Google Analytics",
        "type": "n8n-nodes-base.googleAnalytics",
        "position": [
          820,
          380
        ],
        "parameters": {
          "metricsGA4": {
            "metricValues": [
              {},
              {
                "listName": "active1DayUsers"
              },
              {
                "listName": "active7DayUsers"
              },
              {
                "listName": "eventCount"
              },
              {
                "listName": "screenPageViews"
              },
              {
                "listName": "userEngagementDuration"
              }
            ]
          },
          "propertyId": {
            "__rl": true,
            "mode": "id",
            "value": "={{ $json.google_analytics_id }}"
          },
          "dimensionsGA4": {
            "dimensionValues": [
              {}
            ]
          },
          "additionalFields": {}
        },
        "credentials": {
          "googleAnalyticsOAuth2": {
            "id": "2MUaxG3VpYuVQyJi",
            "name": "Ganalytics - user@gmail.com"
          }
        },
        "typeVersion": 2
      },
      {
        "id": "e8b1a2da-d59f-44fb-8d03-60e6304d0d3a",
        "name": "Schedule Trigger",
        "type": "n8n-nodes-base.scheduleTrigger",
        "position": [
          280,
          280
        ],
        "parameters": {
          "rule": {
            "interval": [
              {
                "triggerAtHour": 21,
                "triggerAtMinute": 51
              }
            ]
          }
        },
        "typeVersion": 1.2
      },
      {
        "id": "5b91ccf6-5397-4e4b-97a9-bbe196ddbc8e",
        "name": "Schedule Trigger1",
        "type": "n8n-nodes-base.scheduleTrigger",
        "position": [
          280,
          80
        ],
        "parameters": {
          "rule": {
            "interval": [
              {
                "triggerAtHour": 21,
                "triggerAtMinute": 50
              }
            ]
          }
        },
        "typeVersion": 1.2
      },
      {
        "id": "9073f015-ae42-4461-b423-88fa2d45c205",
        "name": "Sort",
        "type": "n8n-nodes-base.sort",
        "position": [
          980,
          380
        ],
        "parameters": {
          "options": {},
          "sortFieldsUi": {
            "sortField": [
              {
                "fieldName": "date"
              }
            ]
          }
        },
        "typeVersion": 1
      },
      {
        "id": "a71e1cdd-ddc3-458d-b349-638ad0d59146",
        "name": "Discord",
        "type": "n8n-nodes-base.discord",
        "position": [
          1280,
          380
        ],
        "webhookId": "6cc9c7b4-4b8e-4b01-a125-d16c6f9c2e15",
        "parameters": {
          "limit": 10,
          "guildId": {
            "__rl": true,
            "mode": "list",
            "value": "1363068664886329397"
          },
          "options": {},
          "resource": "message",
          "channelId": {
            "__rl": true,
            "mode": "id",
            "value": "={{ $('Code1').first().json.discord_channel_id }}"
          },
          "operation": "getAll",
          "authentication": "oAuth2"
        },
        "credentials": {
          "discordOAuth2Api": {
            "id": "aAorRULaRsUXUcmc",
            "name": "Discord - jarvis_bot"
          }
        },
        "typeVersion": 2,
        "alwaysOutputData": true
      },
      {
        "id": "67074924-8e24-4cf2-bc0b-115112b1bcef",
        "name": "Code",
        "type": "n8n-nodes-base.code",
        "position": [
          1620,
          380
        ],
        "parameters": {
          "jsCode": "// n8n Function Node\n\n// 1. Grab GA records\nconst gaRecords   = $('gaData').first().json.gaData;\nconst discord_channel_id   = $('Code1').first().json.discord_channel_id;\n\n// 2. Grab Discord messages and unpack their .json\nconst discordMsgs = $input.all().map(item => item.json);\n\n// Helper: get embed field by name\nfunction getEmbedField(msg, name) {\n  return msg.embeds?.[0]?.fields.find(f => f.name === name)?.value || null;\n}\n\n// Format JS Date to dd-MM-yyyy\nfunction formatDate(dateObj) {\n  const dd = String(dateObj.getDate()).padStart(2,'0');\n  const mm = String(dateObj.getMonth()+1).padStart(2,'0');\n  const yyyy = dateObj.getFullYear();\n  return `${dd}-${mm}-${yyyy}`;\n}\n\nconst today = formatDate(new Date());\n\n// Build lookup of Discord messages by Date\nconst discordByDate = {};\nfor (const msg of discordMsgs) {\n  const date = getEmbedField(msg, 'Date');\n  if (date) discordByDate[date] = msg;\n}\n\nconst results = [];\n\nfor (const wrapper of gaRecords) {\n  const rec = wrapper.json;\n  const dateKey = rec.date;\n  const existing = discordByDate[dateKey];\n\n  // Prepare new fields\n  const newFields = [\n    { name: 'Date',                  value: rec.date,                    inline: true },\n    { name: 'totalUsers',           value: rec.totalUsers,             inline: true },\n    { name: 'active1DayUsers',      value: rec.active1DayUsers,        inline: true },\n    { name: 'active7DayUsers',      value: rec.active7DayUsers,        inline: true },\n    { name: 'eventCount',           value: rec.eventCount,             inline: true },\n    { name: 'screenPageViews',      value: rec.screenPageViews,        inline: true },\n    { name: 'userEngagementDuration', value: rec.userEngagementDuration, inline: true },\n    { name: 'createdAt',            value: existing ? getEmbedField(existing, 'createdAt') : today, inline: true },\n    { name: 'updatedAt',            value: today,                       inline: true },\n  ];\n\n  // If exists, compare fields to avoid unnecessary updates\n  if (existing) {\n    let changed = false;\n    for (const field of newFields) {\n      if (getEmbedField(existing, field.name) !== field.value) {\n        changed = true;\n        break;\n      }\n    }\n    if (changed) {\n      results.push({\n        action:    'update',\n        messageId: existing.id,\n        channelId: discord_channel_id,\n        payload: {\n          content: '',\n          embeds: [{\n            type:   'rich',\n            color:  16751872,\n            fields: newFields,\n            footer: {\n              text:     'Google Analytics',\n              icon_url: 'https://images-ext-1.discordapp.net/external/BO599wb-y-yg7GM59J_ZSexsGRd2zIqOF98eJ89J_04/https/www.gstatic.com/analytics-suite/header/suite/v2/ic_analytics.svg'\n            }\n          }]\n        }\n      });\n    }\n  } else {\n    // New record ‚Üí create\n    results.push({\n      action:  'create',\n      channelId: discord_channel_id,\n      payload: {\n        content: '',\n        embeds: [{\n          type:   'rich',\n          color:  16751872,\n          fields: newFields,\n          footer: {\n            text:     'Google Analytics',\n            icon_url: 'https://images-ext-1.discordapp.net/external/BO599wb-y-yg7GM59J_ZSexsGRd2zIqOF98eJ89J_04/https/www.gstatic.com/analytics-suite/header/suite/v2/ic_analytics.svg'\n          }\n        }]\n      }\n    });\n  }\n}\n\n// Return array for next nodes\nreturn results.map(r => ({ json: r }));\n"
        },
        "typeVersion": 2
      },
      {
        "id": "01594d3d-7bc9-425c-af39-27c69d825321",
        "name": "Sticky Note",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -40,
          40
        ],
        "parameters": {
          "width": 640,
          "height": 180,
          "content": "## Google Analytics Property 1\n## Discord Channel 1\n"
        },
        "typeVersion": 1
      },
      {
        "id": "04ed2530-fa65-427f-9019-bf970055481c",
        "name": "Sticky Note3",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -40,
          240
        ],
        "parameters": {
          "width": 640,
          "height": 180,
          "content": "## Google Analytics Property 2\n## Discord Channel 2\n"
        },
        "typeVersion": 1
      },
      {
        "id": "7567b2b8-2c12-42d8-898a-be7f59414061",
        "name": "Code1",
        "type": "n8n-nodes-base.code",
        "position": [
          680,
          380
        ],
        "parameters": {
          "jsCode": "return $input.all();"
        },
        "typeVersion": 2
      },
      {
        "id": "84d96e4a-2da5-4823-ba06-ec56346c5247",
        "name": "gaData",
        "type": "n8n-nodes-base.code",
        "position": [
          1120,
          380
        ],
        "parameters": {
          "jsCode": "return {\"gaData\":$input.all()}"
        },
        "typeVersion": 2
      },
      {
        "id": "6ea881a9-19ef-4f4c-815c-efd5b963a7fc",
        "name": "HTTP Request",
        "type": "n8n-nodes-base.httpRequest",
        "position": [
          2380,
          200
        ],
        "parameters": {
          "url": "=https://discord.com/api/v10/channels/{{ $json.channelId }}/messages",
          "method": "POST",
          "options": {},
          "jsonBody": "={{ $json.payload }}",
          "sendBody": true,
          "sendHeaders": true,
          "specifyBody": "json",
          "authentication": "genericCredentialType",
          "genericAuthType": "httpHeaderAuth",
          "headerParameters": {
            "parameters": [
              {
                "name": "Content-Type",
                "value": "application/json"
              }
            ]
          }
        },
        "credentials": {
          "httpHeaderAuth": {
            "id": "flhKBJwaIL2eyx1u",
            "name": "Header Auth - discord"
          }
        },
        "typeVersion": 4.2
      },
      {
        "id": "e27342c6-4128-4be3-bf95-1d11fdc36126",
        "name": "HTTP Request8",
        "type": "n8n-nodes-base.httpRequest",
        "position": [
          2340,
          620
        ],
        "parameters": {
          "url": "=https://discord.com/api/v10/channels/{{ $json.channelId }}/messages/{{ $json.messageId }}",
          "method": "PATCH",
          "options": {},
          "jsonBody": "={{ $json.payload }}",
          "sendBody": true,
          "sendHeaders": true,
          "specifyBody": "json",
          "authentication": "genericCredentialType",
          "genericAuthType": "httpHeaderAuth",
          "headerParameters": {
            "parameters": [
              {
                "name": "Content-Type",
                "value": "application/json"
              }
            ]
          }
        },
        "credentials": {
          "httpHeaderAuth": {
            "id": "flhKBJwaIL2eyx1u",
            "name": "Header Auth - discord"
          }
        },
        "typeVersion": 4.2
      },
      {
        "id": "113d9181-b7f5-455c-8c98-3592b223544a",
        "name": "Switch",
        "type": "n8n-nodes-base.switch",
        "position": [
          1840,
          380
        ],
        "parameters": {
          "rules": {
            "values": [
              {
                "outputKey": "create",
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "0fada883-e01d-402f-a582-960511303d1f",
                      "operator": {
                        "type": "string",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.action }}",
                      "rightValue": "create"
                    }
                  ]
                },
                "renameOutput": true
              },
              {
                "outputKey": "update",
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "28274b49-c3eb-49cc-9e22-ee10e0be456f",
                      "operator": {
                        "name": "filter.operator.equals",
                        "type": "string",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.action }}",
                      "rightValue": "update"
                    }
                  ]
                },
                "renameOutput": true
              }
            ]
          },
          "options": {}
        },
        "typeVersion": 3.2
      },
      {
        "id": "e1bb4d90-07d8-4d9a-9fa9-77969b980973",
        "name": "Loop Over Items",
        "type": "n8n-nodes-base.splitInBatches",
        "position": [
          2140,
          600
        ],
        "parameters": {
          "options": {}
        },
        "typeVersion": 3
      },
      {
        "id": "cb148176-64d2-412d-b93f-7a4f41f71bb6",
        "name": "Wait",
        "type": "n8n-nodes-base.wait",
        "position": [
          2560,
          620
        ],
        "webhookId": "1b5c93e8-676d-49fa-acf3-46aeefbcc167",
        "parameters": {
          "amount": 10
        },
        "typeVersion": 1.1
      },
      {
        "id": "32daa189-fbf3-456f-8fe1-532ea5329163",
        "name": "Loop Over Items4",
        "type": "n8n-nodes-base.splitInBatches",
        "position": [
          2140,
          160
        ],
        "parameters": {
          "options": {}
        },
        "typeVersion": 3
      },
      {
        "id": "acfea1dc-6154-419a-bfc3-33d38b88d392",
        "name": "Wait4",
        "type": "n8n-nodes-base.wait",
        "position": [
          2560,
          180
        ],
        "webhookId": "97dcc624-188f-422e-a852-3c33f67666ce",
        "parameters": {
          "amount": 10
        },
        "typeVersion": 1.1
      },
      {
        "id": "d2aebef9-605a-471a-b0cd-c90946e0ecaf",
        "name": "Sticky Note1",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          2060,
          20
        ],
        "parameters": {
          "color": 5,
          "width": 700,
          "height": 360,
          "content": "## send a new discord message\n\nif its a new day, then we send a new discord message to the discord server with the latest google analytics data. Google analytics data refreshes at UTC midnight"
        },
        "typeVersion": 1
      },
      {
        "id": "530cb064-a232-4791-8041-d2e86d081687",
        "name": "Sticky Note2",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          2060,
          440
        ],
        "parameters": {
          "color": 5,
          "width": 700,
          "height": 400,
          "content": "## update an existing discord message\n\nGoogle analytics data in not real time and the value changes in the next few days. After 7 days, the traffic values are finalized. So in order to display the accurate traffic to the discord server, we need to update the previous values "
        },
        "typeVersion": 1
      },
      {
        "id": "04c66040-d5dd-46df-874c-13a2f41e5bee",
        "name": "Edit Fields",
        "type": "n8n-nodes-base.set",
        "position": [
          440,
          480
        ],
        "parameters": {
          "options": {},
          "assignments": {
            "assignments": [
              {
                "id": "c89a369e-0c67-476f-8227-b56b2b1c87b3",
                "name": "discord_channel_id",
                "type": "string",
                "value": ""
              },
              {
                "id": "0bc05648-2f31-4757-8703-75d3c7f80917",
                "name": "google_analytics_id",
                "type": "string",
                "value": "="
              }
            ]
          }
        },
        "typeVersion": 3.4
      },
      {
        "id": "41409245-e194-4e69-866c-f357af2607b1",
        "name": "Edit Fields4",
        "type": "n8n-nodes-base.set",
        "position": [
          440,
          680
        ],
        "parameters": {
          "options": {},
          "assignments": {
            "assignments": [
              {
                "id": "c89a369e-0c67-476f-8227-b56b2b1c87b3",
                "name": "discord_channel_id",
                "type": "string",
                "value": ""
              },
              {
                "id": "be197313-7b88-462a-8ff7-9bb9ddf7e846",
                "name": "google_analytics_id",
                "type": "string",
                "value": ""
              }
            ]
          }
        },
        "typeVersion": 3.4
      },
      {
        "id": "15404bc5-657a-4429-ada9-6528d766b779",
        "name": "Schedule Trigger2",
        "type": "n8n-nodes-base.scheduleTrigger",
        "position": [
          280,
          680
        ],
        "parameters": {
          "rule": {
            "interval": [
              {
                "triggerAtHour": 21,
                "triggerAtMinute": 53
              }
            ]
          }
        },
        "typeVersion": 1.2
      },
      {
        "id": "1901a316-6baa-4674-b8b5-cfa4a35d3818",
        "name": "Schedule Trigger3",
        "type": "n8n-nodes-base.scheduleTrigger",
        "position": [
          280,
          480
        ],
        "parameters": {
          "rule": {
            "interval": [
              {
                "triggerAtHour": 21,
                "triggerAtMinute": 52
              }
            ]
          }
        },
        "typeVersion": 1.2
      },
      {
        "id": "34d1a765-f42a-4cdd-bc7a-2c97234fd3fd",
        "name": "Sticky Note4",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -40,
          440
        ],
        "parameters": {
          "width": 640,
          "height": 180,
          "content": "## Google Analytics Property 3\n## Discord Channel 3\n\n"
        },
        "typeVersion": 1
      },
      {
        "id": "44ca144f-ca2d-4c7a-8348-2a50dbb48772",
        "name": "Sticky Note5",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -40,
          640
        ],
        "parameters": {
          "width": 640,
          "height": 180,
          "content": "## Google Analytics Property 4\n## Discord Channel 4\n"
        },
        "typeVersion": 1
      },
      {
        "id": "28e662c6-7071-4d54-b7ca-710d185e3422",
        "name": "Sticky Note6",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          820,
          200
        ],
        "parameters": {
          "color": 7,
          "width": 400,
          "content": "### Fetches and sorts google analytics data\n\nEnsure that your google analytics data is setup properly, follow the [n8n guide here](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googleanalytics/)"
        },
        "typeVersion": 1
      },
      {
        "id": "dfc3412f-e989-4c6f-aa8e-5a2e34b0221d",
        "name": "Sticky Note7",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          1280,
          200
        ],
        "parameters": {
          "color": 7,
          "width": 260,
          "content": "### Fetches and sorts discord messages from the channel\n\nEnsure that your discord Oauth is setup properly, follow the [n8n guide to setup discord oauth](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.discord/)"
        },
        "typeVersion": 1
      },
      {
        "id": "1287b658-275e-4d72-858c-2f279a20eb41",
        "name": "Sort6",
        "type": "n8n-nodes-base.sort",
        "onError": "continueRegularOutput",
        "position": [
          1440,
          380
        ],
        "parameters": {
          "options": {},
          "sortFieldsUi": {
            "sortField": [
              {
                "fieldName": "embeds[0].fields[0].value"
              }
            ]
          }
        },
        "typeVersion": 1
      },
      {
        "id": "8a999078-a716-4b1a-b501-dec5beb469f0",
        "name": "Sticky Note8",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          1600,
          200
        ],
        "parameters": {
          "color": 7,
          "width": 160,
          "content": "### Maps the data\nusing the Date field"
        },
        "typeVersion": 1
      },
      {
        "id": "dfe339cd-0335-4f77-8517-a35441eb6193",
        "name": "Sticky Note9",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          2060,
          -140
        ],
        "parameters": {
          "color": 7,
          "width": 700,
          "height": 120,
          "content": "### Use the discord api to update messages\nHere, we use the official discord api rather than the discord node to update messages because that feature has not been implmented in n8n yet. [Read the official discord docs](https://discord.com/developers/docs/reference#authentication) to setup your  Bot Token Authorization Header"
        },
        "typeVersion": 1
      },
      {
        "id": "39be50dc-79bc-4091-a802-ae7aacdfa684",
        "name": "Sticky Note10",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -580,
          -20
        ],
        "parameters": {
          "color": 7,
          "width": 440,
          "height": 480,
          "content": "## Get your discord channel id\n1. Get your discord channel id by sending a text on your discord channel and then copy message link\n2. Paste the text below and you will see your message link in the form of https://discord.com/channels/server_id/channel_id/message_id , you will want to get the channel_id which is the number in the middle\n![get discord channel id](https://articles.emp0.com/wp-content/uploads/2025/06/12345678-1.png)"
        },
        "typeVersion": 1
      },
      {
        "id": "a1032930-f62f-49d4-8e39-28c9c73fe5a2",
        "name": "Sticky Note11",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -580,
          500
        ],
        "parameters": {
          "color": 7,
          "width": 440,
          "height": 420,
          "content": "## Get your google analytics id\n1. Find your google analytics id by going to google analytics dashboard, seeing the properties in the top right and copy paste that number to the flow\n![get google analytics id ](https://articles.emp0.com/wp-content/uploads/2025/06/12345678.png)"
        },
        "typeVersion": 1
      }
    ],
    "active": false,
    "pinData": {},
    "settings": {
      "callerPolicy": "workflowsFromSameOwner",
      "errorWorkflow": "ernonQOxi07n6WGi",
      "executionOrder": "v1"
    },
    "versionId": "064d13a2-ee8a-4672-9065-09e4aed21c32",
    "connections": {
      "Code": {
        "main": [
          [
            {
              "node": "Switch",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Sort": {
        "main": [
          [
            {
              "node": "gaData",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Wait": {
        "main": [
          [
            {
              "node": "Loop Over Items",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Code1": {
        "main": [
          [
            {
              "node": "Google Analytics",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Sort6": {
        "main": [
          [
            {
              "node": "Code",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Wait4": {
        "main": [
          [
            {
              "node": "Loop Over Items4",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Switch": {
        "main": [
          [
            {
              "node": "Loop Over Items4",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Loop Over Items",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "gaData": {
        "main": [
          [
            {
              "node": "Discord",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Discord": {
        "main": [
          [
            {
              "node": "Sort6",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Edit Fields": {
        "main": [
          [
            {
              "node": "Code1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Edit Fields2": {
        "main": [
          [
            {
              "node": "Code1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Edit Fields3": {
        "main": [
          [
            {
              "node": "Code1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Edit Fields4": {
        "main": [
          [
            {
              "node": "Code1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "HTTP Request": {
        "main": [
          [
            {
              "node": "Wait4",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "HTTP Request8": {
        "main": [
          [
            {
              "node": "Wait",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Loop Over Items": {
        "main": [
          [],
          [
            {
              "node": "HTTP Request8",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Google Analytics": {
        "main": [
          [
            {
              "node": "Sort",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Loop Over Items4": {
        "main": [
          [],
          [
            {
              "node": "HTTP Request",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Schedule Trigger": {
        "main": [
          [
            {
              "node": "Edit Fields3",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Schedule Trigger1": {
        "main": [
          [
            {
              "node": "Edit Fields2",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Schedule Trigger2": {
        "main": [
          [
            {
              "node": "Edit Fields4",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Schedule Trigger3": {
        "main": [
          [
            {
              "node": "Edit Fields",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    }
  },
  "lastUpdatedBy": 29,
  "workflowInfo": {
    "nodeCount": 34,
    "nodeTypes": {
      "n8n-nodes-base.set": {
        "count": 4
      },
      "n8n-nodes-base.code": {
        "count": 3
      },
      "n8n-nodes-base.sort": {
        "count": 2
      },
      "n8n-nodes-base.wait": {
        "count": 2
      },
      "n8n-nodes-base.switch": {
        "count": 1
      },
      "n8n-nodes-base.discord": {
        "count": 1
      },
      "n8n-nodes-base.stickyNote": {
        "count": 12
      },
      "n8n-nodes-base.httpRequest": {
        "count": 2
      },
      "n8n-nodes-base.splitInBatches": {
        "count": 2
      },
      "n8n-nodes-base.googleAnalytics": {
        "count": 1
      },
      "n8n-nodes-base.scheduleTrigger": {
        "count": 4
      }
    }
  },
  "categories": [
    {
      "id": 32,
      "name": "Market Research"
    }
  ],
  "image": []
}