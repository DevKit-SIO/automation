{
  "id": 5675,
  "name": "Transform Markdown Content into Structured Notion Blocks",
  "totalViews": 2197,
  "price": 0,
  "purchaseUrl": null,
  "user": {
    "name": "Tom",
    "username": "mutedjam",
    "bio": "",
    "verified": true,
    "links": [
      "https://github.com/that-one-tom/"
    ],
    "avatar": "https://gravatar.com/avatar/7a3710173e907baffaf7ed7ebffc37955c9cdeadb8612200225a34a2e056aa17?r=pg&d=retro&size=200"
  },
  "description": "# Markdown to Notion Blocks Converter\n\nTransform markdown-formatted text into properly structured Notion page content with this comprehensive workflow.\n\n## Overview\nThis workflow automatically converts markdown text into Notion's block format and inserts it directly into a Notion page. Perfect for content creators, documentation teams, and anyone who needs to migrate markdown content to Notion.\n\n## Features\n- **Complete Markdown Support**: Handles headers (H1-H4), paragraphs, lists, quotes, code blocks, and horizontal rules\n- **Rich Text Formatting**: Preserves bold, italic, and link formatting\n- **Smart Text Processing**: Generates plain text excerpts and maintains original content structure\n- **Direct Notion Integration**: Automatically inserts converted blocks into your specified Notion page\n- **Batch Processing**: Efficiently handles large content blocks\n\n## What It Does\n1. Takes markdown-formatted text as input\n2. Parses and converts it to Notion's block structure\n3. Handles complex formatting including:\n   - Headers and subheaders\n   - Bulleted and numbered lists\n   - Code blocks with syntax highlighting\n   - Blockquotes\n   - Bold and italic text\n   - Links\n   - Horizontal dividers\n4. Uploads the converted content directly to your Notion page\n\n## Use Cases\n- **Content Migration**: Move existing markdown documentation to Notion\n- **Automated Publishing**: Convert blog posts or articles from markdown to Notion\n- **Documentation Workflows**: Streamline technical documentation processes\n- **Content Syndication**: Publish the same content across multiple platforms\n\n## Requirements\n- Notion API credentials\n- Target Notion page ID\n- Markdown-formatted source content\n\n## Setup\n1. Configure your Notion API credentials\n2. Replace the page ID in the HTTP request node with your target Notion page\n3. Connect your markdown data source (replace the mock data node)\n4. Execute the workflow",
  "createdAt": "2025-07-04T15:07:06.141Z",
  "nodes": [
    {
      "id": 19,
      "icon": "file:httprequest.svg",
      "name": "n8n-nodes-base.httpRequest",
      "codex": {
        "data": {
          "alias": [
            "API",
            "Request",
            "URL",
            "Build",
            "cURL"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                "icon": "‚òÄÔ∏è",
                "label": "2021: The Year to Automate the New You with n8n"
              },
              {
                "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                "icon": "üß¨",
                "label": "Why business process automation with n8n can change your daily life"
              },
              {
                "url": "https://n8n.io/blog/automatically-pulling-and-visualizing-data-with-n8n/",
                "icon": "üìà",
                "label": "Automatically pulling and visualizing data with n8n"
              },
              {
                "url": "https://n8n.io/blog/learn-how-to-automatically-cross-post-your-content-with-n8n/",
                "icon": "‚úçÔ∏è",
                "label": "Learn how to automatically cross-post your content with n8n"
              },
              {
                "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                "icon": "üßæ",
                "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
              },
              {
                "url": "https://n8n.io/blog/running-n8n-on-ships-an-interview-with-maranics/",
                "icon": "üõ≥",
                "label": "Running n8n on ships: An interview with Maranics"
              },
              {
                "url": "https://n8n.io/blog/what-are-apis-how-to-use-them-with-no-code/",
                "icon": " ü™¢",
                "label": "What are APIs and how to use them with no code"
              },
              {
                "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                "icon": "‚ö°Ô∏è",
                "label": "5 tasks you can automate with the new Notion API "
              },
              {
                "url": "https://n8n.io/blog/world-poetry-day-workflow/",
                "icon": "üìú",
                "label": "Celebrating World Poetry Day with a daily poem in Telegram"
              },
              {
                "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                "icon": "üí°",
                "label": "15 Google apps you can combine and automate to increase productivity"
              },
              {
                "url": "https://n8n.io/blog/automate-designs-with-bannerbear-and-n8n/",
                "icon": "üé®",
                "label": "Automate Designs with Bannerbear and n8n"
              },
              {
                "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                "icon": " üï∏Ô∏è",
                "label": "How uProc scraped a multi-page website with a low-code workflow"
              },
              {
                "url": "https://n8n.io/blog/building-an-expense-tracking-app-in-10-minutes/",
                "icon": "üì±",
                "label": "Building an expense tracking app in 10 minutes"
              },
              {
                "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                "icon": "ü§ñ",
                "label": "5 workflow automations for Mattermost that we love at n8n"
              },
              {
                "url": "https://n8n.io/blog/how-to-use-the-http-request-node-the-swiss-army-knife-for-workflow-automation/",
                "icon": "üß∞",
                "label": "How to use the HTTP Request Node - The Swiss Army Knife for Workflow Automation"
              },
              {
                "url": "https://n8n.io/blog/learn-how-to-use-webhooks-with-mattermost-slash-commands/",
                "icon": "ü¶Ñ",
                "label": "Learn how to use webhooks with Mattermost slash commands"
              },
              {
                "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                "icon": "üìà",
                "label": "How a Membership Development Manager automates his work and investments"
              },
              {
                "url": "https://n8n.io/blog/a-low-code-bitcoin-ticker-built-with-questdb-and-n8n-io/",
                "icon": "üìà",
                "label": "A low-code bitcoin ticker built with QuestDB and n8n.io"
              },
              {
                "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                "icon": "üé°",
                "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
              },
              {
                "url": "https://n8n.io/blog/automations-for-activists/",
                "icon": "‚ú®",
                "label": "How Common Knowledge use workflow automation for activism"
              },
              {
                "url": "https://n8n.io/blog/creating-scheduled-text-affirmations-with-n8n/",
                "icon": "ü§ü",
                "label": "Creating scheduled text affirmations with n8n"
              },
              {
                "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                "icon": "üõµ",
                "label": "How Goomer automated their operations with over 200 n8n workflows"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.httprequest/"
              }
            ]
          },
          "categories": [
            "Development",
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"output\"]",
      "defaults": {
        "name": "HTTP Request",
        "color": "#0004F5"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MCAyMEM0MCA4Ljk1MzE0IDMxLjA0NjkgMCAyMCAwQzguOTUzMTQgMCAwIDguOTUzMTQgMCAyMEMwIDMxLjA0NjkgOC45NTMxNCA0MCAyMCA0MEMzMS4wNDY5IDQwIDQwIDMxLjA0NjkgNDAgMjBaTTIwIDM2Ljk0NThDMTguODg1MiAzNi45NDU4IDE3LjEzNzggMzUuOTY3IDE1LjQ5OTggMzIuNjk4NUMxNC43OTY0IDMxLjI5MTggMTQuMTk2MSAyOS41NDMxIDEzLjc1MjYgMjcuNjg0N0gyNi4xODk4QzI1LjgwNDUgMjkuNTQwMyAyNS4yMDQ0IDMxLjI5MDEgMjQuNTAwMiAzMi42OTg1QzIyLjg2MjIgMzUuOTY3IDIxLjExNDggMzYuOTQ1OCAyMCAzNi45NDU4Wk0xMi45MDY0IDIwQzEyLjkwNjQgMjEuNjA5NyAxMy4wMDg3IDIzLjE2NCAxMy4yMDAzIDI0LjYzMDVIMjYuNzk5N0MyNi45OTEzIDIzLjE2NCAyNy4wOTM2IDIxLjYwOTcgMjcuMDkzNiAyMEMyNy4wOTM2IDE4LjM5MDMgMjYuOTkxMyAxNi44MzYgMjYuNzk5NyAxNS4zNjk1SDEzLjIwMDNDMTMuMDA4NyAxNi44MzYgMTIuOTA2NCAxOC4zOTAzIDEyLjkwNjQgMjBaTTIwIDMuMDU0MTlDMjEuMTE0OSAzLjA1NDE5IDIyLjg2MjIgNC4wMzA3OCAyNC41MDAxIDcuMzAwMzlDMjUuMjA2NiA4LjcxNDA4IDI1LjgwNzIgMTAuNDA2NyAyNi4xOTIgMTIuMzE1M0gxMy43NTAxQzE0LjE5MzMgMTAuNDA0NyAxNC43OTQyIDguNzEyNTQgMTUuNDk5OCA3LjMwMDY0QzE3LjEzNzcgNC4wMzA4MyAxOC44ODUxIDMuMDU0MTkgMjAgMy4wNTQxOVpNMzAuMTQ3OCAyMEMzMC4xNDc4IDE4LjQwOTkgMzAuMDU0MyAxNi44NjE3IDI5LjgyMjcgMTUuMzY5NUgzNi4zMDQyQzM2LjcyNTIgMTYuODQyIDM2Ljk0NTggMTguMzk2NCAzNi45NDU4IDIwQzM2Ljk0NTggMjEuNjAzNiAzNi43MjUyIDIzLjE1OCAzNi4zMDQyIDI0LjYzMDVIMjkuODIyN0MzMC4wNTQzIDIzLjEzODMgMzAuMTQ3OCAyMS41OTAxIDMwLjE0NzggMjBaTTI2LjI3NjcgNC4yNTUxMkMyNy42MzY1IDYuMzYwMTkgMjguNzExIDkuMTMyIDI5LjM3NzQgMTIuMzE1M0gzNS4xMDQ2QzMzLjI1MTEgOC42NjggMzAuMTA3IDUuNzgzNDYgMjYuMjc2NyA0LjI1NTEyWk0xMC42MjI2IDEyLjMxNTNINC44OTI5M0M2Ljc1MTQ3IDguNjY3ODQgOS44OTM1MSA1Ljc4MzQxIDEzLjcyMzIgNC4yNTUxM0MxMi4zNjM1IDYuMzYwMjEgMTEuMjg5IDkuMTMyMDEgMTAuNjIyNiAxMi4zMTUzWk0zLjA1NDE5IDIwQzMuMDU0MTkgMjEuNjAzIDMuMjc3NDMgMjMuMTU3NSAzLjY5NDg0IDI0LjYzMDVIMTAuMTIxN0M5Ljk0NjE5IDIzLjE0MiA5Ljg1MjIyIDIxLjU5NDMgOS44NTIyMiAyMEM5Ljg1MjIyIDE4LjQwNTcgOS45NDYxOSAxNi44NTggMTAuMTIxNyAxNS4zNjk1SDMuNjk0ODRDMy4yNzc0MyAxNi44NDI1IDMuMDU0MTkgMTguMzk3IDMuMDU0MTkgMjBaTTI2LjI3NjYgMzUuNzQyN0MyNy42MzY1IDMzLjYzOTMgMjguNzExIDMwLjg2OCAyOS4zNzc0IDI3LjY4NDdIMzUuMTA0NkMzMy4yNTEgMzEuMzMyMiAzMC4xMDY4IDM0LjIxNzkgMjYuMjc2NiAzNS43NDI3Wk0xMy43MjM0IDM1Ljc0MjdDOS44OTM2OSAzNC4yMTc5IDYuNzUxNTUgMzEuMzMyNCA0Ljg5MjkzIDI3LjY4NDdIMTAuNjIyNkMxMS4yODkgMzAuODY4IDEyLjM2MzUgMzMuNjM5MyAxMy43MjM0IDM1Ljc0MjdaIiBmaWxsPSIjM0E0MkU5Ii8+Cjwvc3ZnPgo="
      },
      "displayName": "HTTP Request",
      "typeVersion": 4,
      "nodeCategories": [
        {
          "id": 5,
          "name": "Development"
        },
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 38,
      "icon": "fa:pen",
      "name": "n8n-nodes-base.set",
      "codex": {
        "data": {
          "alias": [
            "Set",
            "JS",
            "JSON",
            "Filter",
            "Transform",
            "Map"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                "icon": "üè≠",
                "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
              },
              {
                "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                "icon": "‚òÄÔ∏è",
                "label": "2021: The Year to Automate the New You with n8n"
              },
              {
                "url": "https://n8n.io/blog/automatically-pulling-and-visualizing-data-with-n8n/",
                "icon": "üìà",
                "label": "Automatically pulling and visualizing data with n8n"
              },
              {
                "url": "https://n8n.io/blog/database-monitoring-and-alerting-with-n8n/",
                "icon": "üì°",
                "label": "Database Monitoring and Alerting with n8n"
              },
              {
                "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                "icon": "üßæ",
                "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
              },
              {
                "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                "icon": "store",
                "label": "6 e-commerce workflows to power up your Shopify s"
              },
              {
                "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                "icon": "üîó",
                "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
              },
              {
                "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                "icon": "‚öôÔ∏è",
                "label": "Automate your data processing pipeline in 9 steps"
              },
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "üë•",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                "icon": "‚ö°Ô∏è",
                "label": "5 tasks you can automate with the new Notion API "
              },
              {
                "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                "icon": "üí°",
                "label": "15 Google apps you can combine and automate to increase productivity"
              },
              {
                "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                "icon": " üï∏Ô∏è",
                "label": "How uProc scraped a multi-page website with a low-code workflow"
              },
              {
                "url": "https://n8n.io/blog/building-an-expense-tracking-app-in-10-minutes/",
                "icon": "üì±",
                "label": "Building an expense tracking app in 10 minutes"
              },
              {
                "url": "https://n8n.io/blog/the-ultimate-guide-to-automate-your-video-collaboration-with-whereby-mattermost-and-n8n/",
                "icon": "üìπ",
                "label": "The ultimate guide to automate your video collaboration with Whereby, Mattermost, and n8n"
              },
              {
                "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                "icon": "ü§ñ",
                "label": "5 workflow automations for Mattermost that we love at n8n"
              },
              {
                "url": "https://n8n.io/blog/learn-to-build-powerful-api-endpoints-using-webhooks/",
                "icon": "üß∞",
                "label": "Learn to Build Powerful API Endpoints Using Webhooks"
              },
              {
                "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                "icon": "üìà",
                "label": "How a Membership Development Manager automates his work and investments"
              },
              {
                "url": "https://n8n.io/blog/a-low-code-bitcoin-ticker-built-with-questdb-and-n8n-io/",
                "icon": "üìà",
                "label": "A low-code bitcoin ticker built with QuestDB and n8n.io"
              },
              {
                "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                "icon": "üé°",
                "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
              },
              {
                "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                "icon": "üéñ",
                "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
              },
              {
                "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                "icon": "üõµ",
                "label": "How Goomer automated their operations with over 200 n8n workflows"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.set/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Data Transformation"
            ]
          }
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Edit Fields"
      },
      "iconData": {
        "icon": "pen",
        "type": "icon"
      },
      "displayName": "Edit Fields (Set)",
      "typeVersion": 3,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 565,
      "icon": "fa:sticky-note",
      "name": "n8n-nodes-base.stickyNote",
      "codex": {
        "data": {
          "alias": [
            "Comments",
            "Notes",
            "Sticky"
          ],
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Sticky Note",
        "color": "#FFD233"
      },
      "iconData": {
        "icon": "sticky-note",
        "type": "icon"
      },
      "displayName": "Sticky Note",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 834,
      "icon": "file:code.svg",
      "name": "n8n-nodes-base.code",
      "codex": {
        "data": {
          "alias": [
            "cpde",
            "Javascript",
            "JS",
            "Python",
            "Script",
            "Custom Code",
            "Function"
          ],
          "details": "The Code node allows you to execute JavaScript in your workflow.",
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.code/"
              }
            ]
          },
          "categories": [
            "Development",
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers",
              "Data Transformation"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Code"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xMTcxXzQ0MSkiPgo8cGF0aCBkPSJNMTcwLjI4MyA0OEgxOTYuNUMyMDMuMTI3IDQ4IDIwOC41IDQyLjYyNzQgMjA4LjUgMzZWMTJDMjA4LjUgNS4zNzI1OCAyMDMuMTI3IDAgMTk2LjUgMEgxNzAuMjgzQzEyNi4xIDAgOTAuMjgzIDM1LjgxNzIgOTAuMjgzIDgwVjE3NkM5MC4yODMgMjA2LjkyOCA2NS4yMTA5IDIzMiAzNC4yODMgMjMySDIzQzE2LjM3MjYgMjMyIDExIDIzNy4zNzIgMTEgMjQ0VjI2OEMxMSAyNzQuNjI3IDE2LjM3MjQgMjgwIDIyLjk5OTYgMjgwTDM0LjI4MyAyODBDNjUuMjEwOSAyODAgOTAuMjgzIDMwNS4wNzIgOTAuMjgzIDMzNlY0NDBDOTAuMjgzIDQ3OS43NjQgMTIyLjUxOCA1MTIgMTYyLjI4MyA1MTJIMTk2LjVDMjAzLjEyNyA1MTIgMjA4LjUgNTA2LjYyNyAyMDguNSA1MDBWNDc2QzIwOC41IDQ2OS4zNzMgMjAzLjEyNyA0NjQgMTk2LjUgNDY0SDE2Mi4yODNDMTQ5LjAyOCA0NjQgMTM4LjI4MyA0NTMuMjU1IDEzOC4yODMgNDQwVjMzNkMxMzguMjgzIDMwOS4wMjIgMTI4LjAxMSAyODQuNDQzIDExMS4xNjQgMjY1Ljk2MUMxMDYuMTA5IDI2MC40MTYgMTA2LjEwOSAyNTEuNTg0IDExMS4xNjQgMjQ2LjAzOUMxMjguMDExIDIyNy41NTcgMTM4LjI4MyAyMDIuOTc4IDEzOC4yODMgMTc2VjgwQzEzOC4yODMgNjIuMzI2OSAxNTIuNjEgNDggMTcwLjI4MyA0OFoiIGZpbGw9IiNGRjk5MjIiLz4KPHBhdGggZD0iTTMwNSAzNkMzMDUgNDIuNjI3NCAzMTAuMzczIDQ4IDMxNyA0OEgzNDIuOTc5QzM2MC42NTIgNDggMzc0Ljk3OCA2Mi4zMjY5IDM3NC45NzggODBWMTc2QzM3NC45NzggMjAyLjk3OCAzODUuMjUxIDIyNy41NTcgNDAyLjA5OCAyNDYuMDM5QzQwNy4xNTMgMjUxLjU4NCA0MDcuMTUzIDI2MC40MTYgNDAyLjA5OCAyNjUuOTYxQzM4NS4yNTEgMjg0LjQ0MyAzNzQuOTc4IDMwOS4wMjIgMzc0Ljk3OCAzMzZWNDMyQzM3NC45NzggNDQ5LjY3MyAzNjAuNjUyIDQ2NCAzNDIuOTc5IDQ2NEgzMTdDMzEwLjM3MyA0NjQgMzA1IDQ2OS4zNzMgMzA1IDQ3NlY1MDBDMzA1IDUwNi42MjcgMzEwLjM3MyA1MTIgMzE3IDUxMkgzNDIuOTc5QzM4Ny4xNjEgNTEyIDQyMi45NzggNDc2LjE4MyA0MjIuOTc4IDQzMlYzMzZDNDIyLjk3OCAzMDUuMDcyIDQ0OC4wNTEgMjgwIDQ3OC45NzkgMjgwSDQ5MEM0OTYuNjI3IDI4MCA1MDIgMjc0LjYyOCA1MDIgMjY4VjI0NEM1MDIgMjM3LjM3MyA0OTYuNjI4IDIzMiA0OTAgMjMyTDQ3OC45NzkgMjMyQzQ0OC4wNTEgMjMyIDQyMi45NzggMjA2LjkyOCA0MjIuOTc4IDE3NlY4MEM0MjIuOTc4IDM1LjgxNzIgMzg3LjE2MSAwIDM0Mi45NzkgMEgzMTdDMzEwLjM3MyAwIDMwNSA1LjM3MjU4IDMwNSAxMlYzNloiIGZpbGw9IiNGRjk5MjIiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xMTcxXzQ0MSI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="
      },
      "displayName": "Code",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 5,
          "name": "Development"
        },
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 838,
      "icon": "fa:mouse-pointer",
      "name": "n8n-nodes-base.manualTrigger",
      "codex": {
        "data": {
          "resources": {
            "generic": [],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.manualworkflowtrigger/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0"
        }
      },
      "group": "[\"trigger\"]",
      "defaults": {
        "name": "When clicking ‚ÄòExecute workflow‚Äô",
        "color": "#909298"
      },
      "iconData": {
        "icon": "mouse-pointer",
        "type": "icon"
      },
      "displayName": "Manual Trigger",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    }
  ],
  "views": 2197,
  "recentViews": 6,
  "workflow": {
    "meta": {
      "instanceId": "cb484ba7b742928a2048bf8829668bed5b5ad9787579adea888f05980292a4a7"
    },
    "nodes": [
      {
        "id": "007b49ed-a264-4beb-92a9-917c0550c665",
        "name": "Convert into Notion blocks",
        "type": "n8n-nodes-base.code",
        "position": [
          220,
          0
        ],
        "parameters": {
          "jsCode": "// Get the output string and page_id from the previous node\nconst outputText = $input.item.json.output;\nconst pageId = $input.item.json.page_id; // Add this if you have the page ID in your data\n\n// Function to convert text to Notion blocks\nfunction textToNotionBlocks(text) {\n  if (!text || typeof text !== 'string') {\n    return [];\n  }\n\n  const blocks = [];\n  const lines = text.split('\\n');\n  let inCodeBlock = false;\n  let codeBlockContent = [];\n  let codeBlockLanguage = '';\n  \n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i];\n    const trimmedLine = line.trim();\n    \n    // Handle code blocks\n    if (trimmedLine.startsWith('```')) {\n      if (!inCodeBlock) {\n        // Starting a code block\n        inCodeBlock = true;\n        codeBlockLanguage = trimmedLine.substring(3).trim();\n        codeBlockContent = [];\n      } else {\n        // Ending a code block\n        inCodeBlock = false;\n        blocks.push({\n          object: 'block',\n          type: 'code',\n          code: {\n            caption: [],\n            rich_text: [{\n              type: 'text',\n              text: { content: codeBlockContent.join('\\n') }\n            }],\n            language: codeBlockLanguage || 'plain text'\n          }\n        });\n        codeBlockContent = [];\n        codeBlockLanguage = '';\n      }\n      continue;\n    }\n    \n    // If we're inside a code block, collect the content\n    if (inCodeBlock) {\n      codeBlockContent.push(line);\n      continue;\n    }\n    \n    // Skip empty lines\n    if (!trimmedLine) {\n      continue;\n    }\n    \n    // Check for horizontal rules\n    if (trimmedLine === '---' || trimmedLine === '***' || trimmedLine === '___') {\n      blocks.push({\n        object: 'block',\n        type: 'divider',\n        divider: {}\n      });\n    }\n    // Check for headers (markdown style)\n    else if (trimmedLine.startsWith('#### ')) {\n      const richText = parseRichText(trimmedLine.substring(5));\n      blocks.push({\n        object: 'block',\n        type: 'heading_3',\n        heading_3: {\n          rich_text: richText\n        }\n      });\n    }\n    else if (trimmedLine.startsWith('### ')) {\n      const richText = parseRichText(trimmedLine.substring(4));\n      blocks.push({\n        object: 'block',\n        type: 'heading_3',\n        heading_3: {\n          rich_text: richText\n        }\n      });\n    }\n    else if (trimmedLine.startsWith('## ')) {\n      const richText = parseRichText(trimmedLine.substring(3));\n      blocks.push({\n        object: 'block',\n        type: 'heading_2',\n        heading_2: {\n          rich_text: richText\n        }\n      });\n    }\n    else if (trimmedLine.startsWith('# ')) {\n      const richText = parseRichText(trimmedLine.substring(2));\n      blocks.push({\n        object: 'block',\n        type: 'heading_1',\n        heading_1: {\n          rich_text: richText\n        }\n      });\n    }\n    // Check for bullet points\n    else if (trimmedLine.startsWith('- ') || trimmedLine.startsWith('* ')) {\n      const richText = parseRichText(trimmedLine.substring(2));\n      blocks.push({\n        object: 'block',\n        type: 'bulleted_list_item',\n        bulleted_list_item: {\n          rich_text: richText\n        }\n      });\n    }\n    // Check for numbered lists\n    else if (/^\\d+\\.\\s/.test(trimmedLine)) {\n      const content = trimmedLine.replace(/^\\d+\\.\\s/, '');\n      const richText = parseRichText(content);\n      blocks.push({\n        object: 'block',\n        type: 'numbered_list_item',\n        numbered_list_item: {\n          rich_text: richText\n        }\n      });\n    }\n    // Check for quotes\n    else if (trimmedLine.startsWith('> ')) {\n      const richText = parseRichText(trimmedLine.substring(2));\n      blocks.push({\n        object: 'block',\n        type: 'quote',\n        quote: {\n          rich_text: richText\n        }\n      });\n    }\n    // Regular paragraph\n    else {\n      const richText = parseRichText(trimmedLine);\n      blocks.push({\n        object: 'block',\n        type: 'paragraph',\n        paragraph: {\n          rich_text: richText\n        }\n      });\n    }\n  }\n  \n  // Handle case where code block wasn't closed\n  if (inCodeBlock && codeBlockContent.length > 0) {\n    blocks.push({\n      object: 'block',\n      type: 'code',\n      code: {\n        caption: [],\n        rich_text: [{\n          type: 'text',\n          text: { content: codeBlockContent.join('\\n') }\n        }],\n        language: codeBlockLanguage || 'plain text'\n      }\n    });\n  }\n  \n  return blocks;\n}\n\n// Function to parse rich text formatting (bold, italic, links)\nfunction parseRichText(text) {\n  const richTextArray = [];\n  \n  // Handle simple case with no formatting\n  if (!text.includes('**') && !text.includes('__') && !text.includes('*') && \n      !text.includes('_') && !text.includes('[')) {\n    return [{\n      type: 'text',\n      text: { content: text }\n    }];\n  }\n  \n  let workingText = text;\n  let segments = [];\n  \n  // Process links first [text](url)\n  const linkRegex = /\\[([^\\]]*)\\]\\(([^)]*)\\)/g;\n  let linkMatch;\n  let lastLinkIndex = 0;\n  \n  while ((linkMatch = linkRegex.exec(text)) !== null) {\n    // Add text before link\n    if (linkMatch.index > lastLinkIndex) {\n      const beforeText = text.substring(lastLinkIndex, linkMatch.index);\n      if (beforeText) {\n        segments.push({ type: 'text', content: beforeText });\n      }\n    }\n    \n    // Add link\n    segments.push({\n      type: 'link',\n      content: linkMatch[1],\n      url: linkMatch[2]\n    });\n    \n    lastLinkIndex = linkMatch.index + linkMatch[0].length;\n  }\n  \n  // Add remaining text after last link\n  if (lastLinkIndex < text.length) {\n    const remainingText = text.substring(lastLinkIndex);\n    if (remainingText) {\n      segments.push({ type: 'text', content: remainingText });\n    }\n  }\n  \n  // If no links found, treat entire text as one segment\n  if (segments.length === 0) {\n    segments.push({ type: 'text', content: text });\n  }\n  \n  // Now process each segment for bold/italic formatting\n  segments.forEach(segment => {\n    if (segment.type === 'link') {\n      // Links can have formatting too\n      const formattedContent = processTextFormatting(segment.content);\n      formattedContent.forEach(item => {\n        richTextArray.push({\n          type: 'text',\n          text: { \n            content: item.content,\n            link: { url: segment.url }\n          },\n          annotations: item.annotations || {}\n        });\n      });\n    } else {\n      // Regular text - process for formatting\n      const formattedContent = processTextFormatting(segment.content);\n      formattedContent.forEach(item => {\n        richTextArray.push({\n          type: 'text',\n          text: { content: item.content },\n          annotations: item.annotations || {}\n        });\n      });\n    }\n  });\n  \n  return richTextArray;\n}\n\n// Helper function to process bold/italic formatting\nfunction processTextFormatting(text) {\n  const result = [];\n  let currentIndex = 0;\n  \n  // Patterns for markdown formatting - order matters (bold before italic)\n  const patterns = [\n    { regex: /\\*\\*(.*?)\\*\\*/g, annotation: { bold: true } },\n    { regex: /__(.*?)__/g, annotation: { bold: true } },\n    { regex: /\\*(.*?)\\*/g, annotation: { italic: true } },\n    { regex: /_(.*?)_/g, annotation: { italic: true } }\n  ];\n  \n  let matches = [];\n  \n  // Find all formatting matches\n  patterns.forEach(pattern => {\n    let match;\n    const regex = new RegExp(pattern.regex.source, pattern.regex.flags);\n    while ((match = regex.exec(text)) !== null) {\n      matches.push({\n        start: match.index,\n        end: match.index + match[0].length,\n        content: match[1],\n        annotation: pattern.annotation,\n        fullMatch: match[0]\n      });\n    }\n  });\n  \n  // Sort matches by position and remove overlapping matches\n  matches.sort((a, b) => a.start - b.start);\n  \n  // Remove overlapping matches (keep the first one)\n  const filteredMatches = [];\n  let lastEnd = -1;\n  \n  matches.forEach(match => {\n    if (match.start >= lastEnd) {\n      filteredMatches.push(match);\n      lastEnd = match.end;\n    }\n  });\n  \n  // If no formatting found, return simple text\n  if (filteredMatches.length === 0) {\n    return [{ content: text }];\n  }\n  \n  // Build result array\n  let lastIndex = 0;\n  \n  filteredMatches.forEach(match => {\n    // Add text before the match\n    if (match.start > lastIndex) {\n      const beforeText = text.substring(lastIndex, match.start);\n      if (beforeText) {\n        result.push({ content: beforeText });\n      }\n    }\n    \n    // Add the formatted text\n    result.push({\n      content: match.content,\n      annotations: match.annotation\n    });\n    \n    lastIndex = match.end;\n  });\n  \n  // Add remaining text\n  if (lastIndex < text.length) {\n    const remainingText = text.substring(lastIndex);\n    if (remainingText) {\n      result.push({ content: remainingText });\n    }\n  }\n  \n  return result;\n}\n\n// Convert the output text to Notion blocks\nconst notionBlocks = textToNotionBlocks(outputText);\n\n// Create plain text excerpt (first 300 characters)\nfunction createPlainTextExcerpt(text, maxLength = 300) {\n  if (!text || typeof text !== 'string') {\n    return '';\n  }\n  \n  // Remove markdown formatting for plain text excerpt\n  let plainText = text\n    // Remove headers\n    .replace(/^#{1,6}\\s+/gm, '')\n    // Remove horizontal rules\n    .replace(/^[-*_]{3,}$/gm, '')\n    // Remove code blocks\n    .replace(/```[\\s\\S]*?```/g, '')\n    // Remove inline code\n    .replace(/`([^`]+)`/g, '$1')\n    // Remove links but keep text\n    .replace(/\\[([^\\]]*)\\]\\([^)]*\\)/g, '$1')\n    // Remove bold and italic\n    .replace(/\\*\\*([^*]+)\\*\\*/g, '$1')\n    .replace(/__([^_]+)__/g, '$1')\n    .replace(/\\*([^*]+)\\*/g, '$1')\n    .replace(/_([^_]+)_/g, '$1')\n    // Remove bullet points and list markers\n    .replace(/^[-*+]\\s+/gm, '')\n    .replace(/^\\d+\\.\\s+/gm, '')\n    // Remove quotes\n    .replace(/^>\\s+/gm, '')\n    // Clean up extra whitespace\n    .replace(/\\n\\s*\\n/g, '\\n')\n    .replace(/^\\s+|\\s+$/g, '')\n    .replace(/\\s+/g, ' ');\n  \n  // Truncate to maxLength and add ellipsis if needed\n  if (plainText.length > maxLength) {\n    // Try to break at a word boundary\n    const truncated = plainText.substring(0, maxLength);\n    const lastSpace = truncated.lastIndexOf(' ');\n    \n    if (lastSpace > maxLength * 0.8) { // If we can break at a word within 80% of max length\n      return truncated.substring(0, lastSpace) + '...';\n    } else {\n      return truncated + '...';\n    }\n  }\n  \n  return plainText;\n}\n\nconst plainTextExcerpt = createPlainTextExcerpt(outputText);\n\n// Return the blocks in the format expected by n8n\nreturn {\n  json: {\n    blocks: notionBlocks,\n    page_id: pageId, // Include page_id if available\n    original_output: outputText,\n    plain_text_excerpt: plainTextExcerpt,\n    block_count: notionBlocks.length\n  }\n};"
        },
        "typeVersion": 2
      },
      {
        "id": "3a976100-d298-415b-bd64-8b68dd547104",
        "name": "When clicking ‚ÄòExecute workflow‚Äô",
        "type": "n8n-nodes-base.manualTrigger",
        "position": [
          -260,
          0
        ],
        "parameters": {},
        "typeVersion": 1
      },
      {
        "id": "57c30dd2-3e55-4d8e-86a7-956fa86ffdd1",
        "name": "Mock data",
        "type": "n8n-nodes-base.set",
        "position": [
          -20,
          0
        ],
        "parameters": {
          "options": {},
          "assignments": {
            "assignments": [
              {
                "id": "884c6f7c-6dee-4fc7-be70-d733c076bc5b",
                "name": "output",
                "type": "string",
                "value": "# Doloria Vensat Ipsum\n\nLorem versatio clarnum est vendora siltrix, et moratia crendix lortum valdi. Cursentia flomidar nuxter velion, agranda flumanti torquis. *Velatrix domor silvenum* ‚Äî carendus in torquatis, nebulo squanda litur. Trandem solquix veritor, ulmeris paxondae vulturum grestia invernox.\n\n> ‚ÄúNostra vintrix est, florandum est.‚Äù ‚Äî Vexar Omnitron, Codex Veritas\n\nVenustra maxon lurtavis credentor fluvia. Grendix talmora vendos questrion, nebularas sintoria metril. Tractum in calderae floritia ramondux, ventalis frumor saxentin. Ultranor vistrix candela morit, in parandum vixellor nostrem. Torvix pelanda selquor ‚Äî flandrix omnia trevalla.\n\n## Vestiran Monclavis Quord\n\nTrandora visclarum meridio juxenta, flammor regentrix boltorum. Corrivax tenebris lurtantis draxelor montilar, **vivandor estro mentelix**. Brevisculae trelmon vexor flintor qui dramulax. Ferontis calvantar voltria nexarium exelvis. Gravandus yeltrix mandor, silverom paxitas dulvore est brontium."
              }
            ]
          }
        },
        "typeVersion": 3.4
      },
      {
        "id": "b9d263bb-5d62-4171-8e33-f4060b5e893b",
        "name": "Sticky Note",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -80,
          -280
        ],
        "parameters": {
          "color": 3,
          "width": 220,
          "height": 440,
          "content": "# Mock data\n\nThis node only serves the purpose of returning dummy Markdown-formatted text in the `output` field. Replace this with your actual data source."
        },
        "typeVersion": 1
      },
      {
        "id": "98f7de06-cdf2-49fd-895e-3b2b7bc59837",
        "name": "Insert Notion page content",
        "type": "n8n-nodes-base.httpRequest",
        "position": [
          460,
          0
        ],
        "parameters": {
          "url": "https://api.notion.com/v1/blocks/2255b6e0c94f80e7951df98d53ce2c39/children",
          "method": "PATCH",
          "options": {
            "batching": {
              "batch": {
                "batchSize": 100
              }
            }
          },
          "sendBody": true,
          "sendHeaders": true,
          "authentication": "predefinedCredentialType",
          "bodyParameters": {
            "parameters": [
              {
                "name": "children",
                "value": "={{ $json.blocks }}"
              }
            ]
          },
          "headerParameters": {
            "parameters": [
              {
                "name": "Notion-Version",
                "value": "2022-06-28"
              }
            ]
          },
          "nodeCredentialType": "notionApi"
        },
        "credentials": {
          "notionApi": {
            "id": "80",
            "name": "Notion david-internal"
          }
        },
        "typeVersion": 4.2
      },
      {
        "id": "4f94864f-5669-4c00-aa05-b95b8bcbb7a6",
        "name": "Sticky Note1",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          160,
          -280
        ],
        "parameters": {
          "width": 220,
          "height": 440,
          "content": "# Conversion\n\nThis code converts the markdown string into the block format required by Notion."
        },
        "typeVersion": 1
      },
      {
        "id": "f88266c9-faaa-481c-821d-5fab70823ef0",
        "name": "Sticky Note2",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          400,
          -280
        ],
        "parameters": {
          "color": 4,
          "width": 220,
          "height": 440,
          "content": "# Update\n\nThis node updates a Notion page with the blocks generated in the previous step. Replace the page ID in the URL field with your actual Notion page ID or an expression that returns the page ID."
        },
        "typeVersion": 1
      }
    ],
    "pinData": {},
    "connections": {
      "Mock data": {
        "main": [
          [
            {
              "node": "Convert into Notion blocks",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Convert into Notion blocks": {
        "main": [
          [
            {
              "node": "Insert Notion page content",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "When clicking ‚ÄòExecute workflow‚Äô": {
        "main": [
          [
            {
              "node": "Mock data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    }
  },
  "lastUpdatedBy": 29,
  "workflowInfo": {
    "nodeCount": 7,
    "nodeTypes": {
      "n8n-nodes-base.set": {
        "count": 1
      },
      "n8n-nodes-base.code": {
        "count": 1
      },
      "n8n-nodes-base.stickyNote": {
        "count": 3
      },
      "n8n-nodes-base.httpRequest": {
        "count": 1
      },
      "n8n-nodes-base.manualTrigger": {
        "count": 1
      }
    }
  },
  "categories": [
    {
      "id": 35,
      "name": "Document Extraction"
    }
  ],
  "image": []
}