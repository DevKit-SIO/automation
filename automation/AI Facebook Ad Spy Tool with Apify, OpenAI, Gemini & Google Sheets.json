{
  "id": 5417,
  "name": "AI Facebook Ad Spy Tool with Apify, OpenAI, Gemini & Google Sheets",
  "totalViews": 1467,
  "price": 0,
  "purchaseUrl": null,
  "user": {
    "name": "Nick Saraev",
    "username": "nicksaraev",
    "bio": "Hi 👋 I'm Nick. I make money with automation & teach others how they can too.\n\nIf you have any questions about my templates or about my n8n builds, feel free to ask and I'll happily respond in the comments. Thanks for reading!",
    "verified": true,
    "links": [
      "https://youtube.com/@nicksaraev"
    ],
    "avatar": "https://gravatar.com/avatar/f97278e63ed1d89eb840d0bd3e5817cd0493e5a0b0ea45620a7aec62ceafb039?r=pg&d=retro&size=200"
  },
  "description": "# AI Facebook Ad Spy Tool with Apify, OpenAI, Gemini & Google Sheets\n\n**Categories:** Competitive Intelligence, Marketing Automation, AI Analysis\n\nThis workflow creates a comprehensive Facebook ad spy tool that scrapes competitor ads from Facebook's ad library and generates detailed analysis with rewritten versions. The system processes text, image, and video ads using different AI models, providing strategic intelligence for PPC agencies and marketers. Built to be sold as a premium service for $2,000+, this tool combines web scraping, multi-modal AI analysis, and competitor intelligence into one powerful automation.\n\n## **Benefits**\n\n- **Complete Competitive Intelligence** - Analyze competitor strategies across all ad formats (text, image, video)\n- **Multi-Modal AI Analysis** - Uses GPT-4 Vision for images and Gemini for video content understanding\n- **Automated Ad Rewriting** - Generates inspired variations of successful competitor ads\n- **Quality Filtering** - Targets high-performing advertisers with significant page likes\n- **Scalable Processing** - Handle hundreds of competitor ads with detailed strategic analysis\n- **Premium Service Potential** - Easily sold to agencies and marketers for $2,000+ implementations\n\n## **How It Works**\n\n**Facebook Ad Library Scraping:**\n- Connects to Facebook's public ad library through Apify's specialized scraper\n- Searches for active ads using customizable keywords and targeting parameters\n- Extracts comprehensive ad data including creative assets, targeting info, and engagement metrics\n- Filters results to focus on high-quality advertisers with substantial page followings\n\n**Intelligent Content Routing:**\n- Automatically categorizes ads into text-only, image-based, or video content types\n- Routes each ad type to specialized processing pipelines optimized for that content format\n- Ensures appropriate AI models are used for each type of creative analysis\n- Maintains data integrity while processing different content formats simultaneously\n\n**Advanced Video Analysis Pipeline:**\n- Downloads video ads directly from Facebook's content delivery network\n- Uploads videos to Google Drive for temporary storage and processing\n- Initiates Gemini AI video upload sessions for multi-modal analysis\n- Uses Gemini's advanced video understanding to generate detailed content descriptions\n- Processes video narrative, visual elements, messaging strategy, and target audience insights\n\n**Image and Text Processing:**\n- Analyzes image ads using GPT-4 Vision for comprehensive visual content understanding\n- Processes text-only ads using GPT-4 for messaging strategy and copywriting analysis\n- Identifies key persuasion techniques, target demographics, and messaging frameworks\n- Generates detailed competitive intelligence reports for each ad format\n\n**Strategic Intelligence Generation:**\n- Creates comprehensive summaries analyzing competitor messaging strategies and target audiences\n- Generates rewritten ad copy that captures successful elements while avoiding direct copying\n- Produces recreation prompts for images and videos that can be used with AI generation tools\n- Organizes all insights in structured Google Sheets database for easy analysis and reporting\n\n## **Required Setup Configuration**\n\n**Apify Integration:**\n- Sign up for Apify account and obtain API key\n- Replace `&lt;your-apify-api-key-here&gt;` in \"Run Ad Library Scraper\" node\n- Customize Facebook Ad Library search URLs with your target keywords and regions\n\n**AI Service Configuration:**\n- **OpenAI API**: Set up for text analysis and image understanding with GPT-4 Vision\n- **Gemini API**: Configure for advanced video content analysis and description\n- Replace `&lt;your-gemini-api-key-here&gt;` in all Gemini-related nodes\n\n**Google Services Setup:**\n- **Google Drive**: Configure OAuth for temporary video storage during Gemini processing\n- **Google Sheets**: Create results database with proper column structure for ad intelligence storage\n\n**Facebook Ad Library Search Configuration:**\nCustomize the search parameters in the Apify scraper\n\n# Google Sheets Database Structure:\n\nCreate a sheet with these columns:\n\nad_archive_id - Unique Facebook ad identifier\npage_id - Advertiser's Facebook page ID\npage_name - Advertiser's business name\npage_url - Link to advertiser's Facebook page\ntype - Ad format (text, image, or video)\ndate_added - When ad was analyzed\nsummary - Detailed competitive intelligence analysis\nrewritten_ad_copy - AI-generated inspired version\nimage_prompt - Description for recreating image ads\nvideo_prompt - Description for recreating video ads\n\n# Business Use Cases\n\n- PPC Agencies - Offer comprehensive competitor analysis services to clients for strategic advantage\n- Marketing Teams - Research competitor strategies and messaging before launching new campaigns\n- E-commerce Businesses - Analyze successful ads in your industry for creative inspiration\n- SaaS Companies - Study how competitors position their products and target audiences\n- Course Creators - Research educational content marketing approaches and messaging strategies\n- Affiliate Marketers - Identify successful promotional strategies and high-converting ad formats\n\nDifficulty Level: Advanced\nEstimated Build Time: 3-4 hours\nMonthly Operating Cost: ~$200 (Apify + OpenAI + Gemini + Google Workspace APIs)\n\n# Watch My Complete Build Process\nWant to see exactly how I built this entire Facebook ad spy system from scratch? I walk through the complete development process live, including API integrations, multi-modal AI setup, error handling, and the exact business strategy for selling this as a premium service.\n🎥 Watch My Live Build: \"[Build A Facebook Ads Spy Tool With N8N (Sell for $2k+)](https://www.youtube.com/watch?v=0PJNiDuihBg&t=251s)\"\nThis comprehensive tutorial shows the real development process - including complex API orchestration, multi-modal AI integration, and proven strategies for monetizing competitive intelligence systems.\n\n# Set Up Steps\n\n# Apify Scraper Configuration:\n\n- Set up Apify account and configure Facebook Ad Library scraper\n- Customize search parameters for your target industries and regions\n- Configure result limits and filtering parameters for quality control\n- Test scraper with sample searches to verify data quality\n\n# Multi-Modal AI Setup:\n\n- Configure OpenAI API credentials for text and image analysis\n- Set up Gemini API access for advanced video content understanding\n- Configure appropriate rate limits and error handling for API stability\n- Test AI analysis with sample ads to optimize prompt quality\n\n# Google Services Integration:\n\n- Set up Google Drive OAuth for temporary video storage during processing\n- Create Google Sheets database with proper column structure for intelligence storage\n- Configure sharing permissions and access controls for team collaboration\n- Test complete data flow from scraping to final intelligence reports\n\n# Quality Control and Filtering:\n\n- Configure page likes threshold in \"Filter For Likes\" node (recommend 1,000+ for quality)\n- Adjust content routing logic in Switch node based on your analysis needs\n- Set up error handling and retry logic for reliable large-scale processing\n- Test complete workflow with various ad types to ensure proper routing\n\n# Advanced Customization:\n\n- Customize AI prompts for your specific industry analysis needs\n- Configure additional filtering criteria beyond page likes\n- Set up automated scheduling for regular competitor monitoring\n- Add custom fields to database for tracking specific competitive metrics\n\n# Advanced Features\n\nScale the system with additional capabilities:\n\n- Industry-Specific Analysis - Customize prompts and filters for different verticals\n- Trend Tracking - Monitor messaging changes over time for strategic insights\n- Performance Correlation - Cross-reference ad engagement with business outcomes\n- Alert Systems - Notify when competitors launch new campaign types\n- Custom Reporting - Generate client-ready intelligence reports automatically\n- Integration Extensions - Connect to CRM and marketing platforms for strategic workflow\n\n# Important Considerations\n\n- API Rate Limits - Built-in delays and error handling prevent service interruptions\n- Content Rights - System generates inspired variations, not direct copies, for legal compliance\n- Data Storage - Organize intelligence database for easy client reporting and analysis\n- Scalability - Batch processing handles hundreds of ads efficiently without blocking\n- Quality Assurance - Filtering logic ensures analysis focuses on successful, high-quality advertisers\n\n# Why This System Works\n\nThe competitive advantage lies in comprehensive multi-modal analysis:\n\n- Complete format coverage - analyzes text, image, and video ads with appropriate AI models\n- Strategic depth - goes beyond basic scraping to provide actionable intelligence\n- Automation scale - processes competitor research that would take weeks manually\n- Premium positioning - advanced AI analysis justifies higher service pricing\n- Immediate value - clients receive actionable insights within hours of setup\n- \nCheck Out My Channel\nFor more advanced automation systems that generate real business results and premium service opportunities, explore my YouTube channel where I share proven strategies for building profitable automation businesses.",
  "createdAt": "2025-06-27T22:59:40.896Z",
  "nodes": [
    {
      "id": 18,
      "icon": "file:googleSheets.svg",
      "name": "n8n-nodes-base.googleSheets",
      "codex": {
        "data": {
          "alias": [
            "CSV",
            "Sheet",
            "Spreadsheet",
            "GS"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/love-at-first-sight-ricardos-n8n-journey/",
                "icon": "❤️",
                "label": "Love at first sight: Ricardo’s n8n journey"
              },
              {
                "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                "icon": "🧬",
                "label": "Why business process automation with n8n can change your daily life"
              },
              {
                "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                "icon": "🧾",
                "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
              },
              {
                "url": "https://n8n.io/blog/supercharging-your-conference-registration-process-with-n8n/",
                "icon": "🎫",
                "label": "Supercharging your conference registration process with n8n"
              },
              {
                "url": "https://n8n.io/blog/creating-triggers-for-n8n-workflows-using-polling/",
                "icon": "⏲",
                "label": "Creating triggers for n8n workflows using polling"
              },
              {
                "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                "icon": "store",
                "label": "6 e-commerce workflows to power up your Shopify s"
              },
              {
                "url": "https://n8n.io/blog/migrating-community-metrics-to-orbit-using-n8n/",
                "icon": "📈",
                "label": "Migrating Community Metrics to Orbit using n8n"
              },
              {
                "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                "icon": "💡",
                "label": "15 Google apps you can combine and automate to increase productivity"
              },
              {
                "url": "https://n8n.io/blog/your-business-doesnt-need-you-to-operate/",
                "icon": " 🖥️",
                "label": "Hey founders! Your business doesn't need you to operate"
              },
              {
                "url": "https://n8n.io/blog/how-honest-burgers-use-automation-to-save-100k-per-year/",
                "icon": "🍔",
                "label": "How Honest Burgers Use Automation to Save $100k per year"
              },
              {
                "url": "https://n8n.io/blog/how-a-digital-strategist-uses-n8n-for-online-marketing/",
                "icon": "💻",
                "label": "How a digital strategist uses n8n for online marketing"
              },
              {
                "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                "icon": "🧠",
                "label": "Why this Product Manager loves workflow automation with n8n"
              },
              {
                "url": "https://n8n.io/blog/sending-automated-congratulations-with-google-sheets-twilio-and-n8n/",
                "icon": "🙌",
                "label": "Sending Automated Congratulations with Google Sheets, Twilio, and n8n "
              },
              {
                "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                "icon": "📈",
                "label": "How a Membership Development Manager automates his work and investments"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googlesheets/"
              }
            ],
            "credentialDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/credentials/google/oauth-single-service/"
              }
            ]
          },
          "categories": [
            "Data & Storage",
            "Productivity"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0"
        }
      },
      "group": "[\"input\",\"output\"]",
      "defaults": {
        "name": "Google Sheets"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGZpbGw9IiMyOEI0NDYiIGQ9Ik0zNS42OSAxIDUyIDE3LjIyNXYzOS4wODdhMy42NyAzLjY3IDAgMCAxLTEuMDg0IDIuNjFBMy43IDMuNyAwIDAgMSA0OC4yOTMgNjBIMTIuNzA3YTMuNyAzLjcgMCAwIDEtMi42MjMtMS4wNzhBMy42NyAzLjY3IDAgMCAxIDkgNTYuMzEyVjQuNjg4YTMuNjcgMy42NyAwIDAgMSAxLjA4NC0yLjYxQTMuNyAzLjcgMCAwIDEgMTIuNzA3IDF6Ii8+PHBhdGggZmlsbD0iIzZBQ0U3QyIgZD0iTTM1LjY5IDEgNTIgMTcuMjI1SDM5LjM5N2MtMi4wNTQgMC0zLjcwNy0xLjgyOS0zLjcwNy0zLjg3MnoiLz48cGF0aCBmaWxsPSIjMjE5QjM4IiBkPSJNMzkuMjExIDE3LjIyNSA1MiAyMi40OHYtNS4yNTV6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTIwLjEyIDMxLjk3NWMwLS44MTcuNjYyLTEuNDc1IDEuNDgzLTEuNDc1aDE3Ljc5NGMuODIxIDAgMS40ODIuNjU4IDEuNDgyIDEuNDc1djE1LjQ4N2MwIC44MTgtLjY2MSAxLjQ3NS0xLjQ4MiAxLjQ3NUgyMS42MDNhMS40NzYgMS40NzYgMCAwIDEtMS40ODItMS40NzRWMzEuOTc0em0yLjIyNSAxLjQ3NWg2LjY3MnYyLjIxMmgtNi42NzJ6bTAgNS4xNjJoNi42NzJ2Mi4yMTNoLTYuNjcyem0wIDUuMTYzaDYuNjcydjIuMjEyaC02LjY3MnptOS42MzgtMTAuMzI1aDYuNjcydjIuMjEyaC02LjY3MnptMCA1LjE2Mmg2LjY3MnYyLjIxM2gtNi42NzJ6bTAgNS4xNjNoNi42NzJ2Mi4yMTJoLTYuNjcyeiIvPjxwYXRoIGZpbGw9IiMyOEI0NDYiIGQ9Ik0zNC42OSAwIDUxIDE2LjIyNXYzOS4wODdhMy42NyAzLjY3IDAgMCAxLTEuMDg0IDIuNjFBMy43IDMuNyAwIDAgMSA0Ny4yOTMgNTlIMTEuNzA3YTMuNyAzLjcgMCAwIDEtMi42MjMtMS4wNzhBMy42NyAzLjY3IDAgMCAxIDggNTUuMzEyVjMuNjg4YTMuNjcgMy42NyAwIDAgMSAxLjA4NC0yLjYxQTMuNyAzLjcgMCAwIDEgMTEuNzA3IDB6Ii8+PHBhdGggZmlsbD0iIzZBQ0U3QyIgZD0iTTM0LjY5IDAgNTEgMTYuMjI1SDM4LjM5N2MtMi4wNTQgMC0zLjcwNy0xLjgyOS0zLjcwNy0zLjg3MnoiLz48cGF0aCBmaWxsPSIjMjE5QjM4IiBkPSJNMzguMjExIDE2LjIyNSA1MSAyMS40OHYtNS4yNTV6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTE5LjEyIDMwLjk3NWMwLS44MTcuNjYyLTEuNDc1IDEuNDgzLTEuNDc1aDE3Ljc5NGMuODIxIDAgMS40ODIuNjU4IDEuNDgyIDEuNDc1djE1LjQ4N2MwIC44MTgtLjY2MSAxLjQ3NS0xLjQ4MiAxLjQ3NUgyMC42MDNhMS40NzYgMS40NzYgMCAwIDEtMS40ODItMS40NzRWMzAuOTc0em0yLjIyNSAxLjQ3NWg2LjY3MnYyLjIxMmgtNi42NzJ6bTAgNS4xNjJoNi42NzJ2Mi4yMTNoLTYuNjcyem0wIDUuMTYzaDYuNjcydjIuMjEyaC02LjY3MnptOS42MzgtMTAuMzI1aDYuNjcydjIuMjEyaC02LjY3MnptMCA1LjE2Mmg2LjY3MnYyLjIxM2gtNi42NzJ6bTAgNS4xNjNoNi42NzJ2Mi4yMTJoLTYuNjcyeiIvPjwvZz48L3N2Zz4="
      },
      "displayName": "Google Sheets",
      "typeVersion": 5,
      "nodeCategories": [
        {
          "id": 3,
          "name": "Data & Storage"
        },
        {
          "id": 4,
          "name": "Productivity"
        }
      ]
    },
    {
      "id": 19,
      "icon": "file:httprequest.svg",
      "name": "n8n-nodes-base.httpRequest",
      "codex": {
        "data": {
          "alias": [
            "API",
            "Request",
            "URL",
            "Build",
            "cURL"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                "icon": "☀️",
                "label": "2021: The Year to Automate the New You with n8n"
              },
              {
                "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                "icon": "🧬",
                "label": "Why business process automation with n8n can change your daily life"
              },
              {
                "url": "https://n8n.io/blog/automatically-pulling-and-visualizing-data-with-n8n/",
                "icon": "📈",
                "label": "Automatically pulling and visualizing data with n8n"
              },
              {
                "url": "https://n8n.io/blog/learn-how-to-automatically-cross-post-your-content-with-n8n/",
                "icon": "✍️",
                "label": "Learn how to automatically cross-post your content with n8n"
              },
              {
                "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                "icon": "🧾",
                "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
              },
              {
                "url": "https://n8n.io/blog/running-n8n-on-ships-an-interview-with-maranics/",
                "icon": "🛳",
                "label": "Running n8n on ships: An interview with Maranics"
              },
              {
                "url": "https://n8n.io/blog/what-are-apis-how-to-use-them-with-no-code/",
                "icon": " 🪢",
                "label": "What are APIs and how to use them with no code"
              },
              {
                "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                "icon": "⚡️",
                "label": "5 tasks you can automate with the new Notion API "
              },
              {
                "url": "https://n8n.io/blog/world-poetry-day-workflow/",
                "icon": "📜",
                "label": "Celebrating World Poetry Day with a daily poem in Telegram"
              },
              {
                "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                "icon": "💡",
                "label": "15 Google apps you can combine and automate to increase productivity"
              },
              {
                "url": "https://n8n.io/blog/automate-designs-with-bannerbear-and-n8n/",
                "icon": "🎨",
                "label": "Automate Designs with Bannerbear and n8n"
              },
              {
                "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                "icon": " 🕸️",
                "label": "How uProc scraped a multi-page website with a low-code workflow"
              },
              {
                "url": "https://n8n.io/blog/building-an-expense-tracking-app-in-10-minutes/",
                "icon": "📱",
                "label": "Building an expense tracking app in 10 minutes"
              },
              {
                "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                "icon": "🤖",
                "label": "5 workflow automations for Mattermost that we love at n8n"
              },
              {
                "url": "https://n8n.io/blog/how-to-use-the-http-request-node-the-swiss-army-knife-for-workflow-automation/",
                "icon": "🧰",
                "label": "How to use the HTTP Request Node - The Swiss Army Knife for Workflow Automation"
              },
              {
                "url": "https://n8n.io/blog/learn-how-to-use-webhooks-with-mattermost-slash-commands/",
                "icon": "🦄",
                "label": "Learn how to use webhooks with Mattermost slash commands"
              },
              {
                "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                "icon": "📈",
                "label": "How a Membership Development Manager automates his work and investments"
              },
              {
                "url": "https://n8n.io/blog/a-low-code-bitcoin-ticker-built-with-questdb-and-n8n-io/",
                "icon": "📈",
                "label": "A low-code bitcoin ticker built with QuestDB and n8n.io"
              },
              {
                "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                "icon": "🎡",
                "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
              },
              {
                "url": "https://n8n.io/blog/automations-for-activists/",
                "icon": "✨",
                "label": "How Common Knowledge use workflow automation for activism"
              },
              {
                "url": "https://n8n.io/blog/creating-scheduled-text-affirmations-with-n8n/",
                "icon": "🤟",
                "label": "Creating scheduled text affirmations with n8n"
              },
              {
                "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                "icon": "🛵",
                "label": "How Goomer automated their operations with over 200 n8n workflows"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.httprequest/"
              }
            ]
          },
          "categories": [
            "Development",
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"output\"]",
      "defaults": {
        "name": "HTTP Request",
        "color": "#0004F5"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MCAyMEM0MCA4Ljk1MzE0IDMxLjA0NjkgMCAyMCAwQzguOTUzMTQgMCAwIDguOTUzMTQgMCAyMEMwIDMxLjA0NjkgOC45NTMxNCA0MCAyMCA0MEMzMS4wNDY5IDQwIDQwIDMxLjA0NjkgNDAgMjBaTTIwIDM2Ljk0NThDMTguODg1MiAzNi45NDU4IDE3LjEzNzggMzUuOTY3IDE1LjQ5OTggMzIuNjk4NUMxNC43OTY0IDMxLjI5MTggMTQuMTk2MSAyOS41NDMxIDEzLjc1MjYgMjcuNjg0N0gyNi4xODk4QzI1LjgwNDUgMjkuNTQwMyAyNS4yMDQ0IDMxLjI5MDEgMjQuNTAwMiAzMi42OTg1QzIyLjg2MjIgMzUuOTY3IDIxLjExNDggMzYuOTQ1OCAyMCAzNi45NDU4Wk0xMi45MDY0IDIwQzEyLjkwNjQgMjEuNjA5NyAxMy4wMDg3IDIzLjE2NCAxMy4yMDAzIDI0LjYzMDVIMjYuNzk5N0MyNi45OTEzIDIzLjE2NCAyNy4wOTM2IDIxLjYwOTcgMjcuMDkzNiAyMEMyNy4wOTM2IDE4LjM5MDMgMjYuOTkxMyAxNi44MzYgMjYuNzk5NyAxNS4zNjk1SDEzLjIwMDNDMTMuMDA4NyAxNi44MzYgMTIuOTA2NCAxOC4zOTAzIDEyLjkwNjQgMjBaTTIwIDMuMDU0MTlDMjEuMTE0OSAzLjA1NDE5IDIyLjg2MjIgNC4wMzA3OCAyNC41MDAxIDcuMzAwMzlDMjUuMjA2NiA4LjcxNDA4IDI1LjgwNzIgMTAuNDA2NyAyNi4xOTIgMTIuMzE1M0gxMy43NTAxQzE0LjE5MzMgMTAuNDA0NyAxNC43OTQyIDguNzEyNTQgMTUuNDk5OCA3LjMwMDY0QzE3LjEzNzcgNC4wMzA4MyAxOC44ODUxIDMuMDU0MTkgMjAgMy4wNTQxOVpNMzAuMTQ3OCAyMEMzMC4xNDc4IDE4LjQwOTkgMzAuMDU0MyAxNi44NjE3IDI5LjgyMjcgMTUuMzY5NUgzNi4zMDQyQzM2LjcyNTIgMTYuODQyIDM2Ljk0NTggMTguMzk2NCAzNi45NDU4IDIwQzM2Ljk0NTggMjEuNjAzNiAzNi43MjUyIDIzLjE1OCAzNi4zMDQyIDI0LjYzMDVIMjkuODIyN0MzMC4wNTQzIDIzLjEzODMgMzAuMTQ3OCAyMS41OTAxIDMwLjE0NzggMjBaTTI2LjI3NjcgNC4yNTUxMkMyNy42MzY1IDYuMzYwMTkgMjguNzExIDkuMTMyIDI5LjM3NzQgMTIuMzE1M0gzNS4xMDQ2QzMzLjI1MTEgOC42NjggMzAuMTA3IDUuNzgzNDYgMjYuMjc2NyA0LjI1NTEyWk0xMC42MjI2IDEyLjMxNTNINC44OTI5M0M2Ljc1MTQ3IDguNjY3ODQgOS44OTM1MSA1Ljc4MzQxIDEzLjcyMzIgNC4yNTUxM0MxMi4zNjM1IDYuMzYwMjEgMTEuMjg5IDkuMTMyMDEgMTAuNjIyNiAxMi4zMTUzWk0zLjA1NDE5IDIwQzMuMDU0MTkgMjEuNjAzIDMuMjc3NDMgMjMuMTU3NSAzLjY5NDg0IDI0LjYzMDVIMTAuMTIxN0M5Ljk0NjE5IDIzLjE0MiA5Ljg1MjIyIDIxLjU5NDMgOS44NTIyMiAyMEM5Ljg1MjIyIDE4LjQwNTcgOS45NDYxOSAxNi44NTggMTAuMTIxNyAxNS4zNjk1SDMuNjk0ODRDMy4yNzc0MyAxNi44NDI1IDMuMDU0MTkgMTguMzk3IDMuMDU0MTkgMjBaTTI2LjI3NjYgMzUuNzQyN0MyNy42MzY1IDMzLjYzOTMgMjguNzExIDMwLjg2OCAyOS4zNzc0IDI3LjY4NDdIMzUuMTA0NkMzMy4yNTEgMzEuMzMyMiAzMC4xMDY4IDM0LjIxNzkgMjYuMjc2NiAzNS43NDI3Wk0xMy43MjM0IDM1Ljc0MjdDOS44OTM2OSAzNC4yMTc5IDYuNzUxNTUgMzEuMzMyNCA0Ljg5MjkzIDI3LjY4NDdIMTAuNjIyNkMxMS4yODkgMzAuODY4IDEyLjM2MzUgMzMuNjM5MyAxMy43MjM0IDM1Ljc0MjdaIiBmaWxsPSIjM0E0MkU5Ii8+Cjwvc3ZnPgo="
      },
      "displayName": "HTTP Request",
      "typeVersion": 4,
      "nodeCategories": [
        {
          "id": 5,
          "name": "Development"
        },
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 39,
      "icon": "fa:sync",
      "name": "n8n-nodes-base.splitInBatches",
      "codex": {
        "data": {
          "alias": [
            "Loop",
            "Concatenate",
            "Batch",
            "Split",
            "Split In Batches"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                "icon": " 🕸️",
                "label": "How uProc scraped a multi-page website with a low-code workflow"
              },
              {
                "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                "icon": "🎖",
                "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.splitinbatches/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Flow"
            ]
          }
        }
      },
      "group": "[\"organization\"]",
      "defaults": {
        "name": "Loop Over Items",
        "color": "#007755"
      },
      "iconData": {
        "icon": "sync",
        "type": "icon"
      },
      "displayName": "Loop Over Items (Split in Batches)",
      "typeVersion": 3,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 58,
      "icon": "file:googleDrive.svg",
      "name": "n8n-nodes-base.googleDrive",
      "codex": {
        "data": {
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/your-business-doesnt-need-you-to-operate/",
                "icon": " 🖥️",
                "label": "Hey founders! Your business doesn't need you to operate"
              },
              {
                "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                "icon": "🧠",
                "label": "Why this Product Manager loves workflow automation with n8n"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googledrive/"
              }
            ],
            "credentialDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/credentials/google/oauth-single-service/"
              }
            ]
          },
          "categories": [
            "Data & Storage"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0"
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Google Drive"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiB2aWV3Qm94PSIwIDAgODEgNzMiPjx1c2UgeGxpbms6aHJlZj0iI2EiIHg9Ii41IiB5PSIuNSIvPjxzeW1ib2wgaWQ9ImEiIG92ZXJmbG93PSJ2aXNpYmxlIj48ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSI+PHBhdGggZmlsbD0iIzAwNjZkYSIgZD0ibTYuMDQ4IDYxLjI2IDMuNTI4IDYuMDk0Yy43MzMgMS4yODMgMS43ODcgMi4yOTEgMy4wMjQgMy4wMjRsMTIuNi0yMS44MUgwYTguMyA4LjMgMCAwIDAgMS4xIDQuMTI0eiIvPjxwYXRoIGZpbGw9IiMwMGFjNDciIGQ9Ik00MCAyMi45MSAyNy40IDEuMWMtMS4yMzcuNzMzLTIuMjkxIDEuNzQxLTMuMDI0IDMuMDI0TDEuMSA0NC40NDVBOC4zIDguMyAwIDAgMCAwIDQ4LjU2OGgyNS4yeiIvPjxwYXRoIGZpbGw9IiNlYTQzMzUiIGQ9Ik02Ny40IDcwLjM3OGMxLjIzNy0uNzMzIDIuMjkxLTEuNzQxIDMuMDI0LTMuMDI0bDEuNDY2LTIuNTIgNy4wMS0xMi4xNDJhOC4zIDguMyAwIDAgMCAxLjEtNC4xMjRINTQuNzk4bDUuMzYzIDEwLjUzOHoiLz48cGF0aCBmaWxsPSIjMDA4MzJkIiBkPSJNNDAgMjIuOTEgNTIuNiAxLjFDNTEuMzYzLjM2NyA0OS45NDMgMCA0OC40NzcgMEgzMS41MjRjLTEuNDY2IDAtMi44ODcuNDEyLTQuMTI0IDEuMXoiLz48cGF0aCBmaWxsPSIjMjY4NGZjIiBkPSJNNTQuNzk5IDQ4LjU2OEgyNS4ybC0xMi42IDIxLjgxYzEuMjM3LjczMyAyLjY1NyAxLjEgNC4xMjQgMS4xaDQ2LjU1MmMxLjQ2NiAwIDIuODg3LS40MTIgNC4xMjQtMS4xeiIvPjxwYXRoIGZpbGw9IiNmZmJhMDAiIGQ9Ik02Ny4yNjIgMjQuMjg0IDU1LjYyNCA0LjEyNEM1NC44OTEgMi44NDEgNTMuODM3IDEuODMzIDUyLjYgMS4xTDQwIDIyLjkxbDE0LjggMjUuNjU5aDI1LjE1NWE4LjMgOC4zIDAgMCAwLTEuMS00LjEyNHoiLz48L2c+PC9zeW1ib2w+PC9zdmc+"
      },
      "displayName": "Google Drive",
      "typeVersion": 3,
      "nodeCategories": [
        {
          "id": 3,
          "name": "Data & Storage"
        }
      ]
    },
    {
      "id": 112,
      "icon": "fa:map-signs",
      "name": "n8n-nodes-base.switch",
      "codex": {
        "data": {
          "alias": [
            "Router",
            "If",
            "Path",
            "Filter",
            "Condition",
            "Logic",
            "Branch",
            "Case"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                "icon": "☀️",
                "label": "2021: The Year to Automate the New You with n8n"
              },
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "👥",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/build-your-own-virtual-assistant-with-n8n-a-step-by-step-guide/",
                "icon": "👦",
                "label": "Build your own virtual assistant with n8n: A step by step guide"
              },
              {
                "url": "https://n8n.io/blog/automation-for-maintainers-of-open-source-projects/",
                "icon": "🏷️",
                "label": "How to automatically manage contributions to open-source projects"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.switch/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Flow"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Switch",
        "color": "#506000"
      },
      "iconData": {
        "icon": "map-signs",
        "type": "icon"
      },
      "displayName": "Switch",
      "typeVersion": 3,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 514,
      "icon": "fa:pause-circle",
      "name": "n8n-nodes-base.wait",
      "codex": {
        "data": {
          "alias": [
            "pause",
            "sleep",
            "delay",
            "timeout"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "👥",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.wait/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers",
              "Flow"
            ]
          }
        }
      },
      "group": "[\"organization\"]",
      "defaults": {
        "name": "Wait",
        "color": "#804050"
      },
      "iconData": {
        "icon": "pause-circle",
        "type": "icon"
      },
      "displayName": "Wait",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 565,
      "icon": "fa:sticky-note",
      "name": "n8n-nodes-base.stickyNote",
      "codex": {
        "data": {
          "alias": [
            "Comments",
            "Notes",
            "Sticky"
          ],
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Sticky Note",
        "color": "#FFD233"
      },
      "iconData": {
        "icon": "sticky-note",
        "type": "icon"
      },
      "displayName": "Sticky Note",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 838,
      "icon": "fa:mouse-pointer",
      "name": "n8n-nodes-base.manualTrigger",
      "codex": {
        "data": {
          "resources": {
            "generic": [],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.manualworkflowtrigger/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0"
        }
      },
      "group": "[\"trigger\"]",
      "defaults": {
        "name": "When clicking ‘Execute workflow’",
        "color": "#909298"
      },
      "iconData": {
        "icon": "mouse-pointer",
        "type": "icon"
      },
      "displayName": "Manual Trigger",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 844,
      "icon": "fa:filter",
      "name": "n8n-nodes-base.filter",
      "codex": {
        "data": {
          "alias": [
            "Router",
            "Filter",
            "Condition",
            "Logic",
            "Boolean",
            "Branch"
          ],
          "details": "The Filter node can be used to filter items based on a condition. If the condition is met, the item will be passed on to the next node. If the condition is not met, the item will be omitted. Conditions can be combined together by AND(meet all conditions), or OR(meet at least one condition).",
          "resources": {
            "generic": [],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.filter/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Flow",
              "Data Transformation"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Filter",
        "color": "#229eff"
      },
      "iconData": {
        "icon": "filter",
        "type": "icon"
      },
      "displayName": "Filter",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 1250,
      "icon": "file:openAi.svg",
      "name": "@n8n/n8n-nodes-langchain.openAi",
      "codex": {
        "data": {
          "alias": [
            "LangChain",
            "ChatGPT",
            "DallE",
            "whisper",
            "audio",
            "transcribe",
            "tts",
            "assistant"
          ],
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-langchain.openai/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Agents",
              "Miscellaneous",
              "Root Nodes"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "OpenAI"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTM2Ljg2NzEgMTYuMzcxOEMzNy43NzQ2IDEzLjY0OCAzNy40NjIxIDEwLjY2NDIgMzYuMDEwOCA4LjE4NjYxQzMzLjgyODIgNC4zODY1MyAyOS40NDA3IDIuNDMxNDkgMjUuMTU1NiAzLjM1MTUxQzIzLjI0OTMgMS4yMDM5NiAyMC41MTA1IC0wLjAxNzMxNDggMTcuNjM5MiAwLjAwMDE4NTUzM0MxMy4yNTkxIC0wLjAwOTgxNDY4IDkuMzcyNzMgMi44MTAyNSA4LjAyNTIgNi45Nzc4M0M1LjIxMTM5IDcuNTU0MSAyLjc4MjU4IDkuMzE1MzggMS4zNjEzIDExLjgxMTdDLTAuODM3NDkzIDE1LjYwMTggLTAuMzM2MjMyIDIwLjM3OTQgMi42MDEzMyAyMy42Mjk0QzEuNjkzODEgMjYuMzUzMiAyLjAwNjMyIDI5LjMzNzEgMy40NTc2IDMxLjgxNDZDNS42NDAxNSAzNS42MTQ3IDEwLjAyNzcgMzcuNTY5NyAxNC4zMTI4IDM2LjY0OTdDMTYuMjE3OSAzOC43OTczIDE4Ljk1NzkgNDAuMDE4NSAyMS44MjkyIDM5Ljk5OThDMjYuMjExOCA0MC4wMTEgMzAuMDk5NCAzNy4xODg1IDMxLjQ0NjkgMzMuMDE3MUMzNC4yNjA4IDMyLjQ0MDkgMzYuNjg5NiAzMC42Nzk2IDM4LjExMDggMjguMTgzM0M0MC4zMDcxIDI0LjM5MzIgMzkuODA0NiAxOS42MTk0IDM2Ljg2ODMgMTYuMzY5M0wzNi44NjcxIDE2LjM3MThaTTIxLjgzMTcgMzcuMzg2QzIwLjA3OCAzNy4zODg1IDE4LjM3OTIgMzYuNzc0NyAxNy4wMzI5IDM1LjY1MDlDMTcuMDk0MSAzNS42MTg1IDE3LjIwMDQgMzUuNTU5NyAxNy4yNjkxIDM1LjUxNzJMMjUuMjM0MyAzMC45MTcxQzI1LjY0MTggMzAuNjg1OCAyNS44OTE4IDMwLjI1MjEgMjUuODg5MyAyOS43ODMzVjE4LjU1NDNMMjkuMjU1NiAyMC40OTgxQzI5LjI5MTkgMjAuNTE1NiAyOS4zMTU3IDIwLjU1MDYgMjkuMzIwNyAyMC41OTA2VjI5Ljg4OTZDMjkuMzE1NyAzNC4wMjQ3IDI1Ljk2NjggMzcuMzc3MiAyMS44MzE3IDM3LjM4NlpNNS43MjY0IDMwLjUwNzFDNC44NDc2MyAyOC45ODk2IDQuNTMxMzcgMjcuMjEwOCA0LjgzMjYzIDI1LjQ4NDVDNC44OTEzOCAyNS41MTk1IDQuOTk1MTMgMjUuNTgzMiA1LjA2ODg4IDI1LjYyNTdMMTMuMDM0MSAzMC4yMjU4QzEzLjQzNzggMzAuNDYyMSAxMy45Mzc4IDMwLjQ2MjEgMTQuMzQyOCAzMC4yMjU4TDI0LjA2NjggMjQuNjEwN1YyOC40OTgzQzI0LjA2OTMgMjguNTM4MyAyNC4wNTA1IDI4LjU3NyAyNC4wMTkzIDI4LjYwMkwxNS45Njc5IDMzLjI1MDlDMTIuMzgxNSAzNS4zMTU5IDcuODAxNDQgMzQuMDg4NCA1LjcyNzY1IDMwLjUwNzFINS43MjY0Wk0zLjYzMDEgMTMuMTIwNUM0LjUwNTEyIDExLjYwMDQgNS44ODY0IDEwLjQzNzkgNy41MzE0NCA5LjgzNDE1QzcuNTMxNDQgOS45MDI5IDcuNTI3NjkgMTAuMDI0MSA3LjUyNzY5IDEwLjEwOTJWMTkuMzEwNkM3LjUyNTE5IDE5Ljc3ODEgNy43NzUxOSAyMC4yMTE5IDguMTgxNDUgMjAuNDQzMUwxNy45MDU0IDI2LjA1N0wxNC41MzkxIDI4LjAwMDhDMTQuNTA1MyAyOC4wMjMzIDE0LjQ2MjggMjguMDI3IDE0LjQyNTMgMjguMDEwOEw2LjM3MjY2IDIzLjM1ODJDMi43OTM4MyAyMS4yODU2IDEuNTY2MzEgMTYuNzA2OCAzLjYyODg1IDEzLjEyMTdMMy42MzAxIDEzLjEyMDVaTTMxLjI4ODIgMTkuNTU2OUwyMS41NjQyIDEzLjk0MTdMMjQuOTMwNiAxMS45OTkyQzI0Ljk2NDMgMTEuOTc2NyAyNS4wMDY4IDExLjk3MjkgMjUuMDQ0MyAxMS45ODkyTDMzLjA5NyAxNi42MzhDMzYuNjgyMSAxOC43MDkzIDM3LjkxMDggMjMuMjk1NyAzNS44Mzk1IDI2Ljg4MDhDMzQuOTYzMyAyOC4zOTgzIDMzLjU4MzIgMjkuNTYwOCAzMS45Mzk1IDMwLjE2NThWMjAuNjg5NEMzMS45NDMyIDIwLjIyMTkgMzEuNjk0NSAxOS43ODk0IDMxLjI4OTQgMTkuNTU2OUgzMS4yODgyWk0zNC42MzgzIDE0LjUxNDJDMzQuNTc5NSAxNC40NzggMzQuNDc1OCAxNC40MTU1IDM0LjQwMiAxNC4zNzNMMjYuNDM2OCA5Ljc3Mjg5QzI2LjAzMzEgOS41MzY2NCAyNS41MzMxIDkuNTM2NjQgMjUuMTI4MSA5Ljc3Mjg5TDE1LjQwNDEgMTUuMzg4VjExLjUwMDRDMTUuNDAxNiAxMS40NjA0IDE1LjQyMDQgMTEuNDIxNyAxNS40NTE2IDExLjM5NjdMMjMuNTAzIDYuNzUxNThDMjcuMDg5NCA0LjY4Mjc5IDMxLjY3NDUgNS45MTQwNiAzMy43NDIgOS41MDE2NEMzNC42MTU4IDExLjAxNjcgMzQuOTMyIDEyLjc5MDUgMzQuNjM1OCAxNC41MTQySDM0LjYzODNaTTEzLjU3NDEgMjEuNDQzMUwxMC4yMDY1IDE5LjQ5OTRDMTAuMTcwMiAxOS40ODE5IDEwLjE0NjUgMTkuNDQ2OCAxMC4xNDE1IDE5LjQwNjhWMTAuMTA3OUMxMC4xNDQgNS45Njc4MSAxMy41MDI4IDIuNjEyNzQgMTcuNjQyOSAyLjYxNTI0QzE5LjM5NDIgMi42MTUyNCAyMS4wODkyIDMuMjMwMjUgMjIuNDM1NSA0LjM1MDI4QzIyLjM3NDMgNC4zODI3OCAyMi4yNjkzIDQuNDQxNTMgMjIuMTk5MiA0LjQ4NDAzTDE0LjIzNDEgOS4wODQxM0MxMy44MjY2IDkuMzE1MzggMTMuNTc2NiA5Ljc0Nzg5IDEzLjU3OTEgMTAuMjE2N0wxMy41NzQxIDIxLjQ0MDZWMjEuNDQzMVpNMTUuNDAyOSAxNy41MDA2TDE5LjczNDIgMTQuOTk5M0wyNC4wNjU1IDE3LjQ5OTNWMjIuNTAwN0wxOS43MzQyIDI1LjAwMDdMMTUuNDAyOSAyMi41MDA3VjE3LjUwMDZaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K"
      },
      "displayName": "OpenAI",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    }
  ],
  "views": 1467,
  "recentViews": 4,
  "workflow": {
    "id": "FrfJDXvSHBhQrcon",
    "meta": {
      "instanceId": "d7661a849ead114a9aa6d9ceaf4160465aeb79532a35bde62160c840ffba9fc8",
      "templateCredsSetupCompleted": true
    },
    "name": "AI Facebook Ad Spy Tool",
    "tags": [],
    "nodes": [
      {
        "id": "sticky-note-1",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -1200,
          -400
        ],
        "parameters": {
          "width": 380,
          "height": 200,
          "content": "## 🕵️ STEP 1: Facebook Ad Library Scraping\n\nThis workflow extracts competitor ads from Facebook's public ad library:\n\n1. **Run Ad Library Scraper**: Uses Apify to scrape active Facebook ads based on search terms\n2. **Filter For Likes**: Filters out low-quality advertisers (less than 1000 page likes)\n3. **Switch**: Routes ads to different processing paths based on content type\n\n**Setup**: Replace <your-apify-api-key-here> with actual Apify API key and customize search terms"
        },
        "typeVersion": 1
      },
      {
        "id": "sticky-note-2",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -200,
          -800
        ],
        "parameters": {
          "width": 420,
          "height": 240,
          "content": "## 📹 STEP 2: Video Ad Processing Pipeline\n\nFor video ads, this complex pipeline analyzes content:\n\n1. **Download Video**: Gets video file from Facebook\n2. **Upload to Drive**: Stores video for Gemini processing\n3. **Begin Gemini Session**: Initiates video upload to Gemini AI\n4. **Upload to Gemini**: Transfers video for analysis\n5. **Analyze Video**: Uses Gemini's video understanding to describe content\n6. **Generate Summary**: Creates competitor analysis and rewritten ad copy\n\n**Note**: Video processing requires Gemini API for multi-modal analysis"
        },
        "typeVersion": 1
      },
      {
        "id": "sticky-note-3",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -200,
          -100
        ],
        "parameters": {
          "width": 400,
          "height": 220,
          "content": "## 🖼️ STEP 3: Image & Text Ad Processing\n\n**Image Route:**\n• **Analyze Image**: Uses GPT-4 Vision to describe image content\n• **Output Summary**: Generates competitor analysis with image insights\n• **Add as Type = Image**: Stores results with image prompt for recreation\n\n**Text Route:**\n• **Output Text Summary**: Analyzes text-only ads for strategy and messaging\n• **Add as Type = Text**: Stores analysis and rewritten copy\n\n**Result**: Comprehensive competitor intelligence database with recreation prompts"
        },
        "typeVersion": 1
      },
      {
        "id": "sticky-note-4",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          600,
          -400
        ],
        "parameters": {
          "width": 400,
          "height": 220,
          "content": "## 💰 BUSINESS VALUE & APPLICATIONS\n\n**Competitive Intelligence:**\n• Analyze competitor ad strategies across text, image, and video formats\n• Track messaging evolution and creative approaches\n• Identify high-performing advertisers (filtered by page likes)\n\n**Revenue Opportunities:**\n• Sell as spy tool service for $2,000+ to marketing agencies\n• Offer competitor analysis reports to PPC clients\n• Use insights for your own ad campaign optimization\n\n**Scalable System**: Process hundreds of ads automatically with detailed analysis"
        },
        "typeVersion": 1
      },
      {
        "id": "18536cf3-1626-44ee-95d5-6eb28baa712b",
        "name": "When clicking ‘Execute workflow’",
        "type": "n8n-nodes-base.manualTrigger",
        "position": [
          -1300,
          -140
        ],
        "parameters": {},
        "typeVersion": 1
      },
      {
        "id": "e201ba62-cc45-45e6-b50c-08f913a27c87",
        "name": "Switch",
        "type": "n8n-nodes-base.switch",
        "position": [
          -640,
          -140
        ],
        "parameters": {
          "rules": {
            "values": [
              {
                "outputKey": "Video",
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "9dbbe6e7-fd80-44ab-88f0-ab438cfd997e",
                      "operator": {
                        "type": "string",
                        "operation": "exists",
                        "singleValue": true
                      },
                      "leftValue": "={{ $json.snapshot.videos[0].video_sd_url }}",
                      "rightValue": "=https://video-"
                    }
                  ]
                },
                "renameOutput": true
              },
              {
                "outputKey": "Image",
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "0b7cee75-ca57-4946-971e-1f526b49324f",
                      "operator": {
                        "type": "string",
                        "operation": "exists",
                        "singleValue": true
                      },
                      "leftValue": "={{ $json.snapshot.images[0].original_image_url }}",
                      "rightValue": "https://scontent-ho"
                    }
                  ]
                },
                "renameOutput": true
              }
            ]
          },
          "options": {
            "fallbackOutput": "extra",
            "renameFallbackOutput": "Text"
          }
        },
        "typeVersion": 3.2
      },
      {
        "id": "ca9ee8b5-c562-4339-b6ad-6c7e8d31e4ef",
        "name": "Filter For Likes",
        "type": "n8n-nodes-base.filter",
        "position": [
          -860,
          -140
        ],
        "parameters": {
          "options": {},
          "conditions": {
            "options": {
              "version": 2,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "combinator": "and",
            "conditions": [
              {
                "id": "c1d74591-13e8-4c79-9a34-117cc6816dfb",
                "operator": {
                  "type": "number",
                  "operation": "gt"
                },
                "leftValue": "={{ $json.advertiser.ad_library_page_info.page_info.likes }}",
                "rightValue": 1000
              }
            ]
          }
        },
        "typeVersion": 2.2
      },
      {
        "id": "abdf6521-2599-4741-9dab-f6ce60775ec7",
        "name": "Wait",
        "type": "n8n-nodes-base.wait",
        "position": [
          380,
          160
        ],
        "webhookId": "1cda7407-6321-4d8d-b532-19f42514eb63",
        "parameters": {
          "amount": 1
        },
        "typeVersion": 1.1
      },
      {
        "id": "56c2f9ea-5427-4cd1-a7ce-0f3b918960d2",
        "name": "Wait1",
        "type": "n8n-nodes-base.wait",
        "position": [
          640,
          -140
        ],
        "webhookId": "1cda7407-6321-4d8d-b532-19f42514eb63",
        "parameters": {
          "amount": 1
        },
        "typeVersion": 1.1
      },
      {
        "id": "1b41ce15-b4b1-4189-940e-f4d38062619e",
        "name": "Download Video",
        "type": "n8n-nodes-base.httpRequest",
        "position": [
          -120,
          -520
        ],
        "parameters": {
          "url": "={{ $json.snapshot.videos[0].video_sd_url }}",
          "options": {}
        },
        "typeVersion": 4.2
      },
      {
        "id": "9a1730f8-c73c-4771-a718-a6729f68374c",
        "name": "Upload Video to Drive",
        "type": "n8n-nodes-base.googleDrive",
        "position": [
          100,
          -520
        ],
        "parameters": {
          "name": "Example File",
          "driveId": {
            "__rl": true,
            "mode": "list",
            "value": "My Drive"
          },
          "options": {},
          "folderId": {
            "__rl": true,
            "mode": "list",
            "value": "root",
            "cachedResultName": "/ (Root folder)"
          }
        },
        "credentials": {
          "googleDriveOAuth2Api": {
            "id": "8R2NiLt8owCA0E2O",
            "name": "Google Drive account"
          }
        },
        "typeVersion": 3
      },
      {
        "id": "decfca56-689f-4332-9813-00edf6ec00b5",
        "name": "Wait2",
        "type": "n8n-nodes-base.wait",
        "position": [
          2100,
          -440
        ],
        "webhookId": "1cda7407-6321-4d8d-b532-19f42514eb63",
        "parameters": {
          "amount": 1
        },
        "typeVersion": 1.1
      },
      {
        "id": "6adbf90c-a132-4ef1-88f7-9ab798c955a3",
        "name": "Run Ad Library Scraper",
        "type": "n8n-nodes-base.httpRequest",
        "position": [
          -1080,
          -140
        ],
        "parameters": {
          "url": "https://api.apify.com/v2/acts/XtaWFhbtfxyzqrFmd/run-sync-get-dataset-items",
          "method": "POST",
          "options": {},
          "jsonBody": "{\n    \"count\": 200,\n    \"period\": \"last7d\",\n    \"scrapeAdDetails\": true,\n    \"scrapePageAds.activeStatus\": \"active\",\n    \"urls\": [\n        {\n            \"url\": \"https://www.facebook.com/ads/library/?active_status=active&ad_type=all&country=US&is_targeted_country=false&media_type=all&q=%22ai%20automation%22&search_type=keyword_exact_phrase&start_date[min]=2025-06-12&start_date[max]\",\n            \"method\": \"GET\"\n        }\n    ]\n}",
          "sendBody": true,
          "sendHeaders": true,
          "specifyBody": "json",
          "headerParameters": {
            "parameters": [
              {
                "name": "Authorization",
                "value": "Bearer <yourApiKey>"
              },
              {
                "name": "Accept",
                "value": "application/json"
              }
            ]
          }
        },
        "typeVersion": 4.2
      },
      {
        "id": "1380cc04-7732-4070-8306-7c986c513ce7",
        "name": "Loop Over Image Ads",
        "type": "n8n-nodes-base.splitInBatches",
        "position": [
          -420,
          -140
        ],
        "parameters": {
          "options": {}
        },
        "typeVersion": 3
      },
      {
        "id": "dafb1f75-ba45-4c08-8581-5e6554de9089",
        "name": "Loop Over Text Ads",
        "type": "n8n-nodes-base.splitInBatches",
        "position": [
          -420,
          160
        ],
        "parameters": {
          "options": {}
        },
        "typeVersion": 3
      },
      {
        "id": "66fc9090-11f2-4da1-bdec-9a24be1f5669",
        "name": "Loop Over Video Ads",
        "type": "n8n-nodes-base.splitInBatches",
        "position": [
          -420,
          -445
        ],
        "parameters": {
          "options": {}
        },
        "typeVersion": 3
      },
      {
        "id": "2a753af7-acfd-4813-9fc7-1feeae3e38ec",
        "name": "Begin Gemini Upload Session",
        "type": "n8n-nodes-base.httpRequest",
        "position": [
          300,
          -520
        ],
        "parameters": {
          "url": "https://generativelanguage.googleapis.com/upload/v1beta/files",
          "method": "POST",
          "options": {
            "response": {
              "response": {
                "fullResponse": true
              }
            }
          },
          "sendQuery": true,
          "sendHeaders": true,
          "queryParameters": {
            "parameters": [
              {
                "name": "key",
                "value": "<yourApiKey>"
              }
            ]
          },
          "headerParameters": {
            "parameters": [
              {
                "name": "X-Goog-Upload-Protocol",
                "value": "resumable"
              },
              {
                "name": "X-Goog-Upload-Command",
                "value": "start"
              },
              {
                "name": "X-Goog-Upload-Header-Content-Length",
                "value": "={{ $json.size }}"
              },
              {
                "name": "Content-Type",
                "value": "application/json"
              }
            ]
          }
        },
        "typeVersion": 4.2
      },
      {
        "id": "fed903ba-79f3-466f-b1e3-6cc72f05f341",
        "name": "Redownload Video",
        "type": "n8n-nodes-base.googleDrive",
        "position": [
          520,
          -520
        ],
        "parameters": {
          "fileId": {
            "__rl": true,
            "mode": "id",
            "value": "={{ $('Upload Video to Drive').item.json.id }}"
          },
          "options": {},
          "operation": "download"
        },
        "credentials": {
          "googleDriveOAuth2Api": {
            "id": "8R2NiLt8owCA0E2O",
            "name": "Google Drive account"
          }
        },
        "typeVersion": 3
      },
      {
        "id": "bf9a84ef-a025-4d08-bc70-0627c1e5f553",
        "name": "Upload Video to Gemini",
        "type": "n8n-nodes-base.httpRequest",
        "position": [
          740,
          -520
        ],
        "parameters": {
          "url": "={{ $json.headers['x-goog-upload-url'] }}",
          "method": "POST",
          "options": {},
          "sendBody": true,
          "sendQuery": true,
          "contentType": "binaryData",
          "sendHeaders": true,
          "queryParameters": {
            "parameters": [
              {
                "name": "key",
                "value": "<yourApiKey>"
              }
            ]
          },
          "headerParameters": {
            "parameters": [
              {
                "name": "Content-Length",
                "value": "={{ $('Upload Video to Drive').item.json.size }}"
              },
              {
                "name": "X-Goog-Upload-Offset",
                "value": "0"
              },
              {
                "name": "X-Goog-Upload-Command",
                "value": "upload, finalize"
              }
            ]
          },
          "inputDataFieldName": "=data"
        },
        "typeVersion": 4.2
      },
      {
        "id": "9f389a74-0097-4e4f-847f-c80494d9b8a8",
        "name": "Analyze Video with Gemini",
        "type": "n8n-nodes-base.httpRequest",
        "position": [
          1220,
          -520
        ],
        "parameters": {
          "url": "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent",
          "method": "POST",
          "options": {},
          "jsonBody": "={\n  \"contents\": [\n    {\n      \"parts\": [\n        {\n          \"text\": \"Describe this video in excruciating detail. Do not output anything but the description of the video.\"\n        },\n        {\n          \"file_data\": {\n            \"mime_type\": \"{{ $json.file.mimeType }}\",\n            \"file_uri\": \"{{ $json.file.uri }}\"\n          }\n        }\n      ]\n    }\n  ]\n}",
          "sendBody": true,
          "sendQuery": true,
          "specifyBody": "json",
          "queryParameters": {
            "parameters": [
              {
                "name": "key",
                "value": "<yourApiKey>"
              }
            ]
          }
        },
        "retryOnFail": true,
        "typeVersion": 4.2,
        "waitBetweenTries": 15
      },
      {
        "id": "1528dc3d-fff4-452c-ad42-2d2e9bdf1f4e",
        "name": "Output Video Summary",
        "type": "@n8n/n8n-nodes-langchain.openAi",
        "position": [
          1500,
          -520
        ],
        "parameters": {
          "modelId": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4.1",
            "cachedResultName": "GPT-4.1"
          },
          "options": {
            "temperature": 0.7
          },
          "messages": {
            "values": [
              {
                "role": "system",
                "content": "You're a helpful, intelligent advertisement analysis bot. You analyze advertisements."
              },
              {
                "content": "Your task is to take as input a scraped javascript object from an advertisement in the FB ad library, and then summarize it + spin (repurpose, rewrite) the ad copy. \n\nYou're doing this for strategic intelligence. We run an advertising agency and we're always looking at what our competitor advertisers are doing.\n\nOutput your results in this JSON format:\n\n{\"summary\":\"\",\"rewrittenAdCopy\":\"\"}\n\nRules:\n- The intended style and attitude is generally analytical, inquisitive, and precise, despite exploring complex topics, in the “classic style” of Western writing.\nthe level of formality should be inverse to the topic’s novelty: the weirder something is, the more formal. For ‘safer’ topics, one should cut loose with the humor, epigraphs, typographical stunts and experiments, etc.\n- Avoid hedging and qualifying, even at the risk of making overly-strong claims. It is a slippery slope.\n- Use casual abbreviations (like San Francisco -> SF, thanks -> thx, question -> q ), casual contractions (like \"I've\"), shortened forms of common nouns (like \"info\", \"vid\", \"app\") as this signals more human written speech. Do not use em dashes (eliminate — from your vocabulary completely!\n- No rhetorical questions.\n- Make your summary extremely comprehensive and analytical."
              },
              {
                "content": "=JSON scrape:\n\n{{ $('Loop Over Video Ads').item.json.toJsonString() }}\n\nVideo description:\n\n{{ $json.candidates[0].content.parts[0].text }}"
              }
            ]
          },
          "jsonOutput": true
        },
        "credentials": {
          "openAiApi": {
            "id": "oLLACDYfGm4C4ouV",
            "name": "YouTube "
          }
        },
        "typeVersion": 1.8
      },
      {
        "id": "e3fc12fa-d845-435c-95e7-1fc121f0bb48",
        "name": "Add as Type = Video",
        "type": "n8n-nodes-base.googleSheets",
        "position": [
          1860,
          -520
        ],
        "parameters": {
          "columns": {
            "value": {
              "type": "video",
              "page_id": "={{ $('Loop Over Video Ads').item.json.page_id }}",
              "summary": "={{ $json.message.content.summary }}",
              "page_url": "={{ $('Loop Over Video Ads').item.json.snapshot.page_profile_uri }}",
              "page_name": "={{ $('Loop Over Video Ads').item.json.snapshot.page_name }}",
              "date_added": "={{ $now }}",
              "image_prompt": "=",
              "video_prompt": "={{ $('Analyze Video with Gemini').item.json.candidates[0].content.parts[0].text }}",
              "ad_archive_id": "={{ $('Loop Over Video Ads').item.json.ad_archive_id }}",
              "rewritten_ad_copy": "={{ $json.message.content.rewrittenAdCopy }}"
            },
            "schema": [
              {
                "id": "ad_archive_id",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "ad_archive_id",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "page_id",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "page_id",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "type",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "type",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "date_added",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "date_added",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "page_name",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "page_name",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "page_url",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "page_url",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "summary",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "summary",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "rewritten_ad_copy",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "rewritten_ad_copy",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "image_prompt",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "image_prompt",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "video_prompt",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "video_prompt",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              }
            ],
            "mappingMode": "defineBelow",
            "matchingColumns": [],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {},
          "operation": "append",
          "sheetName": {
            "__rl": true,
            "mode": "list",
            "value": "gid=0",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Cgm0DfKQxgtsjdw6h2LFVBtZnLAioTntzdXgfJCJIqo/edit#gid=0",
            "cachedResultName": "Ads"
          },
          "documentId": {
            "__rl": true,
            "mode": "list",
            "value": "1Cgm0DfKQxgtsjdw6h2LFVBtZnLAioTntzdXgfJCJIqo",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Cgm0DfKQxgtsjdw6h2LFVBtZnLAioTntzdXgfJCJIqo/edit?usp=drivesdk",
            "cachedResultName": "Facebook Ad Library Analyzer DB"
          }
        },
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "EOibXIc4U8wcXyRR",
            "name": "YouTube"
          }
        },
        "typeVersion": 4.6
      },
      {
        "id": "47291e4b-ae46-4bff-8134-8cf330cfb7aa",
        "name": "Analyze Image",
        "type": "@n8n/n8n-nodes-langchain.openAi",
        "position": [
          -120,
          -220
        ],
        "parameters": {
          "text": "What's in this image? Be extremely comprehensive.",
          "modelId": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4o",
            "cachedResultName": "GPT-4O"
          },
          "options": {},
          "resource": "image",
          "imageUrls": "={{ $json.snapshot.images[0].original_image_url }}",
          "operation": "analyze"
        },
        "credentials": {
          "openAiApi": {
            "id": "oLLACDYfGm4C4ouV",
            "name": "YouTube "
          }
        },
        "typeVersion": 1.8
      },
      {
        "id": "34ee9e0e-4be8-41f2-b3fc-1868ec912fb8",
        "name": "Output Image Summary",
        "type": "@n8n/n8n-nodes-langchain.openAi",
        "position": [
          80,
          -220
        ],
        "parameters": {
          "modelId": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4.1",
            "cachedResultName": "GPT-4.1"
          },
          "options": {
            "temperature": 0.7
          },
          "messages": {
            "values": [
              {
                "role": "system",
                "content": "You're a helpful, intelligent advertisement analysis bot. You analyze advertisements."
              },
              {
                "content": "Your task is to take as input a scraped javascript object from an advertisement in the FB ad library, and then summarize it + spin (repurpose, rewrite) the ad copy. \n\nYou're doing this for strategic intelligence. We run an advertising agency and we're always looking at what our competitor advertisers are doing.\n\nOutput your results in this JSON format:\n\n{\"summary\":\"\",\"rewrittenAdCopy\":\"\"}\n\nRules:\n- The intended style and attitude is generally analytical, inquisitive, and precise, despite exploring complex topics, in the “classic style” of Western writing.\nthe level of formality should be inverse to the topic’s novelty: the weirder something is, the more formal. For ‘safer’ topics, one should cut loose with the humor, epigraphs, typographical stunts and experiments, etc.\n- Avoid hedging and qualifying, even at the risk of making overly-strong claims. It is a slippery slope.\n- Use casual abbreviations (like San Francisco -> SF, thanks -> thx, question -> q ), casual contractions (like \"I've\"), shortened forms of common nouns (like \"info\", \"vid\", \"app\") as this signals more human written speech. Do not use em dashes (eliminate — from your vocabulary completely!\n- No rhetorical questions.\n- Make your summary extremely comprehensive and analytical."
              },
              {
                "content": "=JSON scrape:\n\n{{ $('Loop Over Image Ads').item.json.toJsonString() }}\n\nImage description:\n\n{{ $json.content }}"
              }
            ]
          },
          "jsonOutput": true
        },
        "credentials": {
          "openAiApi": {
            "id": "oLLACDYfGm4C4ouV",
            "name": "YouTube "
          }
        },
        "typeVersion": 1.8
      },
      {
        "id": "522169ec-669f-441a-9d20-3679426d0b9d",
        "name": "Add as Type = Image",
        "type": "n8n-nodes-base.googleSheets",
        "position": [
          440,
          -220
        ],
        "parameters": {
          "columns": {
            "value": {
              "type": "image",
              "page_id": "={{ $('Loop Over Image Ads').item.json.page_id }}",
              "summary": "={{ $json.message.content.summary }}",
              "page_url": "={{ $('Loop Over Image Ads').item.json.snapshot.page_profile_uri }}",
              "page_name": "={{ $('Loop Over Image Ads').item.json.snapshot.page_name }}",
              "date_added": "={{ $now }}",
              "image_prompt": "={{ $('Analyze Image').item.json.content }}",
              "ad_archive_id": "={{ $('Loop Over Image Ads').item.json.ad_archive_id }}",
              "rewritten_ad_copy": "={{ $json.message.content.rewrittenAdCopy }}"
            },
            "schema": [
              {
                "id": "ad_archive_id",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "ad_archive_id",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "page_id",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "page_id",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "type",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "type",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "date_added",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "date_added",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "page_name",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "page_name",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "page_url",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "page_url",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "summary",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "summary",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "rewritten_ad_copy",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "rewritten_ad_copy",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "image_prompt",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "image_prompt",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "video_prompt",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "video_prompt",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              }
            ],
            "mappingMode": "defineBelow",
            "matchingColumns": [],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {},
          "operation": "append",
          "sheetName": {
            "__rl": true,
            "mode": "list",
            "value": "gid=0",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Cgm0DfKQxgtsjdw6h2LFVBtZnLAioTntzdXgfJCJIqo/edit#gid=0",
            "cachedResultName": "Ads"
          },
          "documentId": {
            "__rl": true,
            "mode": "list",
            "value": "1Cgm0DfKQxgtsjdw6h2LFVBtZnLAioTntzdXgfJCJIqo",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Cgm0DfKQxgtsjdw6h2LFVBtZnLAioTntzdXgfJCJIqo/edit?usp=drivesdk",
            "cachedResultName": "Facebook Ad Library Analyzer DB"
          }
        },
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "EOibXIc4U8wcXyRR",
            "name": "YouTube"
          }
        },
        "typeVersion": 4.6
      },
      {
        "id": "f43bb15e-9c7d-4a97-9a10-7c9ce835f1f6",
        "name": "Output Text Summary",
        "type": "@n8n/n8n-nodes-langchain.openAi",
        "position": [
          -200,
          80
        ],
        "parameters": {
          "modelId": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4.1",
            "cachedResultName": "GPT-4.1"
          },
          "options": {
            "temperature": 0.7
          },
          "messages": {
            "values": [
              {
                "role": "system",
                "content": "You're a helpful, intelligent advertisement analysis bot. You analyze advertisements."
              },
              {
                "content": "Your task is to take as input a scraped javascript object from an advertisement in the FB ad library, and then summarize it + spin (repurpose, rewrite) the ad copy. \n\nYou're doing this for strategic intelligence. We run an advertising agency and we're always looking at what our competitor advertisers are doing.\n\nOutput your results in this JSON format:\n\n{\"summary\":\"\",\"rewrittenAdCopy\":\"\"}\n\nRules:\n- The intended style and attitude is generally analytical, inquisitive, and precise, despite exploring complex topics, in the “classic style” of Western writing.\nthe level of formality should be inverse to the topic’s novelty: the weirder something is, the more formal. For ‘safer’ topics, one should cut loose with the humor, epigraphs, typographical stunts and experiments, etc.\n- Avoid hedging and qualifying, even at the risk of making overly-strong claims. It is a slippery slope.\n- Use casual abbreviations (like San Francisco -> SF, thanks -> thx, question -> q ), casual contractions (like \"I've\"), shortened forms of common nouns (like \"info\", \"vid\", \"app\") as this signals more human written speech. Do not use em dashes (eliminate — from your vocabulary completely!\n- No rhetorical questions.\n- Make your summary extremely comprehensive and analytical."
              },
              {
                "content": "={{ $json.toJsonString() }}"
              }
            ]
          },
          "jsonOutput": true
        },
        "credentials": {
          "openAiApi": {
            "id": "oLLACDYfGm4C4ouV",
            "name": "YouTube "
          }
        },
        "typeVersion": 1.8
      },
      {
        "id": "62aec040-3729-447b-864d-00685857d721",
        "name": "Add as Type = Text",
        "type": "n8n-nodes-base.googleSheets",
        "position": [
          160,
          80
        ],
        "parameters": {
          "columns": {
            "value": {
              "type": "text",
              "page_id": "={{ $('Loop Over Text Ads').item.json.page_id }}",
              "summary": "={{ $json.message.content.summary }}",
              "page_url": "={{ $('Loop Over Text Ads').item.json.snapshot.page_profile_uri }}",
              "page_name": "={{ $('Loop Over Text Ads').item.json.snapshot.page_name }}",
              "date_added": "={{ $now }}",
              "ad_archive_id": "={{ $('Loop Over Text Ads').item.json.ad_archive_id }}",
              "rewritten_ad_copy": "={{ $json.message.content.rewrittenAdCopy }}"
            },
            "schema": [
              {
                "id": "ad_archive_id",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "ad_archive_id",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "page_id",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "page_id",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "type",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "type",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "date_added",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "date_added",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "page_name",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "page_name",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "page_url",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "page_url",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "summary",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "summary",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "rewritten_ad_copy",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "rewritten_ad_copy",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "image_prompt",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "image_prompt",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "video_prompt",
                "type": "string",
                "display": true,
                "removed": false,
                "required": false,
                "displayName": "video_prompt",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              }
            ],
            "mappingMode": "defineBelow",
            "matchingColumns": [],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {},
          "operation": "append",
          "sheetName": {
            "__rl": true,
            "mode": "list",
            "value": "gid=0",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Cgm0DfKQxgtsjdw6h2LFVBtZnLAioTntzdXgfJCJIqo/edit#gid=0",
            "cachedResultName": "Ads"
          },
          "documentId": {
            "__rl": true,
            "mode": "list",
            "value": "1Cgm0DfKQxgtsjdw6h2LFVBtZnLAioTntzdXgfJCJIqo",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Cgm0DfKQxgtsjdw6h2LFVBtZnLAioTntzdXgfJCJIqo/edit?usp=drivesdk",
            "cachedResultName": "Facebook Ad Library Analyzer DB"
          }
        },
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "EOibXIc4U8wcXyRR",
            "name": "YouTube"
          }
        },
        "typeVersion": 4.6
      },
      {
        "id": "7079dc10-2ce5-4df9-889a-0e861f1025a5",
        "name": "Sticky Note",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -1320,
          -560
        ],
        "parameters": {
          "width": 700,
          "height": 260,
          "content": "## AI Facebook Ad Spy Tool\n\nSteps:\n1. Add API key to \"Run Ad Library Scraper\" node\n2. Add filtering threshold in \"Filter For Likes\" node\n3. Add Gemini API key to \"Begin Gemini Upload Session\", \"Upload Video to Gemini\", and \"Analyze Video with Gemini\" nodes\n4. Adjust prompts to AI as needed and swap in your Google Sheet in the Google Sheets nodes.\n\n\n### Happy building!"
        },
        "typeVersion": 1
      },
      {
        "id": "33c52cea-4169-43b1-91e9-f8c6c35f06e1",
        "name": "Wait3",
        "type": "n8n-nodes-base.wait",
        "position": [
          960,
          -520
        ],
        "webhookId": "ac11c85a-5b73-4a29-9667-615e811a5ad8",
        "parameters": {
          "amount": 15
        },
        "typeVersion": 1.1
      }
    ],
    "active": false,
    "pinData": {},
    "settings": {
      "executionOrder": "v1"
    },
    "versionId": "b72f86e7-7d73-495b-935c-f99008fcd705",
    "connections": {
      "Wait": {
        "main": [
          [
            {
              "node": "Loop Over Text Ads",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Wait1": {
        "main": [
          [
            {
              "node": "Loop Over Image Ads",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Wait2": {
        "main": [
          [
            {
              "node": "Loop Over Video Ads",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Wait3": {
        "main": [
          [
            {
              "node": "Analyze Video with Gemini",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Switch": {
        "main": [
          [
            {
              "node": "Loop Over Video Ads",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Loop Over Image Ads",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Loop Over Text Ads",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Analyze Image": {
        "main": [
          [
            {
              "node": "Output Image Summary",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Download Video": {
        "main": [
          [
            {
              "node": "Upload Video to Drive",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Filter For Likes": {
        "main": [
          [
            {
              "node": "Switch",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Redownload Video": {
        "main": [
          [
            {
              "node": "Upload Video to Gemini",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Add as Type = Text": {
        "main": [
          [
            {
              "node": "Wait",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Loop Over Text Ads": {
        "main": [
          [],
          [
            {
              "node": "Output Text Summary",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Add as Type = Image": {
        "main": [
          [
            {
              "node": "Wait1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Add as Type = Video": {
        "main": [
          [
            {
              "node": "Wait2",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Loop Over Image Ads": {
        "main": [
          [],
          [
            {
              "node": "Analyze Image",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Loop Over Video Ads": {
        "main": [
          [],
          [
            {
              "node": "Download Video",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Output Text Summary": {
        "main": [
          [
            {
              "node": "Add as Type = Text",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Output Image Summary": {
        "main": [
          [
            {
              "node": "Add as Type = Image",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Output Video Summary": {
        "main": [
          [
            {
              "node": "Add as Type = Video",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Upload Video to Drive": {
        "main": [
          [
            {
              "node": "Begin Gemini Upload Session",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Run Ad Library Scraper": {
        "main": [
          [
            {
              "node": "Filter For Likes",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Upload Video to Gemini": {
        "main": [
          [
            {
              "node": "Wait3",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Analyze Video with Gemini": {
        "main": [
          [
            {
              "node": "Output Video Summary",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Begin Gemini Upload Session": {
        "main": [
          [
            {
              "node": "Redownload Video",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "When clicking ‘Execute workflow’": {
        "main": [
          [
            {
              "node": "Run Ad Library Scraper",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    }
  },
  "lastUpdatedBy": 29,
  "workflowInfo": {
    "nodeCount": 29,
    "nodeTypes": {
      "n8n-nodes-base.wait": {
        "count": 4
      },
      "n8n-nodes-base.filter": {
        "count": 1
      },
      "n8n-nodes-base.switch": {
        "count": 1
      },
      "n8n-nodes-base.stickyNote": {
        "count": 5
      },
      "n8n-nodes-base.googleDrive": {
        "count": 2
      },
      "n8n-nodes-base.httpRequest": {
        "count": 5
      },
      "n8n-nodes-base.googleSheets": {
        "count": 3
      },
      "n8n-nodes-base.manualTrigger": {
        "count": 1
      },
      "n8n-nodes-base.splitInBatches": {
        "count": 3
      },
      "@n8n/n8n-nodes-langchain.openAi": {
        "count": 4
      }
    }
  },
  "categories": [
    {
      "id": 32,
      "name": "Market Research"
    },
    {
      "id": 51,
      "name": "Multimodal AI"
    }
  ],
  "image": []
}