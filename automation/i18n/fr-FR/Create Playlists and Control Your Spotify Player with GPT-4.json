{
  "id": 5923,
  "name": "Cr√©er des playlists et contr√¥ler votre lecteur Spotify avec GPT-4",
  "views": 1142,
  "recentViews": 3,
  "totalViews": 1142,
  "createdAt": "2025-07-12T22:33:16.022Z",
  "description": "Ce mod√®le n8n fournit un chatbot puissant aliment√© par l'IA qui agit comme votre DJ personnel Spotify. Dites simplement au chatbot quel type de musique vous avez envie d'√©couter, et il cr√©era intelligemment une playlist personnalis√©e, lui donnera un nom appropri√© et la remplira de morceaux pertinents directement dans votre compte Spotify.\n\nLe flux de travail est con√ßu pour √™tre flexible, vous permettant de changer facilement le mod√®le d'IA sous-jacent pour votre fournisseur pr√©f√©r√©, ce qui en fait un point de d√©part polyvalent pour tout projet aliment√© par l'IA.\n\n## Pour qui est-ce ?\n\n* **Amateurs de musique :** Cr√©ez instantan√©ment des playlists pour n'importe quelle activit√©, humeur ou genre sans interrompre votre flux.\n* **D√©veloppeurs et passionn√©s d'IA :** Un point de d√©part parfait pour comprendre comment construire un agent IA fonctionnel qui utilise des outils pour interagir avec des services externes.\n* **Experts en automatisation :** D√©couvrez un exemple pratique de la fa√ßon de cha√Æner des actions IA et des sous-flux de travail pour des automatisations plus complexes et avec √©tat.\n\n## Quel probl√®me cela r√©sout-il ?\n\nCr√©er manuellement une bonne playlist prend du temps. Vous devez penser √† un nom, rechercher des chansons individuelles et les ajouter une par une. Ce flux de travail r√©sout cela en :\n\n* **Automatisant la cr√©ation de playlists :** Transforme une simple demande en langage naturel (par exemple, \"J'ai besoin d'une playlist pour ma course matinale\") en une playlist Spotify enti√®rement form√©e.\n* **R√©duisant l'effort manuel :** √âlimine la t√¢che fastidieuse de recherche et d'ajout de plusieurs morceaux.\n* **Fournissant un contr√¥le du lecteur :** Vous permet de g√©rer votre lecteur Spotify (lecture, pause, suivant) directement depuis l'interface de chat.\n* **Centralisant la gestion musicale :** Agit comme un point de contr√¥le unique pour la cr√©ation de playlists et la gestion de la lecture.\n\n## Comment √ßa fonctionne\n\n1.  **D√©clencheur et entr√©e :** Le flux de travail commence lorsque vous envoyez un message dans l'interface **Chat Trigger**.\n2.  **Agent IA et utilisation d'outils :** Un **Agent IA**, aliment√© par un Mod√®le de Langage de Grande Taille (LLM), interpr√®te votre message. Il a acc√®s √† un ensemble d'\"outils\" qui lui permettent d'interagir avec Spotify.\n3.  **Sous-flux de cr√©ation de playlist :** Si vous demandez une nouvelle playlist, l'Agent appelle un sous-flux en utilisant l'outil **Cr√©er une nouvelle playlist**. Ce sous-flux utilise un autre appel IA pour brainstormer un nom de playlist cr√©atif et une liste de chansons appropri√©es en fonction de votre demande.\n4.  **Actions Spotify :** Le sous-flux se connecte ensuite √† Spotify pour :\n    * Cr√©er une nouvelle playlist vide avec le nom g√©n√©r√©.\n    * Rechercher chaque chanson de la liste de l'IA pour obtenir son ID de piste officielle Spotify.\n    * Ajouter chaque morceau √† la nouvelle playlist.\n5.  **Contr√¥le du lecteur :** Si votre demande est de contr√¥ler la musique (par exemple, \"mettez la musique en pause\"), l'Agent utilise l'outil appropri√© (**Mettre le lecteur en pause**, **Reprendre le lecteur**, etc.) pour contr√¥ler directement votre lecteur Spotify actif.\n\n## Configuration\n\n1.  **Comptes et cl√©s API :** Vous aurez besoin de comptes actifs et de credentials pour :\n    * **Votre fournisseur d'IA (par exemple, OpenAI, Groq, LLM locaux via Ollama) :** Pour alimenter l'Agent IA et la g√©n√©ration de playlists.\n    * **Spotify :** Pour cr√©er des playlists et contr√¥ler le lecteur. Vous devrez enregistrer une application dans le Tableau de Bord des D√©veloppeurs Spotify pour obtenir vos credentials.\n2.  **Configurer les credentials :**\n    * Ajoutez la cl√© API de votre fournisseur d'IA aux n≈ìuds `Chat Model`. Le mod√®le utilise OpenAI par d√©faut, mais vous pouvez facilement le remplacer par n'importe quel n≈ìud de mod√®le Langchain compatible.\n    * Ajoutez vos credentials OAuth2 Spotify √† tous les n≈ìuds **Spotify** et **Outil Spotify**.\n3.  **Activer le flux de travail :** Une fois tous les credentials configur√©s et le flux de travail enregistr√©, cliquez sur le bouton \"Actif\". Vous pouvez maintenant commencer √† interagir avec votre Agent IA Spotify via le panneau de chat !\n\n### **Aller plus loin**\n\nCe mod√®le est une excellente base. Voici quelques id√©es pour √©tendre ses capacit√©s :\n\n* **Devenez le DJ de la f√™te :** Rendez le webhook du Chat Trigger public. Vous pouvez ensuite g√©n√©rer un code QR qui renvoie √† l'URL du chat. Les invit√©s √† la f√™te peuvent scanner le code et demander des chansons directement depuis leurs t√©l√©phones, que l'agent peut ajouter √† une playlist collaborative ou √† la file d'attente.\n* **√âlargir les comp√©tences de l'agent :** Le n≈ìud `Outil Spotify` a plus d'actions disponibles. Ajoutez un nouvel outil pour `Ajouter √† la file d'attente` afin que vous puissiez demander √† l'agent de mettre en file d'attente une chanson sp√©cifique sans cr√©er une toute nouvelle playlist.\n* **Int√©grer avec d'autres plateformes :** Remplacez le `Chat Trigger` par un d√©clencheur `Telegram` ou `Discord` pour cr√©er un bot Spotify pour votre communaut√©. Vous pourriez √©galement le connecter √† un `Webhook` pour prendre des demandes √† partir d'un formulaire web personnalis√©.",
  "workflow": {
    "nodes": [
      {
        "id": "339943be-a10f-4749-8329-5e5b0322b7da",
        "name": "OpenAI Chat Model2",
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "position": [
          800,
          1820
        ],
        "parameters": {
          "model": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4.1-mini",
            "cachedResultName": "gpt-4.1-mini"
          },
          "options": {
            "responseFormat": "json_object"
          }
        },
        "credentials": {
          "openAiApi": {
            "id": "G6pwE0s12sGlHRe3",
            "name": "Plan A's OpenAI"
          }
        },
        "typeVersion": 1.2
      },
      {
        "id": "b3e4c3c9-7c39-457f-821a-588108b5a80d",
        "name": "Get track IDs",
        "type": "n8n-nodes-base.set",
        "position": [
          2020,
          1600
        ],
        "parameters": {
          "options": {},
          "assignments": {
            "assignments": [
              {
                "id": "a35cb340-5917-4981-9627-6c6189a0a0f4",
                "name": "Track ID",
                "type": "string",
                "value": "={{ $json.id }}"
              }
            ]
          }
        },
        "typeVersion": 3.4
      },
      {
        "id": "79061ff4-a47d-430e-b964-80a3bf3945b5",
        "name": "Create playlist",
        "type": "n8n-nodes-base.spotify",
        "notes": "Create a blank playlist with the chosen name.",
        "position": [
          1140,
          1600
        ],
        "parameters": {
          "name": "={{ $json.output.playlistName }}",
          "resource": "playlist",
          "operation": "create",
          "additionalFields": {
            "public": true
          }
        },
        "credentials": {
          "spotifyOAuth2Api": {
            "id": "cF3ccMo4DndHdIe1",
            "name": "Spotify account"
          }
        },
        "notesInFlow": true,
        "retryOnFail": true,
        "typeVersion": 1
      },
      {
        "id": "983f116f-9542-469e-8e09-7da7fe510c5b",
        "name": "Ideate playlist",
        "type": "@n8n/n8n-nodes-langchain.chainLlm",
        "position": [
          780,
          1600
        ],
        "parameters": {
          "text": "=# Playlist guidelines\n\n{{ $json['Playlist guidelines'] }}\n\n\n# Number of songs to include\n\n{{ $json['Number of tracks'] }}",
          "messages": {
            "messageValues": [
              {
                "message": "=# Role\n\nYou are a very experienced DJ and your task is to create a playlist of {{ $json['Number of tracks'] }} tracks and give it a name, based on the user message which contains the playlist instructions and number of tracks to include. \n\n# How to find the {{ $json['Number of tracks'] }} tracks to include within a playlist\n\nYou'll recommend an interesting and relevant mix of tracks, exactly {{ $json['Number of tracks'] }} tracks - ideally not from the same artist (except if the instructions tell so), nailing implementing the instructions given by the user message.\nFor each track you will (and this will be detailed later) provide the artist name and the title of the track.\n\nEvery artists and song should really exist. They have to be real songs reference - usually famous - but mix the styles.\n\n\n# How to craft the playlist title\n\nBased on the user message and the songs to fit into the playlist, the playlist name should be between 5 and 9 words and perfectly fit for a playlist name.\nIt is possible that the user message contains more direct instructions for the title.\n\n# Strict output format:\n\nHere's an example of your output so you have a good idea of the schema of the JSON output and a little idea of how the values can look like in the case of a 5-track playlist (but adapt the values to the user message!):\n\n\n{\n  \"playlistName\":\"Summer dancing with a Spritz and attitude\",\n  \"tracks\":[\n      {\n         \"artist\":\"David Guetta, Sia\",\n         \"title\":\"Beautiful People\"\n      },\n      {\n         \"artist\":\"Ed Sheeran\",\n         \"title\":\"Azizam\"\n      },\n      {\n         \"artist\":\"Doechii\",\n         \"title\":\"Anxiety\"\n      },\n      {\n         \"artist\":\"OneRepublic\",\n         \"title\":\"Nobody (from Kaiju No.8)\"\n      },\n      {\n         \"artist\":\"The Weeknd\",\n         \"title\":\"Cry For Me\"\n      }\n   ]\n}\n\n\n"
              }
            ]
          },
          "promptType": "define",
          "hasOutputParser": true
        },
        "retryOnFail": true,
        "typeVersion": 1.6
      },
      {
        "id": "b82072f8-6326-4a13-871d-6bfe31e88ed3",
        "name": "Split out tracks",
        "type": "n8n-nodes-base.splitOut",
        "position": [
          1580,
          1600
        ],
        "parameters": {
          "options": {},
          "fieldToSplitOut": "Tracks"
        },
        "typeVersion": 1
      },
      {
        "id": "0a6bc27b-77a0-4140-9169-c169f7d63f73",
        "name": "Get tracks array",
        "type": "n8n-nodes-base.set",
        "position": [
          1360,
          1600
        ],
        "parameters": {
          "options": {},
          "assignments": {
            "assignments": [
              {
                "id": "c03ede2c-3d1a-4b94-ba72-d9ac518300d3",
                "name": "Tracks",
                "type": "array",
                "value": "={{ $('Ideate playlist').item.json.output.tracks }}"
              }
            ]
          }
        },
        "typeVersion": 3.4
      },
      {
        "id": "a46ab606-6c84-4d48-bec6-cccac01c36d3",
        "name": "OpenAI Chat Model",
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "position": [
          760,
          1100
        ],
        "parameters": {
          "model": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4.1-mini",
            "cachedResultName": "gpt-4.1-mini"
          },
          "options": {}
        },
        "credentials": {
          "openAiApi": {
            "id": "G6pwE0s12sGlHRe3",
            "name": "Plan A's OpenAI"
          }
        },
        "typeVersion": 1.2
      },
      {
        "id": "26b67f87-659e-4e4c-a205-4b3d93288825",
        "name": "When chat message received",
        "type": "@n8n/n8n-nodes-langchain.chatTrigger",
        "position": [
          580,
          780
        ],
        "webhookId": "e91b8adb-5fad-4414-aaae-fefd42178283",
        "parameters": {
          "public": true,
          "options": {
            "title": "Spotify Agent",
            "subtitle": "Start a chat. We're here to play 24/7."
          },
          "initialMessages": "Hi there! üëã\nI'm your Spotify agent. What should I play for you today?"
        },
        "typeVersion": 1.1
      },
      {
        "id": "27e65e5e-a9cf-4a02-89a5-c392ca4307e3",
        "name": "Simple Memory",
        "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
        "position": [
          1040,
          1040
        ],
        "parameters": {
          "contextWindowLength": 6
        },
        "typeVersion": 1.3
      },
      {
        "id": "21e3ed29-0a45-4d70-9aa5-b61f696491aa",
        "name": "When Executed by Another Workflow",
        "type": "n8n-nodes-base.executeWorkflowTrigger",
        "position": [
          560,
          1600
        ],
        "parameters": {
          "workflowInputs": {
            "values": [
              {
                "name": "Playlist guidelines"
              },
              {
                "name": "Number of tracks",
                "type": "number"
              }
            ]
          }
        },
        "typeVersion": 1.1
      },
      {
        "id": "d506e762-782e-4bc2-bbf6-c3d1b44c5bf1",
        "name": "Add track to playlist",
        "type": "n8n-nodes-base.spotify",
        "position": [
          2240,
          1600
        ],
        "parameters": {
          "id": "=spotify:playlist:{{ $('Create playlist').first().json.id }}",
          "trackID": "=spotify:track:{{ $json[\"Track ID\"] }}",
          "resource": "playlist",
          "additionalFields": {}
        },
        "credentials": {
          "spotifyOAuth2Api": {
            "id": "cF3ccMo4DndHdIe1",
            "name": "Spotify account"
          }
        },
        "retryOnFail": true,
        "typeVersion": 1
      },
      {
        "id": "b1c48119-9e70-4424-8bad-34a347275ca8",
        "name": "Structured Output Parser",
        "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
        "position": [
          920,
          1820
        ],
        "parameters": {
          "jsonSchemaExample": "{\n  \"playlistName\":\"Summer dancing with a Spritz and attitude\",\n  \"tracks\":[\n      {\n         \"artist\":\"David Guetta, Sia\",\n         \"title\":\"Beautiful People\"\n      },\n      {\n         \"artist\":\"Ed Sheeran\",\n         \"title\":\"Azizam\"\n      },\n      {\n         \"artist\":\"Doechii\",\n         \"title\":\"Anxiety\"\n      },\n      {\n         \"artist\":\"OneRepublic\",\n         \"title\":\"Nobody (from Kaiju No.8)\"\n      },\n      {\n         \"artist\":\"The Weeknd\",\n         \"title\":\"Cry For Me\"\n      }\n   ]\n}\n"
        },
        "typeVersion": 1.2
      },
      {
        "id": "b7e89f85-4ad3-4675-bcec-06573f708842",
        "name": "Spotify Agent",
        "type": "@n8n/n8n-nodes-langchain.agent",
        "position": [
          1040,
          780
        ],
        "parameters": {
          "options": {
            "systemMessage": "=You are a spotify assistant and are logged in to a spotify player.\n\n# Capacities\n\nYou have 2 sets of capacities, one is about controling the Spotify player of the user (play, pause, next) and one about managing playlist (creating, searching, playing).\n\n## Resume the player\n\nIf the user seems to ask you to resume the spotify player, use the tool \"Resume player\".\n\n## Pause the player\n\nIf the user seems to ask you to pause the spotify player, use the tool \"Pause player\"\n\n## Playing the next song\n\nIf the user is asking you to play the next song, use the tool \"Next song\" to play it in the user's Spotify player.\n\n\n## Creating a new playlist\n\nIf the user asks to create a new playlist, use the tool \"Create new playlist\" and pass the right guidelines so the playlist can be created. If you feel like you could use some more details from the user before creating it, feel free to ask or to ask to confirm what you had in mind before calling the tool.\nWhen you're done, it's always nice to inform the user about what has been put in.\n\n\n## Finding the user's current playlist\n\nIt can be useful to find the user's current playlists for example when they ask to play a previously created playlist for which you don't have the ID anymore (as the ID is required to play a playlist).\nTo achieve that, use the tool \"Get user playlists\".\n\n\n## Play a playlist\n\nTo play a playlist, you need to have the exact ID of the playlist to play which might require to call specific tools and once you have it you will call the tool \"Play a playlist\" and pass the right ID.\nNB: if the user asks you to play a playlist you had created in the previous message, you'll have to call the tool to find the user's playlist to get the ID of that playlist to play it.\n\n\n# Additional guidelines\n\nIt can happen that the user request requires to use multiple tools in a chain. For example if you're asked about playing a new playlist to create, you'll first create that playlist (using the right tool) and then play it (tool call) based on the ID received after creating that playlist.\nBe smart about managing those cases to provide the smoothest experience.\n\nIf you're not sure about the action you're supposed to do, feel free to suggest to ask for confirmation (but only do that when it's not clear - otherwise, execute).\n\n\n# Output tone and guidelines\n\nAs a Spotify assistant, your answers are concise, friendly, and only include the right level of information (don't mention playlist of track IDs but rather mention names, artists, authors when needed)."
          }
        },
        "typeVersion": 1.9
      },
      {
        "id": "ac1dcb16-a396-4d7f-b8f4-a3a4b5825fec",
        "name": "Get the final playlist",
        "type": "n8n-nodes-base.spotify",
        "position": [
          2460,
          1600
        ],
        "parameters": {
          "id": "=spotify:playlist:{{ $('Create playlist').item.json.id }}",
          "resource": "playlist",
          "operation": "get"
        },
        "credentials": {
          "spotifyOAuth2Api": {
            "id": "cF3ccMo4DndHdIe1",
            "name": "Spotify account"
          }
        },
        "executeOnce": true,
        "typeVersion": 1
      },
      {
        "id": "58581a2e-d7c1-45a7-bca7-c81ef11e6361",
        "name": "Clean data to share with agent",
        "type": "n8n-nodes-base.code",
        "notes": "This code simplifies the schema of the playlist we've just created to ensure that the AI agent gets clean information to process, balancing between context token savings and context.",
        "position": [
          2680,
          1600
        ],
        "parameters": {
          "jsCode": "// The Get Playlist node returns an array, so we take the first item.\nconst playlistData = items[0].json;\n\n// Extract the playlist ID, name, and the direct public URL.\nconst playlistId = playlistData.id;\nconst playlistName = playlistData.name;\nconst publicUrl = playlistData.external_urls.spotify;\n\n// Create a simplified array of tracks.\nconst tracks = playlistData.tracks.items.map(item => {\n  return {\n    trackName: item.track.name,\n    artist: item.track.artists[0].name,\n    album: item.track.album.name,\n    uri: item.track.uri\n  };\n});\n\n// Return a new object with the final, simplified structure.\nreturn [{\n  json: {\n    playlistId,\n    playlistName,\n    publicUrl,\n    tracks\n  }\n}];"
        },
        "notesInFlow": true,
        "typeVersion": 2
      },
      {
        "id": "8769da3a-d7dc-4c4c-b80d-1f0360ab8b08",
        "name": "Play a playlist",
        "type": "n8n-nodes-base.spotifyTool",
        "position": [
          1240,
          1040
        ],
        "parameters": {
          "id": "=spotify:playlist:{{ $fromAI('playlist_ID', `The exact ID of the playlist to play`, 'string') }}",
          "operation": "startMusic",
          "descriptionType": "manual",
          "toolDescription": "Play a playlist based on its ID (don't call this tool until you have the Spotify ID of the playlist to play - this can require using other tools before)."
        },
        "credentials": {
          "spotifyOAuth2Api": {
            "id": "cF3ccMo4DndHdIe1",
            "name": "Spotify account"
          }
        },
        "typeVersion": 1
      },
      {
        "id": "7054d5c8-97a0-45e9-8473-c9da361f3d07",
        "name": "Pause player",
        "type": "n8n-nodes-base.spotifyTool",
        "position": [
          1360,
          1040
        ],
        "parameters": {
          "operation": "pause",
          "descriptionType": "manual",
          "toolDescription": "Use this tool to pose the player"
        },
        "credentials": {
          "spotifyOAuth2Api": {
            "id": "cF3ccMo4DndHdIe1",
            "name": "Spotify account"
          }
        },
        "typeVersion": 1
      },
      {
        "id": "a28c277d-4c52-40ba-baac-e0539951fa88",
        "name": "Resume player",
        "type": "n8n-nodes-base.spotifyTool",
        "position": [
          1480,
          1040
        ],
        "parameters": {
          "operation": "resume",
          "descriptionType": "manual",
          "toolDescription": "Use this tool to resume the player"
        },
        "credentials": {
          "spotifyOAuth2Api": {
            "id": "cF3ccMo4DndHdIe1",
            "name": "Spotify account"
          }
        },
        "typeVersion": 1
      },
      {
        "id": "61d01ce7-fbf6-4471-8f1e-05690592c644",
        "name": "Next song",
        "type": "n8n-nodes-base.spotifyTool",
        "position": [
          1600,
          1040
        ],
        "parameters": {
          "operation": "nextSong",
          "descriptionType": "manual",
          "toolDescription": "Use this tool to play the next song"
        },
        "credentials": {
          "spotifyOAuth2Api": {
            "id": "cF3ccMo4DndHdIe1",
            "name": "Spotify account"
          }
        },
        "typeVersion": 1
      },
      {
        "id": "6d5b125c-9be0-4020-8fe5-17a4653bc5ca",
        "name": "Get user playlists",
        "type": "n8n-nodes-base.spotifyTool",
        "position": [
          1720,
          1040
        ],
        "parameters": {
          "resource": "playlist",
          "operation": "getUserPlaylists",
          "returnAll": true,
          "descriptionType": "manual",
          "toolDescription": "Use this tool to get the user's playlists in Spotify"
        },
        "credentials": {
          "spotifyOAuth2Api": {
            "id": "cF3ccMo4DndHdIe1",
            "name": "Spotify account"
          }
        },
        "typeVersion": 1
      },
      {
        "id": "95b32527-6992-4e04-b029-72b12eb424df",
        "name": "Create new playlist",
        "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
        "position": [
          1840,
          1040
        ],
        "parameters": {
          "workflowId": {
            "__rl": true,
            "mode": "list",
            "value": "PuNFGX6C0QCHB4cq",
            "cachedResultName": "TEMPLATE - Spotify agent"
          },
          "description": "Call this tool to get a playlist creator to create a playlist for the user if the user manifested the need to create a new playlist.",
          "workflowInputs": {
            "value": {
              "Number of tracks": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Number_of_tracks', `The number of tracks to include in the playlist. If no indication was given by the user, default to 10.`, 'number') }}",
              "Playlist guidelines": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Playlist_guidelines', `Guidelines to help the playlist creator create this playlist. Keep it short, but include anything important to be able to create this playlist based on what the user requested (vibe, genre, artists if mentioned, etc).`, 'string') }}"
            },
            "schema": [
              {
                "id": "Playlist guidelines",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "Playlist guidelines",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "Number of tracks",
                "type": "number",
                "display": true,
                "required": false,
                "displayName": "Number of tracks",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              }
            ],
            "mappingMode": "defineBelow",
            "matchingColumns": [],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          }
        },
        "typeVersion": 2.2
      },
      {
        "id": "c212fc80-f3c7-4af7-a684-7263786b5cf6",
        "name": "Search the track",
        "type": "n8n-nodes-base.spotify",
        "position": [
          1800,
          1600
        ],
        "parameters": {
          "limit": 1,
          "query": "={{ $json.artist }} - {{ $json.title }}",
          "filters": {},
          "resource": "track",
          "operation": "search"
        },
        "credentials": {
          "spotifyOAuth2Api": {
            "id": "cF3ccMo4DndHdIe1",
            "name": "Spotify account"
          }
        },
        "retryOnFail": true,
        "typeVersion": 1
      },
      {
        "id": "31f5d94d-537c-4884-8b47-e92855dc4c74",
        "name": "Sticky Note",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -100,
          640
        ],
        "parameters": {
          "width": 500,
          "height": 820,
          "content": "## Try It Out!\n\nThis n8n template provides a powerful AI-powered chatbot that acts as your personal Spotify DJ. Simply tell the chatbot what kind of music you're in the mood for, and it will intelligently create a custom playlist, give it a fitting name, and populate it with relevant tracks directly in your Spotify account.\n\n## How it works\n\n* The **Chat Trigger** captures your instructions.\n* The **AI Agent** interprets your request and decides which tool to use.\n* If a new playlist is requested, the **Create new playlist** tool calls this same workflow, triggering the bottom branch.\n* The bottom branch uses an AI call to **Ideate a playlist**, creates it on Spotify, and then **searches for and adds** each track.\n* Other tools like **Pause player** or **Next song** interact directly with the Spotify API to control playback.\n\n## How to use\n\n* Add your AI provider's credentials to the **AI** nodes.\n* Add your Spotify API credentials to all **Spotify** and **Spotify Tool** nodes.\n* Activate the workflow.\n\n## Requirements\n\n* AI Provider Account (e.g., OpenAI)\n* Spotify Account & Developer Credentials"
        },
        "typeVersion": 1
      },
      {
        "id": "28f5c61a-e68a-480a-8397-07859e22bfec",
        "name": "Sticky Note1",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          480,
          640
        ],
        "parameters": {
          "color": 7,
          "width": 260,
          "height": 300,
          "content": "## Chat trigger and interface"
        },
        "typeVersion": 1
      },
      {
        "id": "4d5cf43a-adbf-48b7-9d03-6829ebc3df06",
        "name": "Sticky Note2",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          1220,
          1000
        ],
        "parameters": {
          "color": 7,
          "width": 760,
          "height": 280,
          "content": "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n## Agent tools"
        },
        "typeVersion": 1
      },
      {
        "id": "808d74d1-2cb5-40a1-a676-48ed0b96eb2f",
        "name": "Sticky Note3",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          960,
          640
        ],
        "parameters": {
          "color": 7,
          "width": 760,
          "height": 280,
          "content": "## AI agent tools\n\nThis agent is the engine of the workflow. Its system instructions define how to call the different tool to interact with Spotify"
        },
        "typeVersion": 1
      },
      {
        "id": "c732f125-979f-4b7a-a6cd-c0da989e3f35",
        "name": "Sticky Note4",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          760,
          1420
        ],
        "parameters": {
          "color": 7,
          "width": 300,
          "height": 500,
          "content": "## AI step to plan the playlist\n\nThis AI node decides for the tracks to include into the playlist and choses the playlist name."
        },
        "typeVersion": 1
      },
      {
        "id": "eaa0799a-c0e4-47d6-95ab-5f6f22d4cd58",
        "name": "Sticky Note5",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          480,
          1340
        ],
        "parameters": {
          "color": 7,
          "width": 2400,
          "height": 660,
          "content": "## Playlist creation sub-workflow"
        },
        "typeVersion": 1
      },
      {
        "id": "ff704841-7686-485b-b53f-afb220c809a5",
        "name": "Sticky Note6",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          1540,
          1460
        ],
        "parameters": {
          "color": 7,
          "width": 840,
          "height": 320,
          "content": "## For each track\nEach track gets searched in Spotify to get their specific IDs to then add them one by one to the playlist."
        },
        "typeVersion": 1
      }
    ],
    "connections": {
      "Next song": {
        "ai_tool": [
          [
            {
              "node": "Spotify Agent",
              "type": "ai_tool",
              "index": 0
            }
          ]
        ]
      },
      "Pause player": {
        "ai_tool": [
          [
            {
              "node": "Spotify Agent",
              "type": "ai_tool",
              "index": 0
            }
          ]
        ]
      },
      "Get track IDs": {
        "main": [
          [
            {
              "node": "Add track to playlist",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Resume player": {
        "ai_tool": [
          [
            {
              "node": "Spotify Agent",
              "type": "ai_tool",
              "index": 0
            }
          ]
        ]
      },
      "Simple Memory": {
        "ai_memory": [
          [
            {
              "node": "Spotify Agent",
              "type": "ai_memory",
              "index": 0
            }
          ]
        ]
      },
      "Create playlist": {
        "main": [
          [
            {
              "node": "Get tracks array",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Ideate playlist": {
        "main": [
          [
            {
              "node": "Create playlist",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Play a playlist": {
        "ai_tool": [
          [
            {
              "node": "Spotify Agent",
              "type": "ai_tool",
              "index": 0
            }
          ]
        ]
      },
      "Get tracks array": {
        "main": [
          [
            {
              "node": "Split out tracks",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Search the track": {
        "main": [
          [
            {
              "node": "Get track IDs",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Split out tracks": {
        "main": [
          [
            {
              "node": "Search the track",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "OpenAI Chat Model": {
        "ai_languageModel": [
          [
            {
              "node": "Spotify Agent",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "Get user playlists": {
        "ai_tool": [
          [
            {
              "node": "Spotify Agent",
              "type": "ai_tool",
              "index": 0
            }
          ]
        ]
      },
      "OpenAI Chat Model2": {
        "ai_languageModel": [
          [
            {
              "node": "Ideate playlist",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "Create new playlist": {
        "ai_tool": [
          [
            {
              "node": "Spotify Agent",
              "type": "ai_tool",
              "index": 0
            }
          ]
        ]
      },
      "Add track to playlist": {
        "main": [
          [
            {
              "node": "Get the final playlist",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get the final playlist": {
        "main": [
          [
            {
              "node": "Clean data to share with agent",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Structured Output Parser": {
        "ai_outputParser": [
          [
            {
              "node": "Ideate playlist",
              "type": "ai_outputParser",
              "index": 0
            }
          ]
        ]
      },
      "When chat message received": {
        "main": [
          [
            {
              "node": "Spotify Agent",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "When Executed by Another Workflow": {
        "main": [
          [
            {
              "node": "Ideate playlist",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    }
  },
  "lastUpdatedBy": 29,
  "workflowInfo": {
    "nodeCount": 29,
    "nodeTypes": {
      "n8n-nodes-base.set": {
        "count": 2
      },
      "n8n-nodes-base.code": {
        "count": 1
      },
      "n8n-nodes-base.spotify": {
        "count": 4
      },
      "n8n-nodes-base.splitOut": {
        "count": 1
      },
      "n8n-nodes-base.stickyNote": {
        "count": 7
      },
      "n8n-nodes-base.spotifyTool": {
        "count": 5
      },
      "@n8n/n8n-nodes-langchain.agent": {
        "count": 1
      },
      "@n8n/n8n-nodes-langchain.chainLlm": {
        "count": 1
      },
      "@n8n/n8n-nodes-langchain.chatTrigger": {
        "count": 1
      },
      "@n8n/n8n-nodes-langchain.lmChatOpenAi": {
        "count": 2
      },
      "@n8n/n8n-nodes-langchain.toolWorkflow": {
        "count": 1
      },
      "n8n-nodes-base.executeWorkflowTrigger": {
        "count": 1
      },
      "@n8n/n8n-nodes-langchain.memoryBufferWindow": {
        "count": 1
      },
      "@n8n/n8n-nodes-langchain.outputParserStructured": {
        "count": 1
      }
    }
  },
  "user": {
    "name": "Guillaume Duvernay",
    "username": "duv",
    "bio": "AI and automation expert",
    "verified": true,
    "links": [
      "https://www.linkedin.com/in/guillaume-duvernay/"
    ],
    "avatar": "https://gravatar.com/avatar/1e93ed2388069da40b3202c5566318982166f1a0b4c4c35c4802c8ca4de79991?r=pg&d=retro&size=200"
  },
  "nodes": [
    {
      "id": 38,
      "icon": "fa:pen",
      "name": "n8n-nodes-base.set",
      "codex": {
        "data": {
          "alias": [
            "Set",
            "JS",
            "JSON",
            "Filter",
            "Transform",
            "Map"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                "icon": "üè≠",
                "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
              },
              {
                "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                "icon": "‚òÄÔ∏è",
                "label": "2021: The Year to Automate the New You with n8n"
              },
              {
                "url": "https://n8n.io/blog/automatically-pulling-and-visualizing-data-with-n8n/",
                "icon": "üìà",
                "label": "Automatically pulling and visualizing data with n8n"
              },
              {
                "url": "https://n8n.io/blog/database-monitoring-and-alerting-with-n8n/",
                "icon": "üì°",
                "label": "Database Monitoring and Alerting with n8n"
              },
              {
                "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                "icon": "üßæ",
                "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
              },
              {
                "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                "icon": "store",
                "label": "6 e-commerce workflows to power up your Shopify s"
              },
              {
                "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                "icon": "üîó",
                "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
              },
              {
                "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                "icon": "‚öôÔ∏è",
                "label": "Automate your data processing pipeline in 9 steps"
              },
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "üë•",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                "icon": "‚ö°Ô∏è",
                "label": "5 tasks you can automate with the new Notion API "
              },
              {
                "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                "icon": "üí°",
                "label": "15 Google apps you can combine and automate to increase productivity"
              },
              {
                "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                "icon": " üï∏Ô∏è",
                "label": "How uProc scraped a multi-page website with a low-code workflow"
              },
              {
                "url": "https://n8n.io/blog/building-an-expense-tracking-app-in-10-minutes/",
                "icon": "üì±",
                "label": "Building an expense tracking app in 10 minutes"
              },
              {
                "url": "https://n8n.io/blog/the-ultimate-guide-to-automate-your-video-collaboration-with-whereby-mattermost-and-n8n/",
                "icon": "üìπ",
                "label": "The ultimate guide to automate your video collaboration with Whereby, Mattermost, and n8n"
              },
              {
                "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                "icon": "ü§ñ",
                "label": "5 workflow automations for Mattermost that we love at n8n"
              },
              {
                "url": "https://n8n.io/blog/learn-to-build-powerful-api-endpoints-using-webhooks/",
                "icon": "üß∞",
                "label": "Learn to Build Powerful API Endpoints Using Webhooks"
              },
              {
                "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                "icon": "üìà",
                "label": "How a Membership Development Manager automates his work and investments"
              },
              {
                "url": "https://n8n.io/blog/a-low-code-bitcoin-ticker-built-with-questdb-and-n8n-io/",
                "icon": "üìà",
                "label": "A low-code bitcoin ticker built with QuestDB and n8n.io"
              },
              {
                "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                "icon": "üé°",
                "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
              },
              {
                "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                "icon": "üéñ",
                "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
              },
              {
                "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                "icon": "üõµ",
                "label": "How Goomer automated their operations with over 200 n8n workflows"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.set/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Data Transformation"
            ]
          }
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Modifier les champs"
      },
      "iconData": {
        "icon": "pen",
        "type": "icon"
      },
      "displayName": "Edit Fields (Set)",
      "typeVersion": 3,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 335,
      "icon": "file:spotify.svg",
      "name": "n8n-nodes-base.spotify",
      "codex": {
        "data": {
          "alias": [
            "Music",
            "Song"
          ],
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.spotify/"
              }
            ],
            "credentialDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/credentials/spotify/"
              }
            ]
          },
          "categories": [
            "Miscellaneous"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0"
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Spotify"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiB2aWV3Qm94PSIwIDAgNjYgNjUiPjx1c2UgeGxpbms6aHJlZj0iI2EiIHg9Ii41IiB5PSIuNSIvPjxzeW1ib2wgaWQ9ImEiIG92ZXJmbG93PSJ2aXNpYmxlIj48cGF0aCBmaWxsPSIjMWVkNzYwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSIgZD0iTTMyIDBDMTQuMyAwIDAgMTQuMzM3IDAgMzJjMCAxNy43IDE0LjMzNyAzMiAzMiAzMiAxNy43IDAgMzItMTQuMzM3IDMyLTMyUzQ5LjY2MyAwIDMyIDBtMTQuNjggNDYuMTg0Yy0uNTczLjk1Ni0xLjc5NyAxLjIyMy0yLjc1My42NS03LjUzMi00LjU4OC0xNi45NzUtNS42Mi0yOC4xNC0zLjA5Ny0xLjA3LjIzLTIuMTQtLjQyLTIuMzctMS41cy40Mi0yLjE0IDEuNS0yLjM3YzEyLjE5Ni0yLjggMjIuNjctMS42MDYgMzEuMDgyIDMuNTU2YTIgMiAwIDAgMSAuNjg4IDIuNzUzem0zLjktOC43MTdjLS43MjYgMS4xODUtMi4yNTYgMS41My0zLjQ0Ljg0LTguNjAyLTUuMjc2LTIxLjcxNi02LjgwNS0zMS44ODUtMy43NDctMS4zMzguMzgyLTIuNzE0LS4zNDQtMy4wOTctMS42NDQtLjM4Mi0xLjMzOC4zNDQtMi43MTQgMS42ODItMy4wOTcgMTEuNjIyLTMuNTE3IDI2LjA3NC0xLjgzNSAzNS45NzYgNC4yNDQgMS4xNDcuNjg4IDEuNSAyLjIxNy43NjUgMy40MDN6bS4zNDQtOS4xYy0xMC4zMjMtNi4xMTctMjcuMzM2LTYuNy0zNy4yLTMuNzA4LTEuNTY4LjQ5Ny0zLjI1LS40Mi0zLjc0Ny0xLjk4OHMuNDItMy4yNSAxLjk4OC0zLjc0N2MxMS4zMTctMy40NCAzMC4xMjctMi43NTMgNDEuOTggNC4yODIgMS40MTUuODQgMS44NzMgMi42NzYgMS4wMzIgNC4xLS43NjUgMS40NTMtMi42MzggMS45MTItNC4wNTMgMS4wN3oiLz48L3N5bWJvbD48L3N2Zz4="
      },
      "displayName": "Spotify",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 11,
          "name": "Miscellaneous"
        }
      ]
    },
    {
      "id": 565,
      "icon": "fa:sticky-note",
      "name": "n8n-nodes-base.stickyNote",
      "codex": {
        "data": {
          "alias": [
            "Comments",
            "Notes",
            "Sticky"
          ],
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Note autocollante",
        "color": "#FFD233"
      },
      "iconData": {
        "icon": "sticky-note",
        "type": "icon"
      },
      "displayName": "Sticky Note",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 834,
      "icon": "file:code.svg",
      "name": "n8n-nodes-base.code",
      "codex": {
        "data": {
          "alias": [
            "cpde",
            "Javascript",
            "JS",
            "Python",
            "Script",
            "Custom Code",
            "Function"
          ],
          "details": "The Code node allows you to execute JavaScript in your workflow.",
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.code/"
              }
            ]
          },
          "categories": [
            "Development",
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers",
              "Data Transformation"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Code"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xMTcxXzQ0MSkiPgo8cGF0aCBkPSJNMTcwLjI4MyA0OEgxOTYuNUMyMDMuMTI3IDQ4IDIwOC41IDQyLjYyNzQgMjA4LjUgMzZWMTJDMjA4LjUgNS4zNzI1OCAyMDMuMTI3IDAgMTk2LjUgMEgxNzAuMjgzQzEyNi4xIDAgOTAuMjgzIDM1LjgxNzIgOTAuMjgzIDgwVjE3NkM5MC4yODMgMjA2LjkyOCA2NS4yMTA5IDIzMiAzNC4yODMgMjMySDIzQzE2LjM3MjYgMjMyIDExIDIzNy4zNzIgMTEgMjQ0VjI2OEMxMSAyNzQuNjI3IDE2LjM3MjQgMjgwIDIyLjk5OTYgMjgwTDM0LjI4MyAyODBDNjUuMjEwOSAyODAgOTAuMjgzIDMwNS4wNzIgOTAuMjgzIDMzNlY0NDBDOTAuMjgzIDQ3OS43NjQgMTIyLjUxOCA1MTIgMTYyLjI4MyA1MTJIMTk2LjVDMjAzLjEyNyA1MTIgMjA4LjUgNTA2LjYyNyAyMDguNSA1MDBWNDc2QzIwOC41IDQ2OS4zNzMgMjAzLjEyNyA0NjQgMTk2LjUgNDY0SDE2Mi4yODNDMTQ5LjAyOCA0NjQgMTM4LjI4MyA0NTMuMjU1IDEzOC4yODMgNDQwVjMzNkMxMzguMjgzIDMwOS4wMjIgMTI4LjAxMSAyODQuNDQzIDExMS4xNjQgMjY1Ljk2MUMxMDYuMTA5IDI2MC40MTYgMTA2LjEwOSAyNTEuNTg0IDExMS4xNjQgMjQ2LjAzOUMxMjguMDExIDIyNy41NTcgMTM4LjI4MyAyMDIuOTc4IDEzOC4yODMgMTc2VjgwQzEzOC4yODMgNjIuMzI2OSAxNTIuNjEgNDggMTcwLjI4MyA0OFoiIGZpbGw9IiNGRjk5MjIiLz4KPHBhdGggZD0iTTMwNSAzNkMzMDUgNDIuNjI3NCAzMTAuMzczIDQ4IDMxNyA0OEgzNDIuOTc5QzM2MC42NTIgNDggMzc0Ljk3OCA2Mi4zMjY5IDM3NC45NzggODBWMTc2QzM3NC45NzggMjAyLjk3OCAzODUuMjUxIDIyNy41NTcgNDAyLjA5OCAyNDYuMDM5QzQwNy4xNTMgMjUxLjU4NCA0MDcuMTUzIDI2MC40MTYgNDAyLjA5OCAyNjUuOTYxQzM4NS4yNTEgMjg0LjQ0MyAzNzQuOTc4IDMwOS4wMjIgMzc0Ljk3OCAzMzZWNDMyQzM3NC45NzggNDQ5LjY3MyAzNjAuNjUyIDQ2NCAzNDIuOTc5IDQ2NEgzMTdDMzEwLjM3MyA0NjQgMzA1IDQ2OS4zNzMgMzA1IDQ3NlY1MDBDMzA1IDUwNi42MjcgMzEwLjM3MyA1MTIgMzE3IDUxMkgzNDIuOTc5QzM4Ny4xNjEgNTEyIDQyMi45NzggNDc2LjE4MyA0MjIuOTc4IDQzMlYzMzZDNDIyLjk3OCAzMDUuMDcyIDQ0OC4wNTEgMjgwIDQ3OC45NzkgMjgwSDQ5MEM0OTYuNjI3IDI4MCA1MDIgMjc0LjYyOCA1MDIgMjY4VjI0NEM1MDIgMjM3LjM3MyA0OTYuNjI4IDIzMiA0OTAgMjMyTDQ3OC45NzkgMjMyQzQ0OC4wNTEgMjMyIDQyMi45NzggMjA2LjkyOCA0MjIuOTc4IDE3NlY4MEM0MjIuOTc4IDM1LjgxNzIgMzg3LjE2MSAwIDM0Mi45NzkgMEgzMTdDMzEwLjM3MyAwIDMwNSA1LjM3MjU4IDMwNSAxMlYzNloiIGZpbGw9IiNGRjk5MjIiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xMTcxXzQ0MSI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="
      },
      "displayName": "Code",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 5,
          "name": "Development"
        },
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 837,
      "icon": "fa:sign-out-alt",
      "name": "n8n-nodes-base.executeWorkflowTrigger",
      "codex": {
        "data": {
          "resources": {
            "generic": [],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.executeworkflowtrigger/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"trigger\"]",
      "defaults": {
        "name": "Lorsqu'il est ex√©cut√© par un autre flux de travail",
        "color": "#ff6d5a"
      },
      "iconData": {
        "icon": "sign-out-alt",
        "type": "icon"
      },
      "displayName": "Execute Workflow Trigger",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 1119,
      "icon": "fa:robot",
      "name": "@n8n/n8n-nodes-langchain.agent",
      "codex": {
        "data": {
          "alias": [
            "LangChain",
            "Chat",
            "Conversational",
            "Plan and Execute",
            "ReAct",
            "Tools"
          ],
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Agents",
              "Root Nodes"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Agent IA",
        "color": "#404040"
      },
      "iconData": {
        "icon": "robot",
        "type": "icon"
      },
      "displayName": "AI Agent",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    },
    {
      "id": 1123,
      "icon": "fa:link",
      "name": "@n8n/n8n-nodes-langchain.chainLlm",
      "codex": {
        "data": {
          "alias": [
            "LangChain"
          ],
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.chainllm/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Chains",
              "Root Nodes"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Cha√Æne LLM de base",
        "color": "#909298"
      },
      "iconData": {
        "icon": "link",
        "type": "icon"
      },
      "displayName": "Basic LLM Chain",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    },
    {
      "id": 1153,
      "icon": "file:openAiLight.svg",
      "name": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "codex": {
        "data": {
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.lmchatopenai/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Language Models",
              "Root Nodes"
            ],
            "Language Models": [
              "Chat Models (Recommended)"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Mod√®le de chat OpenAI"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTM2Ljg2NzEgMTYuMzcxOEMzNy43NzQ2IDEzLjY0OCAzNy40NjIxIDEwLjY2NDIgMzYuMDEwOCA4LjE4NjYxQzMzLjgyODIgNC4zODY1MyAyOS40NDA3IDIuNDMxNDkgMjUuMTU1NiAzLjM1MTUxQzIzLjI0OTMgMS4yMDM5NiAyMC41MTA1IC0wLjAxNzMxNDggMTcuNjM5MiAwLjAwMDE4NTUzM0MxMy4yNTkxIC0wLjAwOTgxNDY4IDkuMzcyNzMgMi44MTAyNSA4LjAyNTIgNi45Nzc4M0M1LjIxMTM5IDcuNTU0MSAyLjc4MjU4IDkuMzE1MzggMS4zNjEzIDExLjgxMTdDLTAuODM3NDkzIDE1LjYwMTggLTAuMzM2MjMyIDIwLjM3OTQgMi42MDEzMyAyMy42Mjk0QzEuNjkzODEgMjYuMzUzMiAyLjAwNjMyIDI5LjMzNzEgMy40NTc2IDMxLjgxNDZDNS42NDAxNSAzNS42MTQ3IDEwLjAyNzcgMzcuNTY5NyAxNC4zMTI4IDM2LjY0OTdDMTYuMjE3OSAzOC43OTczIDE4Ljk1NzkgNDAuMDE4NSAyMS44MjkyIDM5Ljk5OThDMjYuMjExOCA0MC4wMTEgMzAuMDk5NCAzNy4xODg1IDMxLjQ0NjkgMzMuMDE3MUMzNC4yNjA4IDMyLjQ0MDkgMzYuNjg5NiAzMC42Nzk2IDM4LjExMDggMjguMTgzM0M0MC4zMDcxIDI0LjM5MzIgMzkuODA0NiAxOS42MTk0IDM2Ljg2ODMgMTYuMzY5M0wzNi44NjcxIDE2LjM3MThaTTIxLjgzMTcgMzcuMzg2QzIwLjA3OCAzNy4zODg1IDE4LjM3OTIgMzYuNzc0NyAxNy4wMzI5IDM1LjY1MDlDMTcuMDk0MSAzNS42MTg0IDE3LjIwMDQgMzUuNTU5NyAxNy4yNjkxIDM1LjUxNzJMMjUuMjM0MyAzMC45MTcxQzI1LjY0MTggMzAuNjg1OCAyNS44OTE4IDMwLjI1MjEgMjUuODg5MyAyOS43ODMzVjE4LjU1NDNMMjkuMjU1NyAyMC40OTgxQzI5LjI5MTkgMjAuNTE1NiAyOS4zMTU3IDIwLjU1MDYgMjkuMzIwNyAyMC41OTA2VjI5Ljg4OTZDMjkuMzE1NyAzNC4wMjQ3IDI1Ljk2NjggMzcuMzc3MiAyMS44MzE3IDM3LjM4NlpNNS43MjY0IDMwLjUwNzFDNC44NDc2MyAyOC45ODk2IDQuNTMxMzcgMjcuMjEwOCA0LjgzMjYzIDI1LjQ4NDVDNC44OTEzOCAyNS41MTk1IDQuOTk1MTMgMjUuNTgzMiA1LjA2ODg4IDI1LjYyNTdMMTMuMDM0MSAzMC4yMjU4QzEzLjQzNzggMzAuNDYyMSAxMy45Mzc4IDMwLjQ2MjEgMTQuMzQyOCAzMC4yMjU4TDI0LjA2NjggMjQuNjEwN1YyOC40OTgzQzI0LjA2OTMgMjguNTM4MyAyNC4wNTA1IDI4LjU3NyAyNC4wMTkzIDI4LjYwMkwxNS45Njc5IDMzLjI1MDlDMTIuMzgxNSAzNS4zMTU5IDcuODAxNDQgMzQuMDg4NCA1LjcyNzY1IDMwLjUwNzFINS43MjY0Wk0zLjYzMDEgMTMuMTIwNUM0LjUwNTEyIDExLjYwMDQgNS44ODY0IDEwLjQzNzkgNy41MzE0NCA5LjgzNDE1QzcuNTMxNDQgOS45MDI5IDcuNTI3NjkgMTAuMDI0MiA3LjUyNzY5IDEwLjEwOTJWMTkuMzEwNkM3LjUyNTE5IDE5Ljc3ODEgNy43NzUxOSAyMC4yMTE5IDguMTgxNDUgMjAuNDQzMUwxNy45MDU0IDI2LjA1N0wxNC41MzkxIDI4LjAwMDhDMTQuNTA1MyAyOC4wMjMzIDE0LjQ2MjggMjguMDI3IDE0LjQyNTMgMjguMDEwOEw2LjM3MjY2IDIzLjM1ODJDMi43OTM4MyAyMS4yODU2IDEuNTY2MzEgMTYuNzA2OCAzLjYyODg1IDEzLjEyMTdMMy42MzAxIDEzLjEyMDVaTTMxLjI4ODIgMTkuNTU2OUwyMS41NjQyIDEzLjk0MTdMMjQuOTMwNiAxMS45OTkyQzI0Ljk2NDMgMTEuOTc2NyAyNS4wMDY4IDExLjk3MjkgMjUuMDQ0MyAxMS45ODkyTDMzLjA5NyAxNi42MzhDMzYuNjgyMSAxOC43MDkzIDM3LjkxMDggMjMuMjk1NyAzNS44Mzk1IDI2Ljg4MDhDMzQuOTYzMyAyOC4zOTgzIDMzLjU4MzIgMjkuNTYwOCAzMS45Mzk1IDMwLjE2NThWMjAuNjg5NEMzMS45NDMyIDIwLjIyMTkgMzEuNjk0NSAxOS43ODk0IDMxLjI4OTQgMTkuNTU2OUgzMS4yODgyWk0zNC42MzgzIDE0LjUxNDJDMzQuNTc5NSAxNC40NzggMzQuNDc1OCAxNC40MTU1IDM0LjQwMiAxNC4zNzNMMjYuNDM2OCA5Ljc3Mjg5QzI2LjAzMzEgOS41MzY2NCAyNS41MzMxIDkuNTM2NjQgMjUuMTI4MSA5Ljc3Mjg5TDE1LjQwNDEgMTUuMzg4VjExLjUwMDRDMTUuNDAxNiAxMS40NjA0IDE1LjQyMDQgMTEuNDIxNyAxNS40NTE2IDExLjM5NjdMMjMuNTAzIDYuNzUxNThDMjcuMDg5NCA0LjY4Mjc5IDMxLjY3NDUgNS45MTQwNiAzMy43NDIgOS41MDE2NEMzNC42MTU4IDExLjAxNjcgMzQuOTMyIDEyLjc5MDUgMzQuNjM1OCAxNC41MTQySDM0LjYzODNaTTEzLjU3NDEgMjEuNDQzMUwxMC4yMDY1IDE5LjQ5OTRDMTAuMTcwMiAxOS40ODE5IDEwLjE0NjUgMTkuNDQ2OCAxMC4xNDE1IDE5LjQwNjhWMTAuMTA3OUMxMC4xNDQgNS45Njc4MSAxMy41MDI4IDIuNjEyNzQgMTcuNjQyOSAyLjYxNTI0QzE5LjM5NDIgMi42MTUyNCAyMS4wODkyIDMuMjMwMjUgMjIuNDM1NSA0LjM1MDI4QzIyLjM3NDMgNC4zODI3OCAyMi4yNjkzIDQuNDQxNTMgMjIuMTk5MiA0LjQ4NDAzTDE0LjIzNDEgOS4wODQxM0MxMy44MjY2IDkuMzE1MzggMTMuNTc2NiA5Ljc0Nzg5IDEzLjU3OTEgMTAuMjE2N0wxMy41NzQxIDIxLjQ0MDZWMjEuNDQzMVpNMTUuNDAyOSAxNy41MDA2TDE5LjczNDIgMTQuOTk5M0wyNC4wNjU1IDE3LjQ5OTNWMjIuNTAwN0wxOS43MzQyIDI1LjAwMDdMMTUuNDAyOSAyMi41MDA3VjE3LjUwMDZaIiBmaWxsPSIjN0Q3RDg3Ii8+Cjwvc3ZnPgo="
      },
      "displayName": "OpenAI Chat Model",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    },
    {
      "id": 1163,
      "icon": "fa:database",
      "name": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "codex": {
        "data": {
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.memorybufferwindow/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Memory"
            ],
            "Memory": [
              "For beginners"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "M√©moire simple"
      },
      "iconData": {
        "icon": "database",
        "type": "icon"
      },
      "displayName": "Simple Memory",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    },
    {
      "id": 1179,
      "icon": "fa:code",
      "name": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "codex": {
        "data": {
          "alias": [
            "json",
            "zod"
          ],
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.outputparserstructured/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Output Parsers"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Analyseur de sortie structur√©"
      },
      "iconData": {
        "icon": "code",
        "type": "icon"
      },
      "displayName": "Structured Output Parser",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    },
    {
      "id": 1205,
      "icon": "fa:network-wired",
      "name": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "codex": {
        "data": {
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.toolworkflow/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Tools"
            ],
            "Tools": [
              "Recommended Tools"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Appeler l'outil de flux de travail n8n"
      },
      "iconData": {
        "icon": "network-wired",
        "type": "icon"
      },
      "displayName": "Call n8n Workflow Tool",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    },
    {
      "id": 1239,
      "icon": "file:splitOut.svg",
      "name": "n8n-nodes-base.splitOut",
      "codex": {
        "data": {
          "alias": [
            "Split",
            "Nested",
            "Transform",
            "Array",
            "List",
            "Item"
          ],
          "details": "",
          "resources": {
            "generic": [],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.splitout/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Data Transformation"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "S√©parer"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSJub25lIj48ZyBmaWxsPSIjOUI2REQ1IiBjbGlwLXBhdGg9InVybCgjYSkiPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQ4MCAxNDhjMC02LjYyNy01LjM3My0xMi0xMi0xMkgzMjJjLTYuNjI3IDAtMTIgNS4zNzMtMTIgMTJ2MjRjMCA2LjYyNyA1LjM3MyAxMiAxMiAxMmgxNDZjNi42MjcgMCAxMi01LjM3MyAxMi0xMnptMCA5NmMwLTYuNjI3LTUuMzczLTEyLTEyLTEySDMyMmMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnYyNGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDE0NmM2LjYyNyAwIDEyLTUuMzczIDEyLTEyem0wIDk2YzAtNi42MjctNS4zNzMtMTItMTItMTJIMzIyYy02LjYyNyAwLTEyIDUuMzczLTEyIDEydjI0YzAgNi42MjcgNS4zNzMgMTIgMTIgMTJoMTQ2YzYuNjI3IDAgMTItNS4zNzMgMTItMTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBkPSJNNDM4IDc2YzAgNi42MjctNS4zNzMgMTItMTIgMTJIMzA5Ljc4M2MtMTcuNjczIDAtMzIgMTQuMzI3LTMyIDMydjU2YzAgMjYuOTc4LTEwLjI3MiA1MS41NTctMjcuMTE5IDcwLjAzOS01LjA1NSA1LjU0NS01LjA1NSAxNC4zNzcgMCAxOS45MjIgMTYuODQ3IDE4LjQ4MiAyNy4xMTkgNDMuMDYxIDI3LjExOSA3MC4wMzl2NTZjMCAxNy42NzMgMTQuMzI3IDMyIDMyIDMySDQyNmM2LjYyNyAwIDEyIDUuMzczIDEyIDEydjI0YzAgNi42MjctNS4zNzMgMTItMTIgMTJIMzA5Ljc4M2MtNDQuMTgzIDAtODAtMzUuODE3LTgwLTgwdi01NmMwLTMwLjkyOC0yNS4wNzItNTYtNTYtNTZhNS43ODMgNS43ODMgMCAwIDEtNS43ODMtNS43ODN2LTM2LjQzNGE1Ljc4MyA1Ljc4MyAwIDAgMSA1Ljc4My01Ljc4M2MzMC45MjggMCA1Ni0yNS4wNzIgNTYtNTZ2LTU2YzAtNDQuMTgzIDM1LjgxNy04MCA4MC04MEg0MjZjNi42MjcgMCAxMiA1LjM3MyAxMiAxMnoiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMzYgMjQ0YzAtNi42MjctNS4zNzMtMTItMTItMTJIMTJjLTYuNjI3IDAtMTIgNS4zNzMtMTIgMTJ2MjRjMCA2LjYyNyA1LjM3MyAxMiAxMiAxMmgxMTJjNi42MjcgMCAxMi01LjM3MyAxMi0xMnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImEiPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik01MTIgMEgwdjUxMmg1MTJ6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+"
      },
      "displayName": "Split Out",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 1247,
      "icon": "fa:comments",
      "name": "@n8n/n8n-nodes-langchain.chatTrigger",
      "codex": {
        "data": {
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-langchain.chattrigger/"
              }
            ]
          },
          "categories": [
            "Core Nodes",
            "Langchain"
          ]
        }
      },
      "group": "[\"trigger\"]",
      "defaults": {
        "name": "Lorsqu'un message de chat est re√ßu"
      },
      "iconData": {
        "icon": "comments",
        "type": "icon"
      },
      "displayName": "Chat Trigger",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    }
  ],
  "categories": [
    {
      "id": 43,
      "name": "Productivit√© personnelle"
    },
    {
      "id": 47,
      "name": "Chatbot IA"
    }
  ],
  "image": []
}