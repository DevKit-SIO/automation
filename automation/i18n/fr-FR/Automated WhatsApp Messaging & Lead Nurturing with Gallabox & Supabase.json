{
  "id": 7064,
  "name": "Messagerie WhatsApp automatis√©e et nurturing de leads avec Gallabox et Supabase",
  "totalViews": 62,
  "purchaseUrl": null,
  "user": {
    "name": "Rahi",
    "username": "rahiuppal",
    "bio": "AI and Automation Consultant with over 1000 hours of experience building, deploying, and solving marketing and sales automation problems. I ship AI products faster by combining business acumen with AI & automation expertise and an engineering mindset. Connect with me on LinkedIn to chat.",
    "verified": true,
    "links": [
      "https://www.linkedin.com/in/rahiuppal/"
    ],
    "avatar": "https://gravatar.com/avatar/ac716943a624438237d95c69023330179544ac7496f8fefb43341c8d119098b6?r=pg&d=retro&size=200"
  },
  "description": "Documentation du flux de messages WABA\nCe document d√©crit le flux de travail automatis√© pour l'envoi de messages WhatsApp aux contacts, d√©clench√© toutes les heures et g√©r√© par la logique de disposition et de comptage des messages. Le flux de travail est con√ßu pour garantir que les contacts re√ßoivent des messages en fonction de leur statut et de la fr√©quence des interactions pr√©c√©dentes.\n\n1. D√©clenchement et r√©cup√©ration de donn√©es\nLe parcours commence par un d√©clencheur bas√© sur le temps et la r√©cup√©ration de donn√©es √† partir de la table des contacts Supabase.\nD√©clencheur : Un n≈ìud \"Schedule Trigger3\" initie le flux de travail chaque heure. Cela garantit que le syst√®me v√©rifie r√©guli√®rement les contacts n√©cessitant des messages.\nObtenir des contacts : Le n≈ìud \"Get many rows1\" (Supabase) r√©cup√®re ensuite toutes les donn√©es de contact pertinentes √† partir de la table contacts_ampere dans Supabase. Cela apporte des d√©tails de contact tels que le nom, le t√©l√©phone, la disposition, le comptage et le dernier_message_envoy√©.\n\n2. S√©gr√©gation bas√©e sur la disposition\nApr√®s avoir r√©cup√©r√© les contacts, le flux de travail les segmente en fonction de leur statut de disposition.\nInterrupteur de disposition : Le n≈ìud \"Disposition Switch\" agit comme le m√©canisme de routage principal. Il √©value le champ de disposition de chaque contact et les dirige vers diff√©rentes branches du flux de travail en fonction de cat√©gories pr√©d√©finies.\nCas 0 : new_lead : Les contacts avec la disposition new_lead sont dirig√©s vers le \"Count Switch\" pour un traitement ult√©rieur.\nCas 1-4 : Le flux de travail comprend √©galement des branches pour les dispositions test_ride, Booking, walk_in et Sale, bien que la logique d√©taill√©e pour ces branches ne soit pas enti√®rement expos√©e dans le JSON fourni au-del√† des n≈ìuds de commutation (\"Switch2\", \"Switch3\", \"Switch4\", \"Switch5\"). La documentation se concentre sur le flux d√©taill√© de la disposition new_lead, qui peut √™tre reproduit pour d'autres.\n\n3. Logique de comptage des messages (pour la disposition new_lead)\nPour les contacts identifi√©s comme new_lead, le flux de travail utilise un \"Count Switch\" pour d√©terminer quel message de la s√©quence doit √™tre envoy√©.\nCount Switch : Ce n≈ìud √©value le champ Count pour chaque contact new_lead. Ce Count repr√©sente probablement le nombre de messages d√©j√† envoy√©s au contact dans ce parcours sp√©cifique.\nCount = 0 : Dirige vers \"Loop Over Items1\" (premier message de la s√©quence).\nCount = 1 : Dirige vers \"Loop Over Items2\" (deuxi√®me message de la s√©quence).\nCount = 2 : Dirige vers \"Loop Over Items3\" (troisi√®me message de la s√©quence).\nCount = 3 : Dirige vers \"Loop Over Items4\" (quatri√®me message de la s√©quence).\n\n4. Bouclage et v√©rification d'intervalle\nChaque n≈ìud \"Loop Over Items\" traite les contacts par lots et incorpore une v√©rification \"If Interval\" (sauf pour Loop Over Items1).\nLoop Over Items (par exemple, \"Loop Over Items1\", \"Loop Over Items2\", \"Loop Over Items3\", \"Loop Over Items4\") : Ces n≈ìuds it√®rent √† travers les contacts re√ßus de la sortie du \"Count Switch\".\nLogique d'intervalle :\n\"If Interval\" (pour Count = 1 de \"Loop Over Items2\") : V√©rifie si l'intervalle est sup√©rieur ou √©gal √† 4. Cette valeur d'intervalle est g√©r√©e par un travail cron Supabase s√©par√©, qui la met √† jour chaque minute en fonction du temps actuel - dernier temps d'API en heures.\n\"If Interval1\" (pour Count = 2 de \"Loop Over Items3\") : V√©rifie si l'intervalle est exactement de 24 heures.\n\"If2\" (pour Count = 3 de \"Loop Over Items4\") : V√©rifie si l'intervalle est exactement de 24 heures.\n\n5. Envoi de messages WhatsApp\nSi un contact passe la v√©rification d'intervalle (ou imm√©diatement pour Count = 0), un message WhatsApp est envoy√© en utilisant l'API Gallabox.\nN≈ìuds de requ√™te HTTP (par exemple, \"new_lead_0\", \"new_lead_\", \"new_lead_3\", \"new_lead_2\") : Ces n≈ìuds sont responsables de l'envoi des messages WhatsApp r√©els via l'API Gallabox. Ils sont configur√©s avec :\nM√©thode : POST\nURL : https://server.gallabox.com/devapi/messages/whatsapp\nAuthentification : apiKey et apiSecret sont utilis√©s dans les en-t√™tes.\nCorps : Contient channelId, channelType (whatsapp) et destinataire (y compris le nom et le t√©l√©phone).\nContenu du message WhatsApp : Inclut type : \"template\" et templateName (par exemple, testing_rahi, wu_2, testing_rahi_1). Les bodyValues ins√®rent dynamiquement le nom du contact et d'autres d√©tails. Certains messages incluent √©galement des buttonValues pour des r√©ponses rapides (par exemple, \"Montre-moi la brochure\").\n\n6. Journalisation et mise √† jour du statut du contact\nApr√®s l'envoi (ou la tentative d'envoi) d'un message, le flux de travail enregistre l'interaction et met √† jour l'enregistrement du contact.\nCr√©er des journaux (par exemple, \"Create Logs\", \"Create Logs1\", \"Create Logs2\", \"Create Logs3\") : Ces n≈ìuds Supabase enregistrent les d√©tails de la tentative d'envoi de message dans la table logs_nurture_ampere. Cela inclut :\nmessage_id (provenant du corps de r√©ponse de l'API Gallabox)\n t√©l√©phone et nom du contact\ndisposition et mes_count (qui est Count + 1 de la table des contacts)\nlast_sent (timestamp des en-t√™tes de r√©ponse de l'API Gallabox)\nstatus_code et status_message (provenant de la r√©ponse de l'API Gallabox ou d'une erreur).\nCes n≈ìuds sont configur√©s pour \"continueRegularOutput\" en cas d'erreur, ce qui signifie que le flux de travail tentera de continuer m√™me si la journalisation √©choue.\nV√©rification du code d'√©tat (par exemple, \"If StatusCode\", \"If StatusCode 202\", \"If StatusCode 203\", \"If StatusCode 204\") : Imm√©diatement apr√®s avoir tent√© de cr√©er un journal, un n≈ìud \"If\" v√©rifie si le status_code de la tentative d'envoi de message est \"202\" (indiquant l'acceptation par le service de messagerie).\nMise √† jour de la ligne de contact (par exemple, \"Update a row1\", \"Update a row2\", \"Update a row3\", \"Update a row4\") : Si le code d'√©tat est 202, ces n≈ìuds Supabase mettent √† jour la table contacts_ampere pour le contact sp√©cifique.\nLe Count pour le contact est incr√©ment√© de 1 (Count + 1).\nLe champ last_message_sent est mis √† jour avec la date des en-t√™tes de r√©ponse de l'API Gallabox.\nCes n≈ìuds sont √©galement configur√©s pour \"continueRegularOutput\" en cas d'erreur.\nCe flux structur√© garantit que les contacts sont nourris √† travers une s√©quence de messages WhatsApp, chaque interaction √©tant enregistr√©e et le statut du contact mis √† jour pour r√©f√©rence future et poursuite du parcours.\n",
  "createdAt": "2025-08-06T16:15:48.421Z",
  "nodes": [
    {
      "id": 19,
      "icon": "file:httprequest.svg",
      "name": "n8n-nodes-base.httpRequest",
      "codex": {
        "data": {
          "alias": [
            "API",
            "Request",
            "URL",
            "Build",
            "cURL"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                "icon": "‚òÄÔ∏è",
                "label": "2021: The Year to Automate the New You with n8n"
              },
              {
                "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                "icon": "üß¨",
                "label": "Why business process automation with n8n can change your daily life"
              },
              {
                "url": "https://n8n.io/blog/automatically-pulling-and-visualizing-data-with-n8n/",
                "icon": "üìà",
                "label": "Automatically pulling and visualizing data with n8n"
              },
              {
                "url": "https://n8n.io/blog/learn-how-to-automatically-cross-post-your-content-with-n8n/",
                "icon": "‚úçÔ∏è",
                "label": "Learn how to automatically cross-post your content with n8n"
              },
              {
                "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                "icon": "üßæ",
                "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
              },
              {
                "url": "https://n8n.io/blog/running-n8n-on-ships-an-interview-with-maranics/",
                "icon": "üõ≥",
                "label": "Running n8n on ships: An interview with Maranics"
              },
              {
                "url": "https://n8n.io/blog/what-are-apis-how-to-use-them-with-no-code/",
                "icon": " ü™¢",
                "label": "What are APIs and how to use them with no code"
              },
              {
                "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                "icon": "‚ö°Ô∏è",
                "label": "5 tasks you can automate with the new Notion API "
              },
              {
                "url": "https://n8n.io/blog/world-poetry-day-workflow/",
                "icon": "üìú",
                "label": "Celebrating World Poetry Day with a daily poem in Telegram"
              },
              {
                "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                "icon": "üí°",
                "label": "15 Google apps you can combine and automate to increase productivity"
              },
              {
                "url": "https://n8n.io/blog/automate-designs-with-bannerbear-and-n8n/",
                "icon": "üé®",
                "label": "Automate Designs with Bannerbear and n8n"
              },
              {
                "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                "icon": " üï∏Ô∏è",
                "label": "How uProc scraped a multi-page website with a low-code workflow"
              },
              {
                "url": "https://n8n.io/blog/building-an-expense-tracking-app-in-10-minutes/",
                "icon": "üì±",
                "label": "Building an expense tracking app in 10 minutes"
              },
              {
                "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                "icon": "ü§ñ",
                "label": "5 workflow automations for Mattermost that we love at n8n"
              },
              {
                "url": "https://n8n.io/blog/how-to-use-the-http-request-node-the-swiss-army-knife-for-workflow-automation/",
                "icon": "üß∞",
                "label": "How to use the HTTP Request Node - The Swiss Army Knife for Workflow Automation"
              },
              {
                "url": "https://n8n.io/blog/learn-how-to-use-webhooks-with-mattermost-slash-commands/",
                "icon": "ü¶Ñ",
                "label": "Learn how to use webhooks with Mattermost slash commands"
              },
              {
                "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                "icon": "üìà",
                "label": "How a Membership Development Manager automates his work and investments"
              },
              {
                "url": "https://n8n.io/blog/a-low-code-bitcoin-ticker-built-with-questdb-and-n8n-io/",
                "icon": "üìà",
                "label": "A low-code bitcoin ticker built with QuestDB and n8n.io"
              },
              {
                "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                "icon": "üé°",
                "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
              },
              {
                "url": "https://n8n.io/blog/automations-for-activists/",
                "icon": "‚ú®",
                "label": "How Common Knowledge use workflow automation for activism"
              },
              {
                "url": "https://n8n.io/blog/creating-scheduled-text-affirmations-with-n8n/",
                "icon": "ü§ü",
                "label": "Creating scheduled text affirmations with n8n"
              },
              {
                "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                "icon": "üõµ",
                "label": "How Goomer automated their operations with over 200 n8n workflows"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.httprequest/"
              }
            ]
          },
          "categories": [
            "Development",
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"output\"]",
      "defaults": {
        "name": "Requ√™te HTTP",
        "color": "#0004F5"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MCAyMEM0MCA4Ljk1MzE0IDMxLjA0NjkgMCAyMCAwQzguOTUzMTQgMCAwIDguOTUzMTQgMCAyMEMwIDMxLjA0NjkgOC45NTMxNCA0MCAyMCA0MEMzMS4wNDY5IDQwIDQwIDMxLjA0NjkgNDAgMjBaTTIwIDM2Ljk0NThDMTguODg1MiAzNi45NDU4IDE3LjEzNzggMzUuOTY3IDE1LjQ5OTggMzIuNjk4NUMxNC43OTY0IDMxLjI5MTggMTQuMTk2MSAyOS41NDMxIDEzLjc1MjYgMjcuNjg0N0gyNi4xODk4QzI1LjgwNDUgMjkuNTQwMyAyNS4yMDQ0IDMxLjI5MDEgMjQuNTAwMiAzMi42OTg1QzIyLjg2MjIgMzUuOTY3IDIxLjExNDggMzYuOTQ1OCAyMCAzNi45NDU4Wk0xMi45MDY0IDIwQzEyLjkwNjQgMjEuNjA5NyAxMy4wMDg3IDIzLjE2NCAxMy4yMDAzIDI0LjYzMDVIMjYuNzk5N0MyNi45OTEzIDIzLjE2NCAyNy4wOTM2IDIxLjYwOTcgMjcuMDkzNiAyMEMyNy4wOTM2IDE4LjM5MDMgMjYuOTkxMyAxNi44MzYgMjYuNzk5NyAxNS4zNjk1SDEzLjIwMDNDMTMuMDA4NyAxNi44MzYgMTIuOTA2NCAxOC4zOTAzIDEyLjkwNjQgMjBaTTIwIDMuMDU0MTlDMjEuMTE0OSAzLjA1NDE5IDIyLjg2MjIgNC4wMzA3OCAyNC41MDAxIDcuMzAwMzlDMjUuMjA2NiA4LjcxNDA4IDI1LjgwNzIgMTAuNDA2NyAyNi4xOTIgMTIuMzE1M0gxMy43NTAxQzE0LjE5MzMgMTAuNDA0NyAxNC43OTQyIDguNzEyNTQgMTUuNDk5OCA3LjMwMDY0QzE3LjEzNzcgNC4wMzA4MyAxOC44ODUxIDMuMDU0MTkgMjAgMy4wNTQxOVpNMzAuMTQ3OCAyMEMzMC4xNDc4IDE4LjQwOTkgMzAuMDU0MyAxNi44NjE3IDI5LjgyMjcgMTUuMzY5NUgzNi4zMDQyQzM2LjcyNTIgMTYuODQyIDM2Ljk0NTggMTguMzk2NCAzNi45NDU4IDIwQzM2Ljk0NTggMjEuNjAzNiAzNi43MjUyIDIzLjE1OCAzNi4zMDQyIDI0LjYzMDVIMjkuODIyN0MzMC4wNTQzIDIzLjEzODMgMzAuMTQ3OCAyMS41OTAxIDMwLjE0NzggMjBaTTI2LjI3NjcgNC4yNTUxMkMyNy42MzY1IDYuMzYwMTkgMjguNzExIDkuMTMyIDI5LjM3NzQgMTIuMzE1M0gzNS4xMDQ2QzMzLjI1MTEgOC42NjggMzAuMTA3IDUuNzgzNDYgMjYuMjc2NyA0LjI1NTEyWk0xMC42MjI2IDEyLjMxNTNINC44OTI5M0M2Ljc1MTQ3IDguNjY3ODQgOS44OTM1MSA1Ljc4MzQxIDEzLjcyMzIgNC4yNTUxM0MxMi4zNjM1IDYuMzYwMjEgMTEuMjg5IDkuMTMyMDEgMTAuNjIyNiAxMi4zMTUzWk0zLjA1NDE5IDIwQzMuMDU0MTkgMjEuNjAzIDMuMjc3NDMgMjMuMTU3NSAzLjY5NDg0IDI0LjYzMDVIMTAuMTIxN0M5Ljk0NjE5IDIzLjE0MiA5Ljg1MjIyIDIxLjU5NDMgOS44NTIyMiAyMEM5Ljg1MjIyIDE4LjQwNTcgOS45NDYxOSAxNi44NTggMTAuMTIxNyAxNS4zNjk1SDMuNjk0ODRDMy4yNzc0MyAxNi44NDI1IDMuMDU0MTkgMTguMzk3IDMuMDU0MTkgMjBaTTI2LjI3NjYgMzUuNzQyN0MyNy42MzY1IDMzLjYzOTMgMjguNzExIDMwLjg2OCAyOS4zNzc0IDI3LjY4NDdIMzUuMTA0NkMzMy4yNTEgMzEuMzMyMiAzMC4xMDY4IDM0LjIxNzkgMjYuMjc2NiAzNS43NDI3Wk0xMy43MjM0IDM1Ljc0MjdDOS44OTM2OSAzNC4yMTc5IDYuNzUxNTUgMzEuMzMyNCA0Ljg5MjkzIDI3LjY4NDdIMTAuNjIyNkMxMS4yODkgMzAuODY4IDEyLjM2MzUgMzMuNjM5MyAxMy43MjM0IDM1Ljc0MjdaIiBmaWxsPSIjM0E0MkU5Ii8+Cjwvc3ZnPgo="
      },
      "displayName": "HTTP Request",
      "typeVersion": 4,
      "nodeCategories": [
        {
          "id": 5,
          "name": "Development"
        },
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 20,
      "icon": "fa:map-signs",
      "name": "n8n-nodes-base.if",
      "codex": {
        "data": {
          "alias": [
            "Router",
            "Filter",
            "Condition",
            "Logic",
            "Boolean",
            "Branch"
          ],
          "details": "The IF node can be used to implement binary conditional logic in your workflow. You can set up one-to-many conditions to evaluate each item of data being inputted into the node. That data will either evaluate to TRUE or FALSE and route out of the node accordingly.\n\nThis node has multiple types of conditions: Bool, String, Number, and Date & Time.",
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                "icon": "üè≠",
                "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
              },
              {
                "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                "icon": "‚òÄÔ∏è",
                "label": "2021: The Year to Automate the New You with n8n"
              },
              {
                "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                "icon": "üß¨",
                "label": "Why business process automation with n8n can change your daily life"
              },
              {
                "url": "https://n8n.io/blog/create-a-toxic-language-detector-for-telegram/",
                "icon": "ü§¨",
                "label": "Create a toxic language detector for Telegram in 4 step"
              },
              {
                "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                "icon": "store",
                "label": "6 e-commerce workflows to power up your Shopify s"
              },
              {
                "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                "icon": "üîó",
                "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
              },
              {
                "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                "icon": "‚öôÔ∏è",
                "label": "Automate your data processing pipeline in 9 steps"
              },
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "üë•",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                "icon": "‚ö°Ô∏è",
                "label": "5 tasks you can automate with the new Notion API "
              },
              {
                "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                "icon": "üí°",
                "label": "15 Google apps you can combine and automate to increase productivity"
              },
              {
                "url": "https://n8n.io/blog/automation-for-maintainers-of-open-source-projects/",
                "icon": "üè∑Ô∏è",
                "label": "How to automatically manage contributions to open-source projects"
              },
              {
                "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                "icon": " üï∏Ô∏è",
                "label": "How uProc scraped a multi-page website with a low-code workflow"
              },
              {
                "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                "icon": "ü§ñ",
                "label": "5 workflow automations for Mattermost that we love at n8n"
              },
              {
                "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                "icon": "üß†",
                "label": "Why this Product Manager loves workflow automation with n8n"
              },
              {
                "url": "https://n8n.io/blog/sending-automated-congratulations-with-google-sheets-twilio-and-n8n/",
                "icon": "üôå",
                "label": "Sending Automated Congratulations with Google Sheets, Twilio, and n8n "
              },
              {
                "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                "icon": "üé°",
                "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
              },
              {
                "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                "icon": "üéñ",
                "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.if/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Flow"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Si",
        "color": "#408000"
      },
      "iconData": {
        "icon": "map-signs",
        "type": "icon"
      },
      "displayName": "If",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 39,
      "icon": "fa:sync",
      "name": "n8n-nodes-base.splitInBatches",
      "codex": {
        "data": {
          "alias": [
            "Loop",
            "Concatenate",
            "Batch",
            "Split",
            "Split In Batches"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                "icon": " üï∏Ô∏è",
                "label": "How uProc scraped a multi-page website with a low-code workflow"
              },
              {
                "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                "icon": "üéñ",
                "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.splitinbatches/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Flow"
            ]
          }
        }
      },
      "group": "[\"organization\"]",
      "defaults": {
        "name": "Boucle sur les √©l√©ments",
        "color": "#007755"
      },
      "iconData": {
        "icon": "sync",
        "type": "icon"
      },
      "displayName": "Loop Over Items (Split in Batches)",
      "typeVersion": 3,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 112,
      "icon": "fa:map-signs",
      "name": "n8n-nodes-base.switch",
      "codex": {
        "data": {
          "alias": [
            "Router",
            "If",
            "Path",
            "Filter",
            "Condition",
            "Logic",
            "Branch",
            "Case"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                "icon": "‚òÄÔ∏è",
                "label": "2021: The Year to Automate the New You with n8n"
              },
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "üë•",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/build-your-own-virtual-assistant-with-n8n-a-step-by-step-guide/",
                "icon": "üë¶",
                "label": "Build your own virtual assistant with n8n: A step by step guide"
              },
              {
                "url": "https://n8n.io/blog/automation-for-maintainers-of-open-source-projects/",
                "icon": "üè∑Ô∏è",
                "label": "How to automatically manage contributions to open-source projects"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.switch/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Flow"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Interrupteur",
        "color": "#506000"
      },
      "iconData": {
        "icon": "map-signs",
        "type": "icon"
      },
      "displayName": "Switch",
      "typeVersion": 3,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 545,
      "icon": "file:supabase.svg",
      "name": "n8n-nodes-base.supabase",
      "codex": {
        "data": {
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.supabase/"
              }
            ],
            "credentialDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/credentials/supabase/"
              }
            ]
          },
          "categories": [
            "Data & Storage"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0"
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Supabase"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDkiIGhlaWdodD0iMTEzIiBmaWxsPSJub25lIj48cGF0aCBmaWxsPSJ1cmwoI2EpIiBkPSJNNjMuNzA4IDExMC4yODRjLTIuODYgMy42MDEtOC42NTggMS42MjgtOC43MjctMi45N2wtMS4wMDctNjcuMjUxaDQ1LjIyYzguMTkgMCAxMi43NTggOS40NiA3LjY2NSAxNS44NzR6Ii8+PHBhdGggZmlsbD0idXJsKCNiKSIgZmlsbC1vcGFjaXR5PSIuMiIgZD0iTTYzLjcwOCAxMTAuMjg0Yy0yLjg2IDMuNjAxLTguNjU4IDEuNjI4LTguNzI3LTIuOTdsLTEuMDA3LTY3LjI1MWg0NS4yMmM4LjE5IDAgMTIuNzU4IDkuNDYgNy42NjUgMTUuODc0eiIvPjxwYXRoIGZpbGw9IiMzRUNGOEUiIGQ9Ik00NS4zMTcgMi4wNzFjMi44Ni0zLjYwMSA4LjY1Ny0xLjYyOCA4LjcyNiAyLjk3bC40NDIgNjcuMjUxSDkuODNjLTguMTkgMC0xMi43NTktOS40Ni03LjY2NS0xNS44NzV6Ii8+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iNTMuOTc0IiB4Mj0iOTQuMTYzIiB5MT0iNTQuOTc0IiB5Mj0iNzEuODI5IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agc3RvcC1jb2xvcj0iIzI0OTM2MSIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzNFQ0Y4RSIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iMzYuMTU2IiB4Mj0iNTQuNDg0IiB5MT0iMzAuNTc4IiB5Mj0iNjUuMDgxIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3AvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1vcGFjaXR5PSIwIi8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PC9zdmc+"
      },
      "displayName": "Supabase",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 3,
          "name": "Data & Storage"
        }
      ]
    },
    {
      "id": 565,
      "icon": "fa:sticky-note",
      "name": "n8n-nodes-base.stickyNote",
      "codex": {
        "data": {
          "alias": [
            "Comments",
            "Notes",
            "Sticky"
          ],
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Note autocollante",
        "color": "#FFD233"
      },
      "iconData": {
        "icon": "sticky-note",
        "type": "icon"
      },
      "displayName": "Sticky Note",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 839,
      "icon": "fa:clock",
      "name": "n8n-nodes-base.scheduleTrigger",
      "codex": {
        "data": {
          "alias": [
            "Time",
            "Scheduler",
            "Polling",
            "Cron",
            "Interval"
          ],
          "resources": {
            "generic": [],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.scheduletrigger/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0"
        }
      },
      "group": "[\"trigger\",\"schedule\"]",
      "defaults": {
        "name": "D√©clencheur de calendrier",
        "color": "#31C49F"
      },
      "iconData": {
        "icon": "clock",
        "type": "icon"
      },
      "displayName": "Schedule Trigger",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    }
  ],
  "views": 62,
  "recentViews": 1,
  "workflow": {
    "meta": {
      "instanceId": "807c58b937f3c75f8b242bc4ac5f455a51832cabd7bcdbecd9fdc3ba6179a8c9"
    },
    "nodes": [
      {
        "id": "6ec52292-4a05-46b5-82eb-765560b1dfe7",
        "name": "Get many rows1",
        "type": "n8n-nodes-base.supabase",
        "position": [
          -1080,
          960
        ],
        "parameters": {
          "tableId": "contacts_ampere",
          "operation": "getAll",
          "returnAll": true,
          "filterType": "none"
        },
        "credentials": {
          "supabaseApi": {
            "id": "pZQPqhLMUOZIjUsR",
            "name": "Supabase account"
          }
        },
        "typeVersion": 1,
        "alwaysOutputData": true
      },
      {
        "id": "72553947-b418-4884-9eb6-1b73947892b1",
        "name": "Switch2",
        "type": "n8n-nodes-base.switch",
        "position": [
          -40,
          1160
        ],
        "parameters": {
          "rules": {
            "values": [
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "fa84be36-be05-49c9-9328-7a311b067f1a",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 0
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "630a27f9-82f5-4fdc-90c5-d1f4f5554f8b",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 1
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "b0bc9bf3-1215-4c79-871e-f588c5b22e82",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 2
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "fa57ae02-ba8a-4479-990d-7f622263ad81",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 3
                    }
                  ]
                }
              }
            ]
          },
          "options": {}
        },
        "typeVersion": 3.2
      },
      {
        "id": "e0543edc-b6ba-4067-8b08-59b07e34f566",
        "name": "Switch3",
        "type": "n8n-nodes-base.switch",
        "position": [
          -60,
          1400
        ],
        "parameters": {
          "rules": {
            "values": [
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "fa84be36-be05-49c9-9328-7a311b067f1a",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 0
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "630a27f9-82f5-4fdc-90c5-d1f4f5554f8b",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 1
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "b0bc9bf3-1215-4c79-871e-f588c5b22e82",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 2
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "fa57ae02-ba8a-4479-990d-7f622263ad81",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 3
                    }
                  ]
                }
              }
            ]
          },
          "options": {}
        },
        "typeVersion": 3.2
      },
      {
        "id": "a62b4cdd-8f2e-4b34-95b6-1889be9194bc",
        "name": "Switch4",
        "type": "n8n-nodes-base.switch",
        "position": [
          -40,
          1580
        ],
        "parameters": {
          "rules": {
            "values": [
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "fa84be36-be05-49c9-9328-7a311b067f1a",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 0
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "630a27f9-82f5-4fdc-90c5-d1f4f5554f8b",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 1
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "b0bc9bf3-1215-4c79-871e-f588c5b22e82",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 2
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "fa57ae02-ba8a-4479-990d-7f622263ad81",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 3
                    }
                  ]
                }
              }
            ]
          },
          "options": {}
        },
        "typeVersion": 3.2
      },
      {
        "id": "e47cf7ed-0e09-49a5-8746-14c52185e3d5",
        "name": "Switch5",
        "type": "n8n-nodes-base.switch",
        "position": [
          -60,
          1720
        ],
        "parameters": {
          "rules": {
            "values": [
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "fa84be36-be05-49c9-9328-7a311b067f1a",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 0
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "630a27f9-82f5-4fdc-90c5-d1f4f5554f8b",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 1
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "b0bc9bf3-1215-4c79-871e-f588c5b22e82",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 2
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "fa57ae02-ba8a-4479-990d-7f622263ad81",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 3
                    }
                  ]
                }
              }
            ]
          },
          "options": {}
        },
        "typeVersion": 3.2
      },
      {
        "id": "e692da70-6ab3-47e0-b30f-9579571ac13d",
        "name": "Loop Over Items1",
        "type": "n8n-nodes-base.splitInBatches",
        "position": [
          0,
          0
        ],
        "parameters": {
          "options": {}
        },
        "typeVersion": 3
      },
      {
        "id": "c1f44338-df6e-47b6-896c-00cca3ae83d0",
        "name": "Schedule Trigger3",
        "type": "n8n-nodes-base.scheduleTrigger",
        "position": [
          -1340,
          960
        ],
        "parameters": {
          "rule": {
            "interval": [
              {
                "field": "hours"
              }
            ]
          }
        },
        "typeVersion": 1.2
      },
      {
        "id": "9e664dac-592e-4087-b412-0c6f5a5c247c",
        "name": "Create Logs",
        "type": "n8n-nodes-base.supabase",
        "onError": "continueRegularOutput",
        "position": [
          700,
          20
        ],
        "parameters": {
          "tableId": "logs_nurture_ampere",
          "fieldsUi": {
            "fieldValues": [
              {
                "fieldId": "message_id",
                "fieldValue": "={{ $json.body.id }}"
              },
              {
                "fieldId": "phone",
                "fieldValue": "={{ $('Count Switch').item.json.phone }}"
              },
              {
                "fieldId": "disposition",
                "fieldValue": "={{ $('Count Switch').item.json.Disposition }}"
              },
              {
                "fieldId": "mes_count",
                "fieldValue": "={{ $('Count Switch').item.json.Count + 1}}"
              },
              {
                "fieldId": "last_sent",
                "fieldValue": "={{ $('Count Switch').item.json.last_message_sent }}"
              },
              {
                "fieldId": "status_code",
                "fieldValue": "={{ $json.statusCode }}"
              },
              {
                "fieldId": "status_message",
                "fieldValue": "={{ $json.statusMessage }}"
              },
              {
                "fieldId": "name",
                "fieldValue": "={{ $('Count Switch').item.json.name }}"
              },
              {
                "fieldId": "status_code",
                "fieldValue": "={{ $json.error.status }}"
              },
              {
                "fieldId": "status_message",
                "fieldValue": "={{ $json.error.message }}"
              },
              {
                "fieldId": "status_code",
                "fieldValue": "={{ $json.statusCode }}"
              },
              {
                "fieldId": "status_message",
                "fieldValue": "={{ $json.statusMessage }}"
              }
            ]
          }
        },
        "typeVersion": 1
      },
      {
        "id": "f9bbae85-3938-4421-b7e6-a2b6c3fdfe8b",
        "name": "new_lead_0",
        "type": "n8n-nodes-base.httpRequest",
        "onError": "continueRegularOutput",
        "position": [
          420,
          20
        ],
        "parameters": {
          "url": "https://server.gallabox.com/devapi/messages/whatsapp",
          "method": "POST",
          "options": {
            "response": {
              "response": {
                "fullResponse": true
              }
            }
          },
          "jsonBody": "=\n{\n    \"channelId\": \"\",\n    \"channelType\": \"whatsapp\",\n    \"recipient\": {\n        \"name\": \"{{ $json.name }}\",\n        \"phone\": \"91{{ $json.phone }}\"\n    },\n    \"whatsapp\": {\n        \"type\": \"template\",\n        \"template\": {\n            \"templateName\": \"testing_rahi_1\",\n            \"bodyValues\": {\n                \"Name\": \"{{ $json.name }}\",\n                \"Details\": \"\"\n            },\n            \"buttonValues\": [\n                {\n                    \"index\": 0,\n                    \"sub_type\": \"quick_reply\",\n                    \"parameters\": {\n                        \"type\": \"payload\",\n                        \"payload\": \"Show me Brochure\"\n                    }\n                }\n            ]\n        }\n    }\n}",
          "sendBody": true,
          "jsonHeaders": "write your api key and api secret ",
          "sendHeaders": true,
          "specifyBody": "json",
          "authentication": "genericCredentialType",
          "specifyHeaders": "json",
          "genericAuthType": "httpCustomAuth"
        },
        "typeVersion": 4.1
      },
      {
        "id": "09e6fe06-73d7-4781-8cb2-e295a28b7eeb",
        "name": "Update a row1",
        "type": "n8n-nodes-base.supabase",
        "onError": "continueRegularOutput",
        "position": [
          1140,
          20
        ],
        "parameters": {
          "filters": {
            "conditions": [
              {
                "keyName": "phone",
                "keyValue": "={{ $json.phone }}",
                "condition": "eq"
              }
            ]
          },
          "tableId": "contacts_ampere",
          "fieldsUi": {
            "fieldValues": [
              {
                "fieldId": "Count",
                "fieldValue": "={{ $('Loop Over Items1').item.json.Count + 1}}"
              },
              {
                "fieldId": "last_message_sent",
                "fieldValue": "={{ $('new_lead_0').item.json.headers.date }}"
              }
            ]
          },
          "matchType": "allFilters",
          "operation": "update"
        },
        "typeVersion": 1
      },
      {
        "id": "fd387290-fffb-4230-99c4-05fed3e98db2",
        "name": "Loop Over Items2",
        "type": "n8n-nodes-base.splitInBatches",
        "position": [
          0,
          260
        ],
        "parameters": {
          "options": {}
        },
        "typeVersion": 3
      },
      {
        "id": "ccf4ea81-c12a-4f21-996d-623278916342",
        "name": "Create Logs1",
        "type": "n8n-nodes-base.supabase",
        "onError": "continueRegularOutput",
        "position": [
          640,
          280
        ],
        "parameters": {
          "tableId": "logs_nurture_ampere",
          "fieldsUi": {
            "fieldValues": [
              {
                "fieldId": "message_id",
                "fieldValue": "={{ $json.body.id }}"
              },
              {
                "fieldId": "phone",
                "fieldValue": "={{ $('Count Switch').item.json.phone }}"
              },
              {
                "fieldId": "disposition",
                "fieldValue": "={{ $('Count Switch').item.json.Disposition }}"
              },
              {
                "fieldId": "mes_count",
                "fieldValue": "={{ $('Count Switch').item.json.Count + 1}}"
              },
              {
                "fieldId": "last_sent",
                "fieldValue": "={{ $('Count Switch').item.json.last_message_sent }}"
              },
              {
                "fieldId": "status_code",
                "fieldValue": "={{ $json.statusCode }}"
              },
              {
                "fieldId": "status_message",
                "fieldValue": "={{ $json.statusMessage }}"
              },
              {
                "fieldId": "name",
                "fieldValue": "={{ $('Count Switch').item.json.name }}"
              },
              {
                "fieldId": "status_code",
                "fieldValue": "={{ $json.error.status }}"
              },
              {
                "fieldId": "status_message",
                "fieldValue": "={{ $json.error.message }}"
              },
              {
                "fieldId": "status_code",
                "fieldValue": "={{ $json.statusCode }}"
              },
              {
                "fieldId": "status_message",
                "fieldValue": "={{ $json.statusMessage }}"
              }
            ]
          }
        },
        "typeVersion": 1
      },
      {
        "id": "c6099d73-a727-48b4-a2df-bd07afc590c2",
        "name": "Update a row2",
        "type": "n8n-nodes-base.supabase",
        "onError": "continueRegularOutput",
        "position": [
          1060,
          280
        ],
        "parameters": {
          "filters": {
            "conditions": [
              {
                "keyName": "phone",
                "keyValue": "={{ $json.phone }}",
                "condition": "eq"
              }
            ]
          },
          "tableId": "contacts_ampere",
          "fieldsUi": {
            "fieldValues": [
              {
                "fieldId": "Count",
                "fieldValue": "={{ $('Loop Over Items2').item.json.Count + 1}}"
              },
              {
                "fieldId": "last_message_sent",
                "fieldValue": "={{ $('new_lead_').item.json.headers.date }}"
              }
            ]
          },
          "matchType": "allFilters",
          "operation": "update"
        },
        "typeVersion": 1
      },
      {
        "id": "037e9f03-eb13-4334-b587-812a00c7161a",
        "name": "Loop Over Items3",
        "type": "n8n-nodes-base.splitInBatches",
        "position": [
          20,
          560
        ],
        "parameters": {
          "options": {}
        },
        "typeVersion": 3
      },
      {
        "id": "d75db6e9-ec69-4a2c-b088-98c168126ee4",
        "name": "Create Logs2",
        "type": "n8n-nodes-base.supabase",
        "onError": "continueRegularOutput",
        "position": [
          660,
          560
        ],
        "parameters": {
          "tableId": "logs_nurture_ampere",
          "fieldsUi": {
            "fieldValues": [
              {
                "fieldId": "message_id",
                "fieldValue": "={{ $json.body.id }}"
              },
              {
                "fieldId": "phone",
                "fieldValue": "={{ $('Count Switch').item.json.phone }}"
              },
              {
                "fieldId": "disposition",
                "fieldValue": "={{ $('Count Switch').item.json.Disposition }}"
              },
              {
                "fieldId": "mes_count",
                "fieldValue": "={{ $('Count Switch').item.json.Count + 1}}"
              },
              {
                "fieldId": "last_sent",
                "fieldValue": "={{ $('Count Switch').item.json.last_message_sent }}"
              },
              {
                "fieldId": "status_code",
                "fieldValue": "={{ $json.statusCode }}"
              },
              {
                "fieldId": "status_message",
                "fieldValue": "={{ $json.statusMessage }}"
              },
              {
                "fieldId": "name",
                "fieldValue": "={{ $('Count Switch').item.json.name }}"
              },
              {
                "fieldId": "status_code",
                "fieldValue": "={{ $json.error.status }}"
              },
              {
                "fieldId": "status_message",
                "fieldValue": "={{ $json.error.message }}"
              },
              {
                "fieldId": "status_code",
                "fieldValue": "={{ $json.statusCode }}"
              },
              {
                "fieldId": "status_message",
                "fieldValue": "={{ $json.statusMessage }}"
              }
            ]
          }
        },
        "typeVersion": 1
      },
      {
        "id": "f857408c-ad43-4e26-89a4-5ef6551465c9",
        "name": "Update a row3",
        "type": "n8n-nodes-base.supabase",
        "onError": "continueRegularOutput",
        "position": [
          1080,
          560
        ],
        "parameters": {
          "filters": {
            "conditions": [
              {
                "keyName": "phone",
                "keyValue": "={{ $json.phone }}",
                "condition": "eq"
              }
            ]
          },
          "tableId": "contacts_ampere",
          "fieldsUi": {
            "fieldValues": [
              {
                "fieldId": "Count",
                "fieldValue": "={{ $('Loop Over Items3').item.json.Count + 1}}"
              },
              {
                "fieldId": "last_message_sent",
                "fieldValue": "={{ $('new_lead_3').item.json.headers.date }}"
              }
            ]
          },
          "matchType": "allFilters",
          "operation": "update"
        },
        "typeVersion": 1
      },
      {
        "id": "947a69eb-3ce3-4000-98e7-9a44bef47098",
        "name": "Loop Over Items4",
        "type": "n8n-nodes-base.splitInBatches",
        "position": [
          20,
          800
        ],
        "parameters": {
          "options": {}
        },
        "typeVersion": 3
      },
      {
        "id": "de2a6bd1-9510-41cd-aff0-ba58e62759bb",
        "name": "Create Logs3",
        "type": "n8n-nodes-base.supabase",
        "onError": "continueRegularOutput",
        "position": [
          660,
          820
        ],
        "parameters": {
          "tableId": "logs_nurture_ampere",
          "fieldsUi": {
            "fieldValues": [
              {
                "fieldId": "message_id",
                "fieldValue": "={{ $json.body.id }}"
              },
              {
                "fieldId": "phone",
                "fieldValue": "={{ $('Count Switch').item.json.phone }}"
              },
              {
                "fieldId": "disposition",
                "fieldValue": "={{ $('Count Switch').item.json.Disposition }}"
              },
              {
                "fieldId": "mes_count",
                "fieldValue": "={{ $('Count Switch').item.json.Count + 1}}"
              },
              {
                "fieldId": "last_sent",
                "fieldValue": "={{ $('Count Switch').item.json.last_message_sent }}"
              },
              {
                "fieldId": "status_code",
                "fieldValue": "={{ $json.statusCode }}"
              },
              {
                "fieldId": "status_message",
                "fieldValue": "={{ $json.statusMessage }}"
              },
              {
                "fieldId": "name",
                "fieldValue": "={{ $('Count Switch').item.json.name }}"
              },
              {
                "fieldId": "status_code",
                "fieldValue": "={{ $json.error.status }}"
              },
              {
                "fieldId": "status_message",
                "fieldValue": "={{ $json.error.message }}"
              },
              {
                "fieldId": "status_code",
                "fieldValue": "={{ $json.statusCode }}"
              },
              {
                "fieldId": "status_message",
                "fieldValue": "={{ $json.statusMessage }}"
              }
            ]
          }
        },
        "credentials": {
          "supabaseApi": {
            "id": "pZQPqhLMUOZIjUsR",
            "name": "Supabase account"
          }
        },
        "typeVersion": 1
      },
      {
        "id": "29ee050e-d4f0-4b1a-8e57-3d9d80701114",
        "name": "new_lead_2",
        "type": "n8n-nodes-base.httpRequest",
        "onError": "continueRegularOutput",
        "position": [
          480,
          820
        ],
        "parameters": {
          "url": "https://server.gallabox.com/devapi/messages/whatsapp",
          "method": "POST",
          "options": {
            "response": {
              "response": {
                "fullResponse": true
              }
            }
          },
          "jsonBody": "=\n{\n    \"channelId\": \"\",\n    \"channelType\": \"whatsapp\",\n    \"recipient\": {\n        \"name\": \"{{ $json.name }}\",\n        \"phone\": \"91{{ $json.phone }}\"\n    },\n    \"whatsapp\": {\n        \"type\": \"template\",\n        \"template\": {\n            \"templateName\": \"testing_rahi_1\",\n            \"bodyValues\": {\n                \"Name\": \"{{ $json.name }}\",\n                \"Details\": \"\"\n            },\n            \"buttonValues\": [\n                {\n                    \"index\": 0,\n                    \"sub_type\": \"quick_reply\",\n                    \"parameters\": {\n                        \"type\": \"payload\",\n                        \"payload\": \"Show me Brochure\"\n                    }\n                }\n            ]\n        }\n    }\n}",
          "sendBody": true,
          "jsonHeaders": "api key and secret key",
          "sendHeaders": true,
          "specifyBody": "json",
          "authentication": "genericCredentialType",
          "specifyHeaders": "json",
          "genericAuthType": "httpCustomAuth"
        },
        "typeVersion": 4.1
      },
      {
        "id": "b2468e08-6c41-45e7-808d-7268fec9383c",
        "name": "Update a row4",
        "type": "n8n-nodes-base.supabase",
        "onError": "continueRegularOutput",
        "position": [
          1080,
          820
        ],
        "parameters": {
          "filters": {
            "conditions": [
              {
                "keyName": "phone",
                "keyValue": "={{ $json.phone }}",
                "condition": "eq"
              }
            ]
          },
          "tableId": "contacts_ampere",
          "fieldsUi": {
            "fieldValues": [
              {
                "fieldId": "Count",
                "fieldValue": "={{ $('Loop Over Items4').item.json.Count + 1}}"
              },
              {
                "fieldId": "last_message_sent",
                "fieldValue": "={{ $('new_lead_2').item.json.headers.date }}"
              }
            ]
          },
          "matchType": "allFilters",
          "operation": "update"
        },
        "credentials": {
          "supabaseApi": {
            "id": "pZQPqhLMUOZIjUsR",
            "name": "Supabase account"
          }
        },
        "typeVersion": 1
      },
      {
        "id": "1b0112e4-79c2-439c-a1dd-4c75f74abca7",
        "name": "If StatusCode 202",
        "type": "n8n-nodes-base.if",
        "onError": "continueRegularOutput",
        "position": [
          860,
          280
        ],
        "parameters": {
          "options": {},
          "conditions": {
            "options": {
              "version": 2,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "combinator": "and",
            "conditions": [
              {
                "id": "27a6fdac-1795-408c-92aa-4e452760a6fb",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                },
                "leftValue": "={{ $json.status_code }}",
                "rightValue": "202"
              }
            ]
          }
        },
        "typeVersion": 2.2
      },
      {
        "id": "4b710624-6f6f-4237-a17b-373eb7415a2c",
        "name": "If StatusCode ",
        "type": "n8n-nodes-base.if",
        "onError": "continueRegularOutput",
        "position": [
          900,
          20
        ],
        "parameters": {
          "options": {},
          "conditions": {
            "options": {
              "version": 2,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "combinator": "and",
            "conditions": [
              {
                "id": "27a6fdac-1795-408c-92aa-4e452760a6fb",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                },
                "leftValue": "={{ $json.status_code }}",
                "rightValue": "202"
              }
            ]
          }
        },
        "typeVersion": 2.2
      },
      {
        "id": "e6131966-9dc3-4e51-974f-d6aa37d08f8b",
        "name": "If StatusCode 203",
        "type": "n8n-nodes-base.if",
        "onError": "continueRegularOutput",
        "position": [
          880,
          560
        ],
        "parameters": {
          "options": {},
          "conditions": {
            "options": {
              "version": 2,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "combinator": "and",
            "conditions": [
              {
                "id": "27a6fdac-1795-408c-92aa-4e452760a6fb",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                },
                "leftValue": "={{ $json.status_code }}",
                "rightValue": "202"
              }
            ]
          }
        },
        "typeVersion": 2.2
      },
      {
        "id": "99d7bb37-eae9-4b9d-a79e-589e67e70c7b",
        "name": "If StatusCode 204",
        "type": "n8n-nodes-base.if",
        "onError": "continueRegularOutput",
        "position": [
          880,
          820
        ],
        "parameters": {
          "options": {},
          "conditions": {
            "options": {
              "version": 2,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "combinator": "and",
            "conditions": [
              {
                "id": "27a6fdac-1795-408c-92aa-4e452760a6fb",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                },
                "leftValue": "={{ $json.status_code }}",
                "rightValue": "202"
              }
            ]
          }
        },
        "typeVersion": 2.2
      },
      {
        "id": "1e108abd-0ebd-4f52-bca4-15ad2a4774cb",
        "name": "If Interval",
        "type": "n8n-nodes-base.if",
        "onError": "continueRegularOutput",
        "position": [
          240,
          280
        ],
        "parameters": {
          "options": {},
          "conditions": {
            "options": {
              "version": 2,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "combinator": "and",
            "conditions": [
              {
                "id": "95ba014b-f5e5-4099-b3a2-e11e032a211d",
                "operator": {
                  "type": "number",
                  "operation": "gte"
                },
                "leftValue": "={{ $json.interval }}",
                "rightValue": 0
              }
            ]
          }
        },
        "typeVersion": 2.2
      },
      {
        "id": "be030bf2-f353-4e55-9107-c9c5dee53a73",
        "name": "If Interval1",
        "type": "n8n-nodes-base.if",
        "onError": "continueRegularOutput",
        "position": [
          240,
          580
        ],
        "parameters": {
          "options": {},
          "conditions": {
            "options": {
              "version": 2,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "combinator": "and",
            "conditions": [
              {
                "id": "afddef19-139e-4b73-93d9-1f5b2f6b5fce",
                "operator": {
                  "type": "number",
                  "operation": "equals"
                },
                "leftValue": "={{ $json.interval }}",
                "rightValue": 24
              }
            ]
          }
        },
        "typeVersion": 2.2
      },
      {
        "id": "e369d33b-f9fd-496a-948d-c1a1b5b22145",
        "name": "If2",
        "type": "n8n-nodes-base.if",
        "position": [
          240,
          840
        ],
        "parameters": {
          "options": {},
          "conditions": {
            "options": {
              "version": 2,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "combinator": "and",
            "conditions": [
              {
                "id": "b24fa0b1-90e4-40a0-bf96-665231f0b653",
                "operator": {
                  "type": "number",
                  "operation": "gte"
                },
                "leftValue": "={{ $json.interval }}",
                "rightValue": 24
              }
            ]
          }
        },
        "typeVersion": 2.2
      },
      {
        "id": "db8e9ab0-d329-4255-82d2-18ec5b1319e2",
        "name": "Disposition Switch",
        "type": "n8n-nodes-base.switch",
        "position": [
          -820,
          900
        ],
        "parameters": {
          "rules": {
            "values": [
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "8aa7a00f-b0d2-40f5-a634-bd622a69773b",
                      "operator": {
                        "type": "string",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Disposition }}",
                      "rightValue": "=new_lead"
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "79fda541-c45c-4cc4-b7e0-1a4defac93bf",
                      "operator": {
                        "name": "filter.operator.equals",
                        "type": "string",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Disposition }}",
                      "rightValue": "test_ride"
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "e552fd1c-27e5-460a-a8e2-805cbad62ddf",
                      "operator": {
                        "name": "filter.operator.equals",
                        "type": "string",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Disposition }}",
                      "rightValue": "Booking"
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "fdbafaa7-10bf-477f-a9a0-c35437d24095",
                      "operator": {
                        "name": "filter.operator.equals",
                        "type": "string",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Disposition }}",
                      "rightValue": "walk_in"
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "259f1095-d92f-4b69-a8c1-32db69cfcfe2",
                      "operator": {
                        "name": "filter.operator.equals",
                        "type": "string",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Disposition }}",
                      "rightValue": "Sale"
                    }
                  ]
                }
              }
            ]
          },
          "options": {}
        },
        "typeVersion": 3.2
      },
      {
        "id": "db51db6d-6e18-4939-88a6-52647efb20a7",
        "name": "Count Switch",
        "type": "n8n-nodes-base.switch",
        "position": [
          -300,
          500
        ],
        "parameters": {
          "rules": {
            "values": [
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "fa84be36-be05-49c9-9328-7a311b067f1a",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 0
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "630a27f9-82f5-4fdc-90c5-d1f4f5554f8b",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 1
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "b0bc9bf3-1215-4c79-871e-f588c5b22e82",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 2
                    }
                  ]
                }
              },
              {
                "conditions": {
                  "options": {
                    "version": 2,
                    "leftValue": "",
                    "caseSensitive": true,
                    "typeValidation": "strict"
                  },
                  "combinator": "and",
                  "conditions": [
                    {
                      "id": "fa57ae02-ba8a-4479-990d-7f622263ad81",
                      "operator": {
                        "type": "number",
                        "operation": "equals"
                      },
                      "leftValue": "={{ $json.Count }}",
                      "rightValue": 3
                    }
                  ]
                }
              }
            ]
          },
          "options": {}
        },
        "typeVersion": 3.2
      },
      {
        "id": "25c332c8-5be5-4475-9301-bd748c6326e5",
        "name": "new_lead_",
        "type": "n8n-nodes-base.httpRequest",
        "onError": "continueRegularOutput",
        "position": [
          480,
          280
        ],
        "parameters": {
          "url": "https://server.gallabox.com/devapi/messages/whatsapp",
          "method": "POST",
          "options": {
            "response": {
              "response": {
                "fullResponse": true
              }
            }
          },
          "jsonBody": "=\n{\n    \"channelId\": \"\",\n    \"channelType\": \"whatsapp\",\n    \"recipient\": {\n        \"name\": \"{{ $json.name }}\",\n        \"phone\": \"91{{ $json.phone }}\"\n    },\n    \"whatsapp\": {\n        \"type\": \"template\",\n        \"template\": {\n            \"templateName\": \"testing_rahi_1\",\n            \"bodyValues\": {\n                \"Name\": \"{{ $json.name }}\",\n                \"Details\": \"\"\n            },\n            \"buttonValues\": [\n                {\n                    \"index\": 0,\n                    \"sub_type\": \"quick_reply\",\n                    \"parameters\": {\n                        \"type\": \"payload\",\n                        \"payload\": \"Show me Brochure\"\n                    }\n                }\n            ]\n        }\n    }\n}",
          "sendBody": true,
          "sendHeaders": true,
          "specifyBody": "json",
          "authentication": "genericCredentialType",
          "specifyHeaders": "json",
          "genericAuthType": "httpCustomAuth"
        },
        "typeVersion": 4.1
      },
      {
        "id": "a7bb131a-62cd-434c-9f2f-85ccecfd311c",
        "name": "new_lead_3",
        "type": "n8n-nodes-base.httpRequest",
        "onError": "continueRegularOutput",
        "position": [
          460,
          560
        ],
        "parameters": {
          "url": "https://server.gallabox.com/devapi/messages/whatsapp",
          "method": "POST",
          "options": {
            "response": {
              "response": {
                "fullResponse": true
              }
            }
          },
          "jsonBody": "=\n{\n    \"channelId\": \"\",\n    \"channelType\": \"whatsapp\",\n    \"recipient\": {\n        \"name\": \"{{ $json.name }}\",\n        \"phone\": \"91{{ $json.phone }}\"\n    },\n    \"whatsapp\": {\n        \"type\": \"template\",\n        \"template\": {\n            \"templateName\": \"testing_rahi_1\",\n            \"bodyValues\": {\n                \"Name\": \"{{ $json.name }}\",\n                \"Details\": \"\"\n            },\n            \"buttonValues\": [\n                {\n                    \"index\": 0,\n                    \"sub_type\": \"quick_reply\",\n                    \"parameters\": {\n                        \"type\": \"payload\",\n                        \"payload\": \"Show me Brochure\"\n                    }\n                }\n            ]\n        }\n    }\n}",
          "sendBody": true,
          "jsonHeaders": "api key and api secret key",
          "sendHeaders": true,
          "specifyBody": "json",
          "authentication": "genericCredentialType",
          "specifyHeaders": "json",
          "genericAuthType": "httpCustomAuth"
        },
        "typeVersion": 4.1
      },
      {
        "id": "4277f565-b4fa-4c4b-8d8a-9cb43565defc",
        "name": "Sticky Note",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          400,
          -200
        ],
        "parameters": {
          "width": 150,
          "content": "Http request if of gallabox api, that will help you to send whatsapp messages"
        },
        "typeVersion": 1
      },
      {
        "id": "257a9216-8163-4c33-bd28-78b0625e319a",
        "name": "Sticky Note1",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -340,
          280
        ],
        "parameters": {
          "width": 150,
          "content": "This switch decides which drip to send means which message drip in sequence"
        },
        "typeVersion": 1
      },
      {
        "id": "bc5fd705-a878-42b9-875a-1a104d01570a",
        "name": "Sticky Note2",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -860,
          720
        ],
        "parameters": {
          "width": 150,
          "content": "This Tells you about th e disposition/stage that you want to target"
        },
        "typeVersion": 1
      }
    ],
    "pinData": {},
    "connections": {
      "If2": {
        "main": [
          [
            {
              "node": "new_lead_2",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "new_lead_": {
        "main": [
          [
            {
              "node": "Create Logs1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "new_lead_0": {
        "main": [
          [
            {
              "node": "Create Logs",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "new_lead_2": {
        "main": [
          [
            {
              "node": "Create Logs3",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "new_lead_3": {
        "main": [
          [
            {
              "node": "Create Logs2",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Create Logs": {
        "main": [
          [
            {
              "node": "If StatusCode ",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "If Interval": {
        "main": [
          [
            {
              "node": "new_lead_",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Count Switch": {
        "main": [
          [
            {
              "node": "Loop Over Items1",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Loop Over Items2",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Loop Over Items3",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Loop Over Items4",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Create Logs1": {
        "main": [
          [
            {
              "node": "If StatusCode 202",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Create Logs2": {
        "main": [
          [
            {
              "node": "If StatusCode 203",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Create Logs3": {
        "main": [
          [
            {
              "node": "If StatusCode 204",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "If Interval1": {
        "main": [
          [
            {
              "node": "new_lead_3",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Update a row1": {
        "main": [
          [
            {
              "node": "Loop Over Items1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Update a row2": {
        "main": [
          [
            {
              "node": "Loop Over Items2",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Update a row3": {
        "main": [
          [
            {
              "node": "Loop Over Items3",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Update a row4": {
        "main": [
          [
            {
              "node": "Loop Over Items4",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get many rows1": {
        "main": [
          [
            {
              "node": "Disposition Switch",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "If StatusCode ": {
        "main": [
          [
            {
              "node": "Update a row1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Loop Over Items1": {
        "main": [
          [],
          [
            {
              "node": "new_lead_0",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Loop Over Items2": {
        "main": [
          [],
          [
            {
              "node": "If Interval",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Loop Over Items3": {
        "main": [
          [],
          [
            {
              "node": "If Interval1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Loop Over Items4": {
        "main": [
          [],
          [
            {
              "node": "If2",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "If StatusCode 202": {
        "main": [
          [
            {
              "node": "Update a row2",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "If StatusCode 203": {
        "main": [
          [
            {
              "node": "Update a row3",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "If StatusCode 204": {
        "main": [
          [
            {
              "node": "Update a row4",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Schedule Trigger3": {
        "main": [
          [
            {
              "node": "Get many rows1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Disposition Switch": {
        "main": [
          [
            {
              "node": "Count Switch",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Switch2",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Switch3",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Switch4",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Switch5",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    }
  },
  "lastUpdatedBy": 29,
  "workflowInfo": {
    "nodeCount": 34,
    "nodeTypes": {
      "n8n-nodes-base.if": {
        "count": 7
      },
      "n8n-nodes-base.switch": {
        "count": 6
      },
      "n8n-nodes-base.supabase": {
        "count": 9
      },
      "n8n-nodes-base.stickyNote": {
        "count": 3
      },
      "n8n-nodes-base.httpRequest": {
        "count": 4
      },
      "n8n-nodes-base.splitInBatches": {
        "count": 4
      },
      "n8n-nodes-base.scheduleTrigger": {
        "count": 1
      }
    }
  },
  "categories": [
    {
      "id": 38,
      "name": "Nurturing de leads"
    }
  ],
  "image": []
}