{
  "id": 2985,
  "name": "Flux de travail de chatbot aliment√© par l'IA avec int√©gration de base de donn√©es MySQL",
  "views": 6400,
  "recentViews": 2,
  "totalViews": 6400,
  "createdAt": "2025-02-23T06:09:53.667Z",
  "description": "# Flux de travail de chatbot aliment√© par l'IA avec int√©gration MySQL\n\nCe guide vous montre comment d√©ployer un chatbot qui vous permet d'interroger votre base de donn√©es en utilisant un langage naturel. Vous construirez un syst√®me qui accepte des messages de chat, conserve l'historique des conversations, construit des requ√™tes SQL dynamiques et renvoie des r√©ponses g√©n√©r√©es par un mod√®le d'IA. En suivant ces instructions, vous disposerez d'une solution fonctionnelle qui int√®gre les capacit√©s de l'Agent IA d'n8n avec MySQL.\n\n---\n\n## Pr√©requis\n\nAvant de commencer, assurez-vous d'avoir les √©l√©ments suivants :\n\n1. Une instance n8n active (auto-h√©berg√©e ou cloud) ex√©cutant la version 1.50.0 ou ult√©rieure.\n2. Des identifiants MySQL valides configur√©s dans n8n.\n3. Des identifiants API pour le mod√®le de chat Groq (ou votre mod√®le de langage IA pr√©f√©r√©).\n4. Une familiarit√© de base avec SQL et les concepts de n≈ìuds n8n tels que les d√©clencheurs de chat et les tampons de m√©moire.\n5. Acc√®s √† la [documentation n8n sur les Agents IA](https://docs.n8n.io/advanced-ai/) pour plus de r√©f√©rences.\n\n---\n\n## Configuration du flux de travail\n\n### 1. Interface de chat & D√©clencheur\n\n- **Lorsque le message de chat est re√ßu**  \n  Ce n≈ìud √©coute les messages de chat entrants via un webhook. Lorsqu'un message arrive, il d√©clenche imm√©diatement le flux de travail.\n\n### 2. M√©moire de conversation\n\n- **Historique des chats**  \n  Ce n≈ìud de tampon de m√©moire stocke les 10 derni√®res interactions. Il fournit le contexte de la conversation √† l'Agent IA, garantissant que les r√©ponses tiennent compte des messages pr√©c√©dents.\n\n### 3. Noyau de l'Agent IA\n\n- **Agent IA (Agent Outils)**  \n  Le n≈ìud Agent IA orchestre la conversation en recevant l'entr√©e de chat et l'historique de conversation. Il g√©n√®re dynamiquement des requ√™tes SQL en fonction de vos demandes et coordonne les appels aux outils externes (tels que les n≈ìuds MySQL).\n\n### 4. Interactions avec la base de donn√©es\n\n- **N≈ìud MySQL**  \n  Ce n≈ìud ex√©cute la requ√™te SQL g√©n√©r√©e par l'Agent IA. Vous r√©f√©rencez la requ√™te en utilisant une expression (par exemple, `{{$node[\"AI Agent\"].json.sql_query}}`), permettant √† la sortie de l'agent de contr√¥ler la r√©cup√©ration des donn√©es.\n\n- **N≈ìud Sch√©ma MySQL**  \n  Ce n≈ìud r√©cup√®re une liste de tables de base de votre base de donn√©es MySQL (√† l'exclusion des sch√©mas syst√®me). L'agent utilise ces informations pour comprendre les tables disponibles.\n\n- **N≈ìud D√©finition MySQL**  \n  Ce n≈ìud r√©cup√®re des m√©tadonn√©es d√©taill√©es (telles que les noms de colonnes, les types de donn√©es et les relations) pour une table sp√©cifique. Les noms de table et de sch√©ma sont fournis dynamiquement par l'Agent IA.\n\n### 5. Traitement du mod√®le de langage\n\n- **Mod√®le de chat Groq**  \n  Ce n≈ìud se connecte √† l'API de chat Groq pour g√©n√©rer des compl√©tions de texte. Il traite l'entr√©e combin√©e (message de chat, contexte et donn√©es r√©cup√©r√©es de MySQL) et produit la r√©ponse finale.\n\n### 6. Orientation & Personnalisation\n\n- **Notes autocollantes**  \n  Ces n≈ìuds fournissent des conseils sur :\n  - Changer le mod√®le de chat si vous souhaitez utiliser un autre fournisseur (par exemple, OpenAI ou Anthropic).\n  - Ajuster le nombre maximum de jetons par interaction.\n  - Personnaliser les requ√™tes SQL et la taille de la fen√™tre de contexte.\n  \nIls vous aident √† modifier le flux de travail pour l'adapter √† votre environnement et √† vos besoins.\n\n### Connexions du flux de travail\n\n- Le **D√©clencheur de chat** passe le message entrant √† l'**Agent IA**.\n- Le n≈ìud **Historique des chats** fournit le contexte de conversation √† l'Agent IA.\n- L'**Agent IA** appelle les n≈ìuds MySQL en tant qu'outils externes, g√©n√©rant et envoyant des requ√™tes SQL dynamiques.\n- Le **Mod√®le de chat Groq** traite l'entr√©e consolid√©e de l'agent et produit la r√©ponse en langage naturel livr√©e √† l'utilisateur.\n\n### Tester le flux de travail\n\n1. Envoyez un message de chat en utilisant l'interface de chat.\n2. Observez comment l'Agent IA traite l'entr√©e et g√©n√®re une requ√™te SQL correspondante.\n3. V√©rifiez que les n≈ìuds MySQL ex√©cutent la requ√™te et renvoient des donn√©es.\n4. Confirmez que le Mod√®le de chat Groq produit une r√©ponse coh√©rente en langage naturel.\n5. Consultez les notes autocollantes pour des conseils si vous devez peaufiner les param√®tres de n'importe quel n≈ìud.\n\n---\n\n## Prochaines √©tapes et r√©f√©rences\n\n- **Personnalisez votre mod√®le IA**  \n  Remplacez le Mod√®le de chat Groq par un autre mod√®le de langage (tel que le Mod√®le de chat OpenAI) en mettant √† jour les identifiants et la configuration du n≈ìud.\n\n- **Am√©liorez les param√®tres de m√©moire**  \n  Ajustez la taille de la fen√™tre de contexte du n≈ìud Historique des chats pour conserver plus ou moins de messages en fonction de vos besoins.\n\n- **Modifiez les requ√™tes SQL**  \n  Mettez √† jour les requ√™tes SQL dans les n≈ìuds MySQL pour correspondre √† votre sch√©ma de base de donn√©es sp√©cifique et aux donn√©es souhait√©es.\n\n- **Lectures compl√©mentaires**  \n  Consultez la [documentation n8n sur les Agents IA](https://docs.n8n.io/advanced-ai/) pour des d√©tails suppl√©mentaires et des exemples afin d'√©largir les capacit√©s de votre flux de travail.\n\n- **Configurer un chatbot sur un site web**\n  Copiez & Collez et remplacez les espaces r√©serv√©s dans le code suivant pour int√©grer le chatbot dans votre site web personnel ou d'entreprise : [Voir dans CodePen ü°•](https://codepen.io/olemai/pen/RNwPdVp)\n\n---\n\nEn suivant ces √©tapes, vous d√©ploierez un flux de travail de chatbot IA robuste qui s'int√®gre √† votre base de donn√©es MySQL, vous permettant d'interroger des donn√©es en utilisant un langage naturel.\n",
  "workflow": {
    "meta": {
      "instanceId": "f0daacbbece4d36ce73ed214e506ba3899410c0e00a1b6cd1d93e012465d1082"
    },
    "nodes": [
      {
        "id": "e1055031-f1f1-44dd-8e3b-18b9f543aac2",
        "name": "When chat message received",
        "type": "@n8n/n8n-nodes-langchain.chatTrigger",
        "position": [
          -60,
          -80
        ],
        "webhookId": "cf1de04f-3e38-426c-89f0-3bdb110a5dcf",
        "parameters": {},
        "typeVersion": 1.1
      },
      {
        "id": "88eaaf60-aed6-4e9d-9667-d2838a8e7f78",
        "name": "Chat History",
        "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
        "position": [
          280,
          120
        ],
        "parameters": {},
        "typeVersion": 1.3
      },
      {
        "id": "a5b49dee-d5e4-4324-a7f8-1638e4e41abd",
        "name": "MySQL",
        "type": "n8n-nodes-base.mySqlTool",
        "position": [
          460,
          120
        ],
        "parameters": {},
        "typeVersion": 2.4
      },
      {
        "id": "7abfcdc7-dfc5-4627-a479-82dd38404c88",
        "name": "MySQL Schema",
        "type": "n8n-nodes-base.mySqlTool",
        "position": [
          640,
          120
        ],
        "parameters": {},
        "typeVersion": 2.4
      },
      {
        "id": "bc9dfb90-0696-4801-a5c2-741c2fd27855",
        "name": "MySQL Definition",
        "type": "n8n-nodes-base.mySqlTool",
        "position": [
          820,
          120
        ],
        "parameters": {},
        "typeVersion": 2.4
      },
      {
        "id": "fd8344a4-ee89-4365-ae36-cc39f26c47df",
        "name": "AI Agent",
        "type": "@n8n/n8n-nodes-langchain.agent",
        "position": [
          360,
          -80
        ],
        "parameters": {},
        "typeVersion": 1.7
      },
      {
        "id": "4849ec08-2ab9-46f2-bc8c-f9dad3196246",
        "name": "Groq Chat Model",
        "type": "@n8n/n8n-nodes-langchain.lmChatGroq",
        "position": [
          100,
          120
        ],
        "parameters": {},
        "typeVersion": 1
      },
      {
        "id": "400a5f98-60af-4acb-950a-085402f3502d",
        "name": "Sticky Note1",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          60,
          300
        ],
        "parameters": {
          "content": ""
        },
        "typeVersion": 1
      },
      {
        "id": "5859cd82-9d6c-4783-8ef9-44cd4d800148",
        "name": "Sticky Note2",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          240,
          300
        ],
        "parameters": {
          "content": ""
        },
        "typeVersion": 1
      },
      {
        "id": "599c02ac-7246-4cab-8bdd-1f6565ece04d",
        "name": "Sticky Note3",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          420,
          300
        ],
        "parameters": {
          "content": ""
        },
        "typeVersion": 1
      },
      {
        "id": "33cbfb73-10e5-428b-ba71-539be16e7bc7",
        "name": "Sticky Note",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -60,
          -300
        ],
        "parameters": {
          "content": ""
        },
        "typeVersion": 1
      }
    ],
    "pinData": {},
    "connections": {
      "MySQL": {
        "ai_tool": [
          [
            {
              "node": "AI Agent",
              "type": "ai_tool",
              "index": 0
            }
          ]
        ]
      },
      "Chat History": {
        "ai_memory": [
          [
            {
              "node": "AI Agent",
              "type": "ai_memory",
              "index": 0
            }
          ]
        ]
      },
      "MySQL Schema": {
        "ai_tool": [
          [
            {
              "node": "AI Agent",
              "type": "ai_tool",
              "index": 0
            }
          ]
        ]
      },
      "Groq Chat Model": {
        "ai_languageModel": [
          [
            {
              "node": "AI Agent",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "MySQL Definition": {
        "ai_tool": [
          [
            {
              "node": "AI Agent",
              "type": "ai_tool",
              "index": 0
            }
          ]
        ]
      },
      "When chat message received": {
        "main": [
          [
            {
              "node": "AI Agent",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    }
  },
  "lastUpdatedBy": 16,
  "workflowInfo": {
    "nodeCount": 11,
    "nodeTypes": {
      "n8n-nodes-base.mySqlTool": {
        "count": 3
      },
      "n8n-nodes-base.stickyNote": {
        "count": 4
      },
      "@n8n/n8n-nodes-langchain.agent": {
        "count": 1
      },
      "@n8n/n8n-nodes-langchain.lmChatGroq": {
        "count": 1
      },
      "@n8n/n8n-nodes-langchain.chatTrigger": {
        "count": 1
      },
      "@n8n/n8n-nodes-langchain.memoryBufferWindow": {
        "count": 1
      }
    }
  },
  "user": {
    "name": "Gegenfeld",
    "username": "gegenfeld",
    "bio": "We at Gegenfeld are an EdTech platform dedicated to delivering high-quality on-demand courses and interactive training sessions for professional development at all skill levels. With our commitment to \"Accelerate your future,\" we empower professionals to enhance their expertise through engaging, industry-focused learning experiences. On n8n, we share some of the workflows used in our interactive training to provide deeper insights and practical applications.",
    "verified": true,
    "links": [
      "https://gegenfeld.com"
    ],
    "avatar": "https://gravatar.com/avatar/c8a1c789de3e9122a421139cc2d7dc9ab404dfb76ac84a17fa487e8f607ae9ab?r=pg&d=retro&size=200"
  },
  "nodes": [
    {
      "id": 565,
      "icon": "fa:sticky-note",
      "name": "n8n-nodes-base.stickyNote",
      "codex": {
        "data": {
          "alias": [
            "Comments",
            "Notes",
            "Sticky"
          ],
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Note autocollante",
        "color": "#FFD233"
      },
      "iconData": {
        "icon": "sticky-note",
        "type": "icon"
      },
      "displayName": "Sticky Note",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 1119,
      "icon": "fa:robot",
      "name": "@n8n/n8n-nodes-langchain.agent",
      "codex": {
        "data": {
          "alias": [
            "LangChain",
            "Chat",
            "Conversational",
            "Plan and Execute",
            "ReAct",
            "Tools"
          ],
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Agents",
              "Root Nodes"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Agent IA",
        "color": "#404040"
      },
      "iconData": {
        "icon": "robot",
        "type": "icon"
      },
      "displayName": "AI Agent",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    },
    {
      "id": 1163,
      "icon": "fa:database",
      "name": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "codex": {
        "data": {
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.memorybufferwindow/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Memory"
            ],
            "Memory": [
              "For beginners"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "M√©moire simple"
      },
      "iconData": {
        "icon": "database",
        "type": "icon"
      },
      "displayName": "Simple Memory",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    },
    {
      "id": 1247,
      "icon": "fa:comments",
      "name": "@n8n/n8n-nodes-langchain.chatTrigger",
      "codex": {
        "data": {
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-langchain.chattrigger/"
              }
            ]
          },
          "categories": [
            "Core Nodes",
            "Langchain"
          ]
        }
      },
      "group": "[\"trigger\"]",
      "defaults": {
        "name": "Lorsque le message de chat est re√ßu"
      },
      "iconData": {
        "icon": "comments",
        "type": "icon"
      },
      "displayName": "Chat Trigger",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    },
    {
      "id": 1263,
      "icon": "file:groq.svg",
      "name": "@n8n/n8n-nodes-langchain.lmChatGroq",
      "codex": {
        "data": {
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.lmchatgroq/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Language Models",
              "Root Nodes"
            ],
            "Language Models": [
              "Chat Models (Recommended)"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Mod√®le de chat Groq"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgaWQ9IkxheWVyXzIiCiAgIHZpZXdCb3g9IjAgMCA0OTkuOTk5OTkgNDk5Ljk5OTk5IgogICB2ZXJzaW9uPSIxLjEiCiAgIHdpZHRoPSI1MDAiCiAgIGhlaWdodD0iNTAwIgogICB4bWw6c3BhY2U9InByZXNlcnZlIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxkZWZzCiAgICAgaWQ9ImRlZnM0IiAvPjxnCiAgICAgaWQ9IlBBR0VTIj48Y2lyY2xlCiAgICAgICBzdHlsZT0iZmlsbDojZjU0ZjM1O2ZpbGwtb3BhY2l0eToxO3N0cm9rZS13aWR0aDoxLjEzNjIyIgogICAgICAgaWQ9InBhdGg0IgogICAgICAgY3g9IjI1MCIKICAgICAgIGN5PSIyNTAiCiAgICAgICByPSIyNTAiIC8+PHBhdGgKICAgICAgIGQ9Ik0gMjUwLjUzNjY0LDk3LjEyMjk5NCBDIDE5Mi43MTkzMSw5Ni41ODg2MzggMTQ1LjQ4MjIyLDE0Mi45NzA3NSAxNDQuOTQ3ODYsMjAwLjc4ODA4IGMgLTAuNTM0MzQsNTcuODE3MzMgNDUuODQ3NzcsMTA1LjA1NDQyIDEwMy42NjUxLDEwNS41ODg3NyBoIDM2LjMzNjIxIHYgLTM5LjIyMTc0IGggLTM0LjQxMjUzIGMgLTM2LjEyMjQ4LDAuNDI3NSAtNjUuNzI1OCwtMjguNTM0NjIgLTY2LjE1MzI5LC02NC42NTcwOCAtMC40Mjc0OSwtMzYuMTIyNDggMjguNTM0NjMsLTY1LjcyNTgxIDY0LjY1NzA4LC02Ni4xNTMzIGggMS40OTYyMSBjIDM2LjEyMjQ4LDAgNjUuNDA1MiwyOS4yODI3MiA2NS41MTIwNyw2NS40MDUyIHYgMCA5Ni4zOTc4MyAwIGMgMCwzNS44MDE4NyAtMjkuMTc1ODUsNjQuOTc3NzMgLTY0Ljg3MDgzLDY1LjQwNTIxIC0xNy4wOTk0MSwtMC4xMDY4OCAtMzMuNDUwNzEsLTcuMDUzNTEgLTQ1LjUyNzE3LC0xOS4xMjk5NSBsIC0yNy43ODY1LDI3Ljc4NjUxIGMgMTkuMjM2ODEsMTkuMzQzNyA0NS4zMTMzOSwzMC4zNTE0MyA3Mi41NjU1NiwzMC42NzIwNSBoIDEuMzg5MzMgYyA1Ny4wNjkyNCwtMC44NTQ5NyAxMDIuOTE3LC00Ny4xMzAyMiAxMDMuMjM3NiwtMTA0LjE5OTQ1IFYgMTk5LjI5MTg5IEMgMzUzLjY2NzM5LDE0Mi40MzYzOSAzMDcuMjg1MjcsOTcuMTIyOTk0IDI1MC41MzY2NCw5Ny4xMjI5OTQgWiIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7c3Ryb2tlLXdpZHRoOjBweCIKICAgICAgIGlkPSJwYXRoMS0zIiAvPjwvZz48L3N2Zz4K"
      },
      "displayName": "Groq Chat Model",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    }
  ],
  "categories": [
    {
      "id": 42,
      "name": "Wiki interne"
    },
    {
      "id": 47,
      "name": "Chatbot IA"
    }
  ],
  "image": []
}