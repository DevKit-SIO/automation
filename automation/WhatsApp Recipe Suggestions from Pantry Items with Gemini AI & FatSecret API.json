{
  "id": 7919,
  "name": "WhatsApp Recipe Suggestions from Pantry Items with Gemini AI & FatSecret API",
  "totalViews": 7,
  "price": 0,
  "purchaseUrl": null,
  "user": {
    "name": "Omer Fayyaz",
    "username": "omerfayyaz",
    "bio": "n8n Expert with deep experience in designing and implementing automation workflows that optimize business processes, reduce manual effort, and improve scalability. Skilled in integrating n8n with diverse platforms, APIs, and enterprise systems to deliver end-to-end automation solutions. With 13+ years of background in web development (PHP & JavaScript), I bring strong technical expertise to create custom, reliable, and efficient workflows.",
    "verified": true,
    "links": [
      "https://omerfayyaz.com/"
    ],
    "avatar": "https://gravatar.com/avatar/5ba82ebcfff353e2cd7732613829dc3df56cbb5d73264d57f4ee38a664a96af1?r=pg&d=retro&size=200"
  },
  "description": "## AI Recipe Generator from Pantry Items using FatSecret API\n\n**This workflow creates an intelligent WhatsApp cooking assistant that transforms pantry ingredients into personalized recipe suggestions using AI and the FatSecret Recipes API**\n\n### **What Makes This Different:**\n- **AI-Powered Recipe Discovery** - Uses Google Gemini AI to understand user intent and dietary preferences\n- **Smart Ingredient Analysis** - Automatically extracts ingredients, dietary restrictions, and cooking constraints\n- **FatSecret API Integration** - Leverages comprehensive recipe database with nutritional information\n- **WhatsApp Native Experience** - Seamless chat interface for recipe discovery\n- **Contextual Memory** - Remembers conversation context for better user experience\n- **Intelligent Parameter Mapping** - AI automatically maps user requests to API parameters\n\n### **Key Benefits of AI-Driven Architecture:**\n- **Natural Language Understanding** - Users can describe what they have in plain English\n- **Personalized Recommendations** - Considers dietary restrictions, time constraints, and preferences\n- **Eliminates Manual Search** - No need to manually input specific ingredients or filters\n- **Scalable Recipe Database** - Access to thousands of recipes through FatSecret API\n- **Conversational Interface** - Natural chat flow instead of form-based inputs\n- **Smart Context Management** - Remembers previous requests for better follow-up suggestions\n\n---\n\n## Who's it for\n\nThis template is designed for **food delivery services, meal planning apps, nutritionists, cooking enthusiasts, and businesses** looking to provide intelligent recipe recommendations. It's perfect for companies who want to engage customers through WhatsApp with personalized cooking assistance, helping users discover new recipes based on available ingredients and preferences.\n\n## How it works / What it does\n\nThis workflow creates an **intelligent WhatsApp cooking assistant** that transforms simple ingredient lists into personalized recipe suggestions. The system:\n\n1. **Receives WhatsApp messages** through webhook triggers\n2. **Analyzes user input** using Google Gemini AI to extract ingredients, dietary needs, and preferences\n3. **Maps user requests** to FatSecret API parameters automatically\n4. **Searches recipe database** based on extracted criteria (ingredients, calories, time, cuisine, etc.)\n5. **Processes API results** to format recipe suggestions with images and nutritional info\n6. **Maintains conversation context** using memory buffer for better user experience\n7. **Sends formatted responses** back to users via WhatsApp\n\n**Key Innovation: AI-Powered Parameter Extraction** - Unlike traditional recipe apps that require users to fill out forms or select from predefined options, this system understands natural language requests and automatically maps them to the appropriate API parameters, making recipe discovery as simple as texting a friend.\n\n## How to set up\n\n### 1. Configure WhatsApp Business API\n- Set up WhatsApp Business API credentials\n- Configure webhook endpoints for message reception\n- Set up phone number ID and recipient handling\n- Ensure proper message sending permissions\n\n### 2. Configure Google Gemini AI\n- Set up Google Gemini (PaLM) API credentials\n- Ensure proper API access and quota limits\n- Configure the AI model for recipe-related conversations\n- Test the AI's understanding of cooking terminology\n\n### 3. Configure FatSecret API\n- Set up FatSecret OAuth2 API credentials\n- Ensure access to the Recipes Search v3 endpoint\n- Configure proper authentication and rate limiting\n- Test API connectivity and response handling\n\n### 4. Set up Memory Management\n- Configure the memory buffer for conversation context\n- Set appropriate session key mapping for user identification\n- Adjust context window length based on expected conversation depth\n- Test memory persistence across multiple messages\n\n### 5. Test the Integration\n- Send test messages through WhatsApp to verify end-to-end functionality\n- Test various ingredient combinations and dietary restrictions\n- Verify recipe suggestions are relevant and properly formatted\n- Check that context memory works across multiple interactions\n\n## Requirements\n\n- **WhatsApp Business API** account with webhook capabilities\n- **Google Gemini AI** API access for natural language processing\n- **FatSecret API** credentials for recipe database access\n- **n8n instance** with proper webhook and HTTP request capabilities\n- **Active internet connection** for real-time API interactions\n\n## How to customize the workflow\n\n### Modify Recipe Search Parameters\n- Adjust the number of results returned (currently set to 5)\n- Add more filtering options (cuisine types, cooking methods, difficulty levels)\n- Implement pagination for browsing through more recipe options\n- Add sorting preferences (newest, oldest, calorie-based, popularity)\n\n### Enhance AI Capabilities\n- Train the AI on specific dietary restrictions or cuisine preferences\n- Add support for multiple languages\n- Implement recipe rating and review integration\n- Add nutritional goal tracking and meal planning features\n\n### Expand Recipe Sources\n- Integrate with additional recipe APIs (Spoonacular, Edamam, etc.)\n- Add support for user-generated recipes\n- Implement recipe bookmarking and favorites\n- Add shopping list generation from selected recipes\n\n### Improve User Experience\n- Add recipe step-by-step instructions\n- Implement cooking timer and progress tracking\n- Add recipe sharing capabilities\n- Implement user preference learning over time\n\n### Business Features\n- Add recipe monetization options\n- Implement affiliate marketing for ingredients\n- Add restaurant delivery integration\n- Implement meal kit subscription services\n\n## Key Features\n\n- **Natural language processing** - Understands cooking requests in plain English\n- **Intelligent parameter mapping** - AI automatically extracts search criteria\n- **Comprehensive recipe database** - Access to thousands of recipes via FatSecret API\n- **WhatsApp native interface** - Seamless chat experience for recipe discovery\n- **Contextual memory** - Remembers conversation history for better recommendations\n- **Dietary restriction support** - Handles allergies, preferences, and special diets\n- **Nutritional information** - Provides calorie counts and macro details\n- **Image integration** - Shows recipe photos when available\n\n## Technical Architecture Highlights\n\n### AI-Powered Processing\n- **Google Gemini integration** - Advanced natural language understanding\n- **Smart parameter extraction** - Automatic mapping of user requests to API calls\n- **Contextual memory** - Conversation history management for better user experience\n- **Intelligent fallbacks** - Graceful handling of unclear or incomplete requests\n\n### API Integration Excellence\n- **FatSecret Recipes API** - Comprehensive recipe database with nutritional data\n- **OAuth2 authentication** - Secure and reliable API access\n- **Parameter optimization** - Efficient API calls with relevant search criteria\n- **Response processing** - Clean formatting of recipe suggestions\n\n### WhatsApp Integration\n- **Webhook-based triggers** - Real-time message reception\n- **Message formatting** - Clean, readable recipe presentations\n- **User identification** - Proper session management for multiple users\n- **Error handling** - Graceful fallbacks for failed operations\n\n### Performance Optimizations\n- **Efficient API calls** - Single request per user message\n- **Memory management** - Optimized conversation context storage\n- **Response caching** - Reduced API calls for repeated requests\n- **Scalable architecture** - Handles multiple concurrent users\n\n## Use Cases\n\n- **Food delivery platforms** requiring recipe recommendation engines\n- **Meal planning services** needing ingredient-based recipe discovery\n- **Nutrition and wellness apps** requiring dietary-specific suggestions\n- **Cooking schools** offering personalized recipe guidance\n- **Grocery stores** helping customers plan meals around available ingredients\n- **Restaurant chains** providing recipe inspiration for home cooking\n- **Health coaches** offering personalized meal suggestions\n- **Social cooking communities** sharing recipe ideas and inspiration\n\n## Business Value\n\n- **Customer Engagement** - Interactive recipe discovery increases user retention\n- **Personalization** - AI-driven recommendations improve user satisfaction\n- **Operational Efficiency** - Automated recipe suggestions reduce manual support\n- **Revenue Generation** - Recipe recommendations can drive ingredient sales\n- **Brand Differentiation** - AI-powered cooking assistant sets services apart\n- **Data Insights** - User preferences provide valuable market intelligence\n- **Scalability** - Handles multiple users simultaneously without performance degradation\n\nThis template revolutionizes recipe discovery by combining the power of AI natural language processing with comprehensive recipe databases, creating an intuitive WhatsApp experience that makes cooking inspiration as simple as having a conversation with a knowledgeable chef friend.\n",
  "createdAt": "2025-08-26T18:36:10.854Z",
  "nodes": [
    {
      "id": 827,
      "icon": "file:whatsapp.svg",
      "name": "n8n-nodes-base.whatsApp",
      "codex": {
        "data": {
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.whatsapp/"
              }
            ],
            "credentialDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/credentials/whatsapp/"
              }
            ]
          },
          "categories": [
            "Communication",
            "HITL"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "HITL": [
              "Human in the Loop"
            ]
          }
        }
      },
      "group": "[\"output\"]",
      "defaults": {
        "name": "WhatsApp Business Cloud"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHZpZXdCb3g9IjAgMCA0OCA0OCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTQuODY4IDQzLjMwMyAyLjY5NC05LjgzNWExOC45NCAxOC45NCAwIDAgMS0yLjUzNS05LjQ4OUM1LjAzMiAxMy41MTQgMTMuNTQ4IDUgMjQuMDE0IDVhMTguODcgMTguODcgMCAwIDEgMTMuNDMgNS41NjZBMTguODcgMTguODcgMCAwIDEgNDMgMjMuOTk0Yy0uMDA0IDEwLjQ2NS04LjUyMiAxOC45OC0xOC45ODYgMTguOThoLS4wMDhhMTkgMTkgMCAwIDEtOS4wNzMtMi4zMTF6Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTQuODY4IDQzLjgwM2EuNS41IDAgMCAxLS40ODItLjYzMWwyLjYzOS05LjYzNmExOS41IDE5LjUgMCAwIDEtMi40OTctOS41NTZDNC41MzIgMTMuMjM4IDEzLjI3MyA0LjUgMjQuMDE0IDQuNWExOS4zNyAxOS4zNyAwIDAgMSAxMy43ODQgNS43MTNBMTkuMzYgMTkuMzYgMCAwIDEgNDMuNSAyMy45OTRjLS4wMDQgMTAuNzQxLTguNzQ2IDE5LjQ4LTE5LjQ4NiAxOS40OGExOS41NCAxOS41NCAwIDAgMS05LjE0NC0yLjI3N2wtOS44NzUgMi41ODlhLjUuNSAwIDAgMS0uMTI3LjAxNyIvPjxwYXRoIGZpbGw9IiNjZmQ4ZGMiIGQ9Ik0yNC4wMTQgNWExOC44NyAxOC44NyAwIDAgMSAxMy40MyA1LjU2NkExOC44NyAxOC44NyAwIDAgMSA0MyAyMy45OTRjLS4wMDQgMTAuNDY1LTguNTIyIDE4Ljk4LTE4Ljk4NiAxOC45OGgtLjAwOGExOSAxOSAwIDAgMS05LjA3My0yLjMxMWwtMTAuMDY1IDIuNjQgMi42OTQtOS44MzVhMTguOTQgMTguOTQgMCAwIDEtMi41MzUtOS40ODlDNS4wMzIgMTMuNTE0IDEzLjU0OCA1IDI0LjAxNCA1bTAtMUMxMi45OTggNCA0LjAzMiAxMi45NjIgNC4wMjcgMjMuOTc5YTIwIDIwIDAgMCAwIDIuNDYxIDkuNjIyTDMuOTAzIDQzLjA0YS45OTguOTk4IDAgMCAwIDEuMjE5IDEuMjMxbDkuNjg3LTIuNTRhMjAgMjAgMCAwIDAgOS4xOTcgMi4yNDRjMTEuMDI0IDAgMTkuOTktOC45NjMgMTkuOTk1LTE5Ljk4QTE5Ljg2IDE5Ljg2IDAgMCAwIDM4LjE1MyA5Ljg2IDE5Ljg3IDE5Ljg3IDAgMCAwIDI0LjAxNCA0Ii8+PHBhdGggZmlsbD0iIzQwYzM1MSIgZD0iTTM1LjE3NiAxMi44MzJhMTUuNjcgMTUuNjcgMCAwIDAtMTEuMTU3LTQuNjI2Yy04LjcwNCAwLTE1Ljc4MyA3LjA3Ni0xNS43ODcgMTUuNzc0YTE1Ljc0IDE1Ljc0IDAgMCAwIDIuNDEzIDguMzk2bC4zNzYuNTk3LTEuNTk1IDUuODIxIDUuOTczLTEuNTY2LjU3Ny4zNDJhMTUuNzUgMTUuNzUgMCAwIDAgOC4wMzIgMi4xOTloLjAwNmM4LjY5OCAwIDE1Ljc3Ny03LjA3NyAxNS43OC0xNS43NzZhMTUuNjggMTUuNjggMCAwIDAtNC42MTgtMTEuMTYxIi8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5LjI2OCAxNi4wNDVjLS4zNTUtLjc5LS43MjktLjgwNi0xLjA2OC0uODItLjI3Ny0uMDEyLS41OTMtLjAxMS0uOTA5LS4wMTFzLS44My4xMTktMS4yNjUuNTk0LTEuNjYxIDEuNjIyLTEuNjYxIDMuOTU2IDEuNyA0LjU5IDEuOTM3IDQuOTA2IDMuMjgyIDUuMjU5IDguMTA0IDcuMTYxYzQuMDA3IDEuNTggNC44MjMgMS4yNjYgNS42OTMgMS4xODdzMi44MDctMS4xNDcgMy4yMDItMi4yNTUuMzk1LTIuMDU3LjI3Ny0yLjI1NWMtLjExOS0uMTk4LS40MzUtLjMxNi0uOTA5LS41NTRzLTIuODA3LTEuMzg1LTMuMjQyLTEuNTQzLS43NTEtLjIzNy0xLjA2OC4yMzhjLS4zMTYuNDc0LTEuMjI1IDEuNTQzLTEuNTAyIDEuODU5cy0uNTU0LjM1Ny0xLjAyOC4xMTktMi4wMDItLjczOC0zLjgxNS0yLjM1NGMtMS40MS0xLjI1Ny0yLjM2Mi0yLjgxLTIuNjM5LTMuMjg1LS4yNzctLjQ3NC0uMDMtLjczMS4yMDgtLjk2OC4yMTMtLjIxMy40NzQtLjU1NC43MTItLjgzMS4yMzctLjI3Ny4zMTYtLjQ3NS40NzQtLjc5MXMuMDc5LS41OTQtLjA0LS44MzFjLS4xMTctLjIzOC0xLjAzOS0yLjU4NC0xLjQ2MS0zLjUyMiIvPjwvc3ZnPg=="
      },
      "displayName": "WhatsApp Business Cloud",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 6,
          "name": "Communication"
        },
        {
          "id": 28,
          "name": "HITL"
        }
      ]
    },
    {
      "id": 1119,
      "icon": "fa:robot",
      "name": "@n8n/n8n-nodes-langchain.agent",
      "codex": {
        "data": {
          "alias": [
            "LangChain",
            "Chat",
            "Conversational",
            "Plan and Execute",
            "ReAct",
            "Tools"
          ],
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Agents",
              "Root Nodes"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "AI Agent",
        "color": "#404040"
      },
      "iconData": {
        "icon": "robot",
        "type": "icon"
      },
      "displayName": "AI Agent",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    },
    {
      "id": 1163,
      "icon": "fa:database",
      "name": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "codex": {
        "data": {
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.memorybufferwindow/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Memory"
            ],
            "Memory": [
              "For beginners"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Simple Memory"
      },
      "iconData": {
        "icon": "database",
        "type": "icon"
      },
      "displayName": "Simple Memory",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    },
    {
      "id": 1260,
      "icon": "file:whatsapp.svg",
      "name": "n8n-nodes-base.whatsAppTrigger",
      "codex": {
        "data": {
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/trigger-nodes/n8n-nodes-base.whatsapptrigger/"
              }
            ],
            "credentialDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/credentials/whatsapp/"
              }
            ]
          },
          "categories": [
            "Communication"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0"
        }
      },
      "group": "[\"trigger\"]",
      "defaults": {
        "name": "WhatsApp Trigger"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHZpZXdCb3g9IjAgMCA0OCA0OCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTQuODY4IDQzLjMwMyAyLjY5NC05LjgzNWExOC45NCAxOC45NCAwIDAgMS0yLjUzNS05LjQ4OUM1LjAzMiAxMy41MTQgMTMuNTQ4IDUgMjQuMDE0IDVhMTguODcgMTguODcgMCAwIDEgMTMuNDMgNS41NjZBMTguODcgMTguODcgMCAwIDEgNDMgMjMuOTk0Yy0uMDA0IDEwLjQ2NS04LjUyMiAxOC45OC0xOC45ODYgMTguOThoLS4wMDhhMTkgMTkgMCAwIDEtOS4wNzMtMi4zMTF6Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTQuODY4IDQzLjgwM2EuNS41IDAgMCAxLS40ODItLjYzMWwyLjYzOS05LjYzNmExOS41IDE5LjUgMCAwIDEtMi40OTctOS41NTZDNC41MzIgMTMuMjM4IDEzLjI3MyA0LjUgMjQuMDE0IDQuNWExOS4zNyAxOS4zNyAwIDAgMSAxMy43ODQgNS43MTNBMTkuMzYgMTkuMzYgMCAwIDEgNDMuNSAyMy45OTRjLS4wMDQgMTAuNzQxLTguNzQ2IDE5LjQ4LTE5LjQ4NiAxOS40OGExOS41NCAxOS41NCAwIDAgMS05LjE0NC0yLjI3N2wtOS44NzUgMi41ODlhLjUuNSAwIDAgMS0uMTI3LjAxNyIvPjxwYXRoIGZpbGw9IiNjZmQ4ZGMiIGQ9Ik0yNC4wMTQgNWExOC44NyAxOC44NyAwIDAgMSAxMy40MyA1LjU2NkExOC44NyAxOC44NyAwIDAgMSA0MyAyMy45OTRjLS4wMDQgMTAuNDY1LTguNTIyIDE4Ljk4LTE4Ljk4NiAxOC45OGgtLjAwOGExOSAxOSAwIDAgMS05LjA3My0yLjMxMWwtMTAuMDY1IDIuNjQgMi42OTQtOS44MzVhMTguOTQgMTguOTQgMCAwIDEtMi41MzUtOS40ODlDNS4wMzIgMTMuNTE0IDEzLjU0OCA1IDI0LjAxNCA1bTAtMUMxMi45OTggNCA0LjAzMiAxMi45NjIgNC4wMjcgMjMuOTc5YTIwIDIwIDAgMCAwIDIuNDYxIDkuNjIyTDMuOTAzIDQzLjA0YS45OTguOTk4IDAgMCAwIDEuMjE5IDEuMjMxbDkuNjg3LTIuNTRhMjAgMjAgMCAwIDAgOS4xOTcgMi4yNDRjMTEuMDI0IDAgMTkuOTktOC45NjMgMTkuOTk1LTE5Ljk4QTE5Ljg2IDE5Ljg2IDAgMCAwIDM4LjE1MyA5Ljg2IDE5Ljg3IDE5Ljg3IDAgMCAwIDI0LjAxNCA0Ii8+PHBhdGggZmlsbD0iIzQwYzM1MSIgZD0iTTM1LjE3NiAxMi44MzJhMTUuNjcgMTUuNjcgMCAwIDAtMTEuMTU3LTQuNjI2Yy04LjcwNCAwLTE1Ljc4MyA3LjA3Ni0xNS43ODcgMTUuNzc0YTE1Ljc0IDE1Ljc0IDAgMCAwIDIuNDEzIDguMzk2bC4zNzYuNTk3LTEuNTk1IDUuODIxIDUuOTczLTEuNTY2LjU3Ny4zNDJhMTUuNzUgMTUuNzUgMCAwIDAgOC4wMzIgMi4xOTloLjAwNmM4LjY5OCAwIDE1Ljc3Ny03LjA3NyAxNS43OC0xNS43NzZhMTUuNjggMTUuNjggMCAwIDAtNC42MTgtMTEuMTYxIi8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5LjI2OCAxNi4wNDVjLS4zNTUtLjc5LS43MjktLjgwNi0xLjA2OC0uODItLjI3Ny0uMDEyLS41OTMtLjAxMS0uOTA5LS4wMTFzLS44My4xMTktMS4yNjUuNTk0LTEuNjYxIDEuNjIyLTEuNjYxIDMuOTU2IDEuNyA0LjU5IDEuOTM3IDQuOTA2IDMuMjgyIDUuMjU5IDguMTA0IDcuMTYxYzQuMDA3IDEuNTggNC44MjMgMS4yNjYgNS42OTMgMS4xODdzMi44MDctMS4xNDcgMy4yMDItMi4yNTUuMzk1LTIuMDU3LjI3Ny0yLjI1NWMtLjExOS0uMTk4LS40MzUtLjMxNi0uOTA5LS41NTRzLTIuODA3LTEuMzg1LTMuMjQyLTEuNTQzLS43NTEtLjIzNy0xLjA2OC4yMzhjLS4zMTYuNDc0LTEuMjI1IDEuNTQzLTEuNTAyIDEuODU5cy0uNTU0LjM1Ny0xLjAyOC4xMTktMi4wMDItLjczOC0zLjgxNS0yLjM1NGMtMS40MS0xLjI1Ny0yLjM2Mi0yLjgxLTIuNjM5LTMuMjg1LS4yNzctLjQ3NC0uMDMtLjczMS4yMDgtLjk2OC4yMTMtLjIxMy40NzQtLjU1NC43MTItLjgzMS4yMzctLjI3Ny4zMTYtLjQ3NS40NzQtLjc5MXMuMDc5LS41OTQtLjA0LS44MzFjLS4xMTctLjIzOC0xLjAzOS0yLjU4NC0xLjQ2MS0zLjUyMiIvPjwvc3ZnPg=="
      },
      "displayName": "WhatsApp Trigger",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 6,
          "name": "Communication"
        }
      ]
    },
    {
      "id": 1262,
      "icon": "file:google.svg",
      "name": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "codex": {
        "data": {
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.lmchatgooglegemini/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Language Models",
              "Root Nodes"
            ],
            "Language Models": [
              "Chat Models (Recommended)"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Google Gemini Chat Model"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgNDggNDgiPjxkZWZzPjxwYXRoIGlkPSJhIiBkPSJNNDQuNSAyMEgyNHY4LjVoMTEuOEMzNC43IDMzLjkgMzAuMSAzNyAyNCAzN2MtNy4yIDAtMTMtNS44LTEzLTEzczUuOC0xMyAxMy0xM2MzLjEgMCA1LjkgMS4xIDguMSAyLjlsNi40LTYuNEMzNC42IDQuMSAyOS42IDIgMjQgMiAxMS44IDIgMiAxMS44IDIgMjRzOS44IDIyIDIyIDIyYzExIDAgMjEtOCAyMS0yMiAwLTEuMy0uMi0yLjctLjUtNCIvPjwvZGVmcz48Y2xpcFBhdGggaWQ9ImIiPjx1c2UgeGxpbms6aHJlZj0iI2EiIG92ZXJmbG93PSJ2aXNpYmxlIi8+PC9jbGlwUGF0aD48cGF0aCBmaWxsPSIjRkJCQzA1IiBkPSJNMCAzN1YxMWwxNyAxM3oiIGNsaXAtcGF0aD0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNFQTQzMzUiIGQ9Im0wIDExIDE3IDEzIDctNi4xTDQ4IDE0VjBIMHoiIGNsaXAtcGF0aD0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiMzNEE4NTMiIGQ9Im0wIDM3IDMwLTIzIDcuOSAxTDQ4IDB2NDhIMHoiIGNsaXAtcGF0aD0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiM0Mjg1RjQiIGQ9Ik00OCA0OCAxNyAyNGwtNC0zIDM1LTEweiIgY2xpcC1wYXRoPSJ1cmwoI2IpIi8+PC9zdmc+"
      },
      "displayName": "Google Gemini Chat Model",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    }
  ],
  "views": 7,
  "recentViews": 7,
  "workflow": {
    "id": "1swdOn6qufjM3HYR",
    "meta": {
      "instanceId": "50631c03cbd88440965b74e5a58aada5437cbc43e90372b516e36154908ad374",
      "templateCredsSetupCompleted": true
    },
    "name": "AI Recipe Generator from Pantry Items using fatsecret api",
    "tags": [],
    "nodes": [
      {
        "id": "09d0f160-da33-4ae0-ae54-98b773d5535c",
        "name": "Simple Memory",
        "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
        "position": [
          352,
          416
        ],
        "parameters": {
          "sessionKey": "={{ $('WhatsApp Trigger').item.json.messages[0].from }}",
          "sessionIdType": "customKey",
          "contextWindowLength": "=5"
        },
        "typeVersion": 1.3
      },
      {
        "id": "4061ae9d-5ea9-4096-a605-069b5070e0f9",
        "name": "Google Gemini Chat Model1",
        "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
        "position": [
          176,
          416
        ],
        "parameters": {
          "options": {}
        },
        "credentials": {
          "googlePalmApi": {
            "id": "fCwOeE5T0V3qZKVd",
            "name": "Google Gemini(PaLM) Api account"
          }
        },
        "typeVersion": 1
      },
      {
        "id": "47f2f9d0-94d2-46e7-9eb2-3735d0867efc",
        "name": "WhatsApp Trigger",
        "type": "n8n-nodes-base.whatsAppTrigger",
        "position": [
          0,
          192
        ],
        "webhookId": "f1f6f01b-16be-482e-bc03-9ce4867595d4",
        "parameters": {
          "options": {},
          "updates": [
            "messages"
          ]
        },
        "credentials": {
          "whatsAppTriggerApi": {
            "id": "0ZQ1AOpJZBv4Jcie",
            "name": "WhatsApp Recipes Chat Bot"
          }
        },
        "typeVersion": 1
      },
      {
        "id": "2f009b65-07d5-41cf-a1e3-85db8984d4d0",
        "name": "Send message",
        "type": "n8n-nodes-base.whatsApp",
        "position": [
          688,
          192
        ],
        "webhookId": "da5817c0-6a2b-45fe-b838-98ae05ad5d94",
        "parameters": {
          "textBody": "={{ $json.output }}",
          "operation": "send",
          "phoneNumberId": "694459953755725",
          "additionalFields": {},
          "recipientPhoneNumber": "={{ $('WhatsApp Trigger').item.json.messages[0].from }}"
        },
        "credentials": {
          "whatsAppApi": {
            "id": "tx7HR4US7p5c7LnE",
            "name": "WhatsApp Recipes Chat Bot Sender"
          }
        },
        "typeVersion": 1
      },
      {
        "id": "cba8701c-ba5c-4e58-a52a-07510caed159",
        "name": "Fatsecret_Recipes",
        "type": "n8n-nodes-base.httpRequestTool",
        "position": [
          528,
          416
        ],
        "parameters": {
          "url": "https://platform.fatsecret.com/rest/recipes/search/v3",
          "options": {},
          "sendQuery": true,
          "authentication": "genericCredentialType",
          "genericAuthType": "oAuth2Api",
          "queryParameters": {
            "parameters": [
              {
                "name": "search_expression",
                "value": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('parameters0_Value', ``, 'string') }}"
              },
              {
                "name": "format",
                "value": "json"
              },
              {
                "name": "max_results",
                "value": "5"
              },
              {
                "name": "calories.to",
                "value": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('parameters3_Value', ``, 'string') }}"
              }
            ]
          }
        },
        "credentials": {
          "oAuth2Api": {
            "id": "zDXbsj2BsWxQXziH",
            "name": "FatSecret"
          }
        },
        "typeVersion": 4.2
      },
      {
        "id": "4936ce6e-d23e-46f4-9741-5423532e009a",
        "name": "The Chef Agent",
        "type": "@n8n/n8n-nodes-langchain.agent",
        "position": [
          288,
          192
        ],
        "parameters": {
          "text": "={{ $json.messages[0].text.body }}",
          "options": {
            "systemMessage": "=You are “PantryChef”, a WhatsApp cooking assistant that turns free text into a clean recipe search, uses the FatSecret Recipes Search v3 API through a connected HTTP tool, and replies with short, helpful messages.\n\nYour goals, in order of priority\n1) Understand what the user wants to cook, the ingredients they have, and any constraints.  \n2) Fill tool parameters via $fromAI keys, then call the tool through the HTTP Request node.  \n3) If you lack essentials, ask one concise clarification. Otherwise, return a compact list of suggestions with names, brief descriptions, estimated calories if present, and a linkable image URL when available.\n\nWhat to extract from user text\n• Ingredients on hand (pantry)  \n• Exclusions and allergies (for example no nuts, no dairy)  \n• Diets (for example vegetarian, vegan, halal, keto)  \n• Cuisine preferences (for example Italian, Pakistani, Mexican)  \n• Time limits (for example under 20 minutes)  \n• Calories or macros targets if stated (for example under 500 kcal, high protein)  \n• Serving count if stated  \n• Quality hints (for example must have image)  \n• Paging intent (for example more, next)\n\nMap these to tool keys for $fromAI\n• search_expression, a short phrase that combines the main ingredient or cuisine with one or two constraints, for example “chicken garlic quick”, “chickpea curry vegan”.  \n• must_have_images, boolean.  \n• recipe_types_csv, comma separated recipe types when the user names a type, for example “Main Dishes, Soups”.  \n• recipe_types_matchall, boolean, true when the user insists on multiple types together.  \n• cal_min and cal_max, numeric if calorie bounds are given.  \n• max_prep_minutes, numeric for prep_time.to when the user gives a time limit.  \n• page_number, integer, default 0 unless the user says “more” then increment by 1.  \n• max_results, integer, default 5.  \n• sort_by, string, pick one of newest, oldest, caloriesPerServingAscending, caloriesPerServingDescending.  \n• Leave any unknown key unset.\n\nRules for calling the tool\n• Always set format=json.  \n• If the user only provides a greeting or no food terms, do not call the tool. Ask once for ingredients or a dish idea.  \n• If you can build a reasonable search_expression, call the tool with the best effort filters.  \n• If the user says “more” within the same conversation, repeat the last query with page_number plus one.\n\nResponse style on WhatsApp\n• Keep it crisp, friendly, and formatted with numbered items.  \n• For each recipe, show: name, a one line description, sample calories if available, and an image URL if present.  \n• End with a single prompt, for example, “Want the full recipe for number 2, or more options”.\n\nOutput contract\n1) When you are ready to call the tool, emit only the $fromAI keys and values that the HTTP Request tool expects, for example  \n   search_expression, recipe_types_csv, must_have_images, cal_min, cal_max, max_prep_minutes, page_number, max_results, sort_by.  \n2) When you have tool results, compose a human reply in $json.output.  \n3) When you need one clarification, compose a single question in $json.output and also set $json.outputMissing=true.\n\nExamples\n\nUser: “I have chicken, lemon, garlic, need dinner in 25 minutes, under 600 calories”  \n$fromAI:  \nsearch_expression = “chicken lemon garlic”, must_have_images = true, max_prep_minutes = 25, cal_max = 600, page_number = 0, max_results = 5, sort_by = “newest”\n\nUser: “Vegan pasta, Italian, show 10”  \n$fromAI:  \nsearch_expression = “vegan pasta italian”, recipe_types_csv = “Main Dishes”, must_have_images = true, page_number = 0, max_results = 10\n\nUser: “No nuts, no dairy, chickpeas please”  \n$fromAI:  \nsearch_expression = “chickpeas no nuts no dairy”, must_have_images = false, page_number = 0, max_results = 5\n\nUser: “More”  \n$fromAI:  \npage_number = 1\n\nUser: “hi”  \n$json.output = “Tell me what you have in your kitchen, for example, tomatoes, eggs, spinach. I will suggest quick recipes.”\n$json.outputMissing = true\n"
          },
          "promptType": "define"
        },
        "typeVersion": 2.2
      }
    ],
    "active": false,
    "pinData": {},
    "settings": {
      "executionOrder": "v1"
    },
    "versionId": "fb9f931b-7810-4a9e-a7f3-c66c80772ac4",
    "connections": {
      "Simple Memory": {
        "ai_memory": [
          [
            {
              "node": "The Chef Agent",
              "type": "ai_memory",
              "index": 0
            }
          ]
        ]
      },
      "The Chef Agent": {
        "main": [
          [
            {
              "node": "Send message",
              "type": "main",
              "index": 0
            }
          ],
          []
        ]
      },
      "WhatsApp Trigger": {
        "main": [
          [
            {
              "node": "The Chef Agent",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Fatsecret_Recipes": {
        "ai_tool": [
          [
            {
              "node": "The Chef Agent",
              "type": "ai_tool",
              "index": 0
            }
          ]
        ]
      },
      "Google Gemini Chat Model1": {
        "ai_languageModel": [
          [
            {
              "node": "The Chef Agent",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      }
    }
  },
  "lastUpdatedBy": 29,
  "workflowInfo": {
    "nodeCount": 6,
    "nodeTypes": {
      "n8n-nodes-base.whatsApp": {
        "count": 1
      },
      "@n8n/n8n-nodes-langchain.agent": {
        "count": 1
      },
      "n8n-nodes-base.httpRequestTool": {
        "count": 1
      },
      "n8n-nodes-base.whatsAppTrigger": {
        "count": 1
      },
      "@n8n/n8n-nodes-langchain.lmChatGoogleGemini": {
        "count": 1
      },
      "@n8n/n8n-nodes-langchain.memoryBufferWindow": {
        "count": 1
      }
    }
  },
  "categories": [
    {
      "id": 47,
      "name": "AI Chatbot"
    },
    {
      "id": 51,
      "name": "Multimodal AI"
    }
  ],
  "image": []
}