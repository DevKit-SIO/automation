{
  "id": 7402,
  "name": "Recursive Google Drive Folder Duplicator with Permission Preservation",
  "totalViews": 28,
  "purchaseUrl": null,
  "user": {
    "name": "Annie To",
    "username": "annieth",
    "bio": "",
    "verified": false,
    "links": [],
    "avatar": "https://gravatar.com/avatar/9f3f9599007d5c6299f073f5ade2d510f7e21c1689a99304c647264948e10f01?r=pg&d=retro&size=200"
  },
  "description": "# Google Drive Folder Duplicator\n\n**This n8n workflow creates a complete recursive copy of any Google Drive folder, preserving the entire folder structure, all files, and sharing permissions.**\n\n## What It Does\n\n- Duplicates folders with unlimited nested subfolders\n- Copies all files maintaining original names and metadata\n- Preserves sharing permissions (users, groups, domains)\n- Creates identical folder hierarchy in target location\n\n## How It Works\n\n1. Initialize: Sets source/target folders and creates main destination folder\n2. Recursive Processing: Scans each folder level, splits files from subfolders\n3. File Handling: Copies files and applies original permissions\n4. Folder Handling: Creates subfolders and applies original permissions\n5. Self-Recursion: Calls itself for each subfolder to process unlimited nested levels\n\n## Key Features\n\n- Unlimited Depth: Handles any number of nested folder levels\n- Permission Preservation: Maintains exact sharing settings\n\n## Requirements\n\nGoogle Drive OAuth2 credentials with drive access",
  "createdAt": "2025-08-14T22:01:05.410Z",
  "nodes": [
    {
      "id": 20,
      "icon": "fa:map-signs",
      "name": "n8n-nodes-base.if",
      "codex": {
        "data": {
          "alias": [
            "Router",
            "Filter",
            "Condition",
            "Logic",
            "Boolean",
            "Branch"
          ],
          "details": "The IF node can be used to implement binary conditional logic in your workflow. You can set up one-to-many conditions to evaluate each item of data being inputted into the node. That data will either evaluate to TRUE or FALSE and route out of the node accordingly.\n\nThis node has multiple types of conditions: Bool, String, Number, and Date & Time.",
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                "icon": "üè≠",
                "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
              },
              {
                "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                "icon": "‚òÄÔ∏è",
                "label": "2021: The Year to Automate the New You with n8n"
              },
              {
                "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                "icon": "üß¨",
                "label": "Why business process automation with n8n can change your daily life"
              },
              {
                "url": "https://n8n.io/blog/create-a-toxic-language-detector-for-telegram/",
                "icon": "ü§¨",
                "label": "Create a toxic language detector for Telegram in 4 step"
              },
              {
                "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                "icon": "store",
                "label": "6 e-commerce workflows to power up your Shopify s"
              },
              {
                "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                "icon": "üîó",
                "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
              },
              {
                "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                "icon": "‚öôÔ∏è",
                "label": "Automate your data processing pipeline in 9 steps"
              },
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "üë•",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                "icon": "‚ö°Ô∏è",
                "label": "5 tasks you can automate with the new Notion API "
              },
              {
                "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                "icon": "üí°",
                "label": "15 Google apps you can combine and automate to increase productivity"
              },
              {
                "url": "https://n8n.io/blog/automation-for-maintainers-of-open-source-projects/",
                "icon": "üè∑Ô∏è",
                "label": "How to automatically manage contributions to open-source projects"
              },
              {
                "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                "icon": " üï∏Ô∏è",
                "label": "How uProc scraped a multi-page website with a low-code workflow"
              },
              {
                "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                "icon": "ü§ñ",
                "label": "5 workflow automations for Mattermost that we love at n8n"
              },
              {
                "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                "icon": "üß†",
                "label": "Why this Product Manager loves workflow automation with n8n"
              },
              {
                "url": "https://n8n.io/blog/sending-automated-congratulations-with-google-sheets-twilio-and-n8n/",
                "icon": "üôå",
                "label": "Sending Automated Congratulations with Google Sheets, Twilio, and n8n "
              },
              {
                "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                "icon": "üé°",
                "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
              },
              {
                "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                "icon": "üéñ",
                "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.if/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Flow"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "If",
        "color": "#408000"
      },
      "iconData": {
        "icon": "map-signs",
        "type": "icon"
      },
      "displayName": "If",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 38,
      "icon": "fa:pen",
      "name": "n8n-nodes-base.set",
      "codex": {
        "data": {
          "alias": [
            "Set",
            "JS",
            "JSON",
            "Filter",
            "Transform",
            "Map"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                "icon": "üè≠",
                "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
              },
              {
                "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                "icon": "‚òÄÔ∏è",
                "label": "2021: The Year to Automate the New You with n8n"
              },
              {
                "url": "https://n8n.io/blog/automatically-pulling-and-visualizing-data-with-n8n/",
                "icon": "üìà",
                "label": "Automatically pulling and visualizing data with n8n"
              },
              {
                "url": "https://n8n.io/blog/database-monitoring-and-alerting-with-n8n/",
                "icon": "üì°",
                "label": "Database Monitoring and Alerting with n8n"
              },
              {
                "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                "icon": "üßæ",
                "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
              },
              {
                "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                "icon": "store",
                "label": "6 e-commerce workflows to power up your Shopify s"
              },
              {
                "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                "icon": "üîó",
                "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
              },
              {
                "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                "icon": "‚öôÔ∏è",
                "label": "Automate your data processing pipeline in 9 steps"
              },
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "üë•",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                "icon": "‚ö°Ô∏è",
                "label": "5 tasks you can automate with the new Notion API "
              },
              {
                "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                "icon": "üí°",
                "label": "15 Google apps you can combine and automate to increase productivity"
              },
              {
                "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                "icon": " üï∏Ô∏è",
                "label": "How uProc scraped a multi-page website with a low-code workflow"
              },
              {
                "url": "https://n8n.io/blog/building-an-expense-tracking-app-in-10-minutes/",
                "icon": "üì±",
                "label": "Building an expense tracking app in 10 minutes"
              },
              {
                "url": "https://n8n.io/blog/the-ultimate-guide-to-automate-your-video-collaboration-with-whereby-mattermost-and-n8n/",
                "icon": "üìπ",
                "label": "The ultimate guide to automate your video collaboration with Whereby, Mattermost, and n8n"
              },
              {
                "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                "icon": "ü§ñ",
                "label": "5 workflow automations for Mattermost that we love at n8n"
              },
              {
                "url": "https://n8n.io/blog/learn-to-build-powerful-api-endpoints-using-webhooks/",
                "icon": "üß∞",
                "label": "Learn to Build Powerful API Endpoints Using Webhooks"
              },
              {
                "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                "icon": "üìà",
                "label": "How a Membership Development Manager automates his work and investments"
              },
              {
                "url": "https://n8n.io/blog/a-low-code-bitcoin-ticker-built-with-questdb-and-n8n-io/",
                "icon": "üìà",
                "label": "A low-code bitcoin ticker built with QuestDB and n8n.io"
              },
              {
                "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                "icon": "üé°",
                "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
              },
              {
                "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                "icon": "üéñ",
                "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
              },
              {
                "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                "icon": "üõµ",
                "label": "How Goomer automated their operations with over 200 n8n workflows"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.set/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Data Transformation"
            ]
          }
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Edit Fields"
      },
      "iconData": {
        "icon": "pen",
        "type": "icon"
      },
      "displayName": "Edit Fields (Set)",
      "typeVersion": 3,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 58,
      "icon": "file:googleDrive.svg",
      "name": "n8n-nodes-base.googleDrive",
      "codex": {
        "data": {
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/your-business-doesnt-need-you-to-operate/",
                "icon": " üñ•Ô∏è",
                "label": "Hey founders! Your business doesn't need you to operate"
              },
              {
                "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                "icon": "üß†",
                "label": "Why this Product Manager loves workflow automation with n8n"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googledrive/"
              }
            ],
            "credentialDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/credentials/google/oauth-single-service/"
              }
            ]
          },
          "categories": [
            "Data & Storage"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0"
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Google Drive"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiB2aWV3Qm94PSIwIDAgODEgNzMiPjx1c2UgeGxpbms6aHJlZj0iI2EiIHg9Ii41IiB5PSIuNSIvPjxzeW1ib2wgaWQ9ImEiIG92ZXJmbG93PSJ2aXNpYmxlIj48ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSI+PHBhdGggZmlsbD0iIzAwNjZkYSIgZD0ibTYuMDQ4IDYxLjI2IDMuNTI4IDYuMDk0Yy43MzMgMS4yODMgMS43ODcgMi4yOTEgMy4wMjQgMy4wMjRsMTIuNi0yMS44MUgwYTguMyA4LjMgMCAwIDAgMS4xIDQuMTI0eiIvPjxwYXRoIGZpbGw9IiMwMGFjNDciIGQ9Ik00MCAyMi45MSAyNy40IDEuMWMtMS4yMzcuNzMzLTIuMjkxIDEuNzQxLTMuMDI0IDMuMDI0TDEuMSA0NC40NDVBOC4zIDguMyAwIDAgMCAwIDQ4LjU2OGgyNS4yeiIvPjxwYXRoIGZpbGw9IiNlYTQzMzUiIGQ9Ik02Ny40IDcwLjM3OGMxLjIzNy0uNzMzIDIuMjkxLTEuNzQxIDMuMDI0LTMuMDI0bDEuNDY2LTIuNTIgNy4wMS0xMi4xNDJhOC4zIDguMyAwIDAgMCAxLjEtNC4xMjRINTQuNzk4bDUuMzYzIDEwLjUzOHoiLz48cGF0aCBmaWxsPSIjMDA4MzJkIiBkPSJNNDAgMjIuOTEgNTIuNiAxLjFDNTEuMzYzLjM2NyA0OS45NDMgMCA0OC40NzcgMEgzMS41MjRjLTEuNDY2IDAtMi44ODcuNDEyLTQuMTI0IDEuMXoiLz48cGF0aCBmaWxsPSIjMjY4NGZjIiBkPSJNNTQuNzk5IDQ4LjU2OEgyNS4ybC0xMi42IDIxLjgxYzEuMjM3LjczMyAyLjY1NyAxLjEgNC4xMjQgMS4xaDQ2LjU1MmMxLjQ2NiAwIDIuODg3LS40MTIgNC4xMjQtMS4xeiIvPjxwYXRoIGZpbGw9IiNmZmJhMDAiIGQ9Ik02Ny4yNjIgMjQuMjg0IDU1LjYyNCA0LjEyNEM1NC44OTEgMi44NDEgNTMuODM3IDEuODMzIDUyLjYgMS4xTDQwIDIyLjkxbDE0LjggMjUuNjU5aDI1LjE1NWE4LjMgOC4zIDAgMCAwLTEuMS00LjEyNHoiLz48L2c+PC9zeW1ib2w+PC9zdmc+"
      },
      "displayName": "Google Drive",
      "typeVersion": 3,
      "nodeCategories": [
        {
          "id": 3,
          "name": "Data & Storage"
        }
      ]
    },
    {
      "id": 111,
      "icon": "fa:sign-in-alt",
      "name": "n8n-nodes-base.executeWorkflow",
      "codex": {
        "data": {
          "alias": [
            "n8n",
            "call",
            "sub",
            "workflow",
            "sub-workflow",
            "subworkflow"
          ],
          "details": "The Execute Workflow node can be used when you want your workflow to treat another workflow as a step in your flow. It allows you to modularize your workflows and have a single source of truth for series of actions you perform often. ",
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.executeworkflow/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers",
              "Flow"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Execute Workflow",
        "color": "#ff6d5a"
      },
      "iconData": {
        "icon": "sign-in-alt",
        "type": "icon"
      },
      "displayName": "Execute Sub-workflow",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 565,
      "icon": "fa:sticky-note",
      "name": "n8n-nodes-base.stickyNote",
      "codex": {
        "data": {
          "alias": [
            "Comments",
            "Notes",
            "Sticky"
          ],
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Sticky Note",
        "color": "#FFD233"
      },
      "iconData": {
        "icon": "sticky-note",
        "type": "icon"
      },
      "displayName": "Sticky Note",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 834,
      "icon": "file:code.svg",
      "name": "n8n-nodes-base.code",
      "codex": {
        "data": {
          "alias": [
            "cpde",
            "Javascript",
            "JS",
            "Python",
            "Script",
            "Custom Code",
            "Function"
          ],
          "details": "The Code node allows you to execute JavaScript in your workflow.",
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.code/"
              }
            ]
          },
          "categories": [
            "Development",
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers",
              "Data Transformation"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Code"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xMTcxXzQ0MSkiPgo8cGF0aCBkPSJNMTcwLjI4MyA0OEgxOTYuNUMyMDMuMTI3IDQ4IDIwOC41IDQyLjYyNzQgMjA4LjUgMzZWMTJDMjA4LjUgNS4zNzI1OCAyMDMuMTI3IDAgMTk2LjUgMEgxNzAuMjgzQzEyNi4xIDAgOTAuMjgzIDM1LjgxNzIgOTAuMjgzIDgwVjE3NkM5MC4yODMgMjA2LjkyOCA2NS4yMTA5IDIzMiAzNC4yODMgMjMySDIzQzE2LjM3MjYgMjMyIDExIDIzNy4zNzIgMTEgMjQ0VjI2OEMxMSAyNzQuNjI3IDE2LjM3MjQgMjgwIDIyLjk5OTYgMjgwTDM0LjI4MyAyODBDNjUuMjEwOSAyODAgOTAuMjgzIDMwNS4wNzIgOTAuMjgzIDMzNlY0NDBDOTAuMjgzIDQ3OS43NjQgMTIyLjUxOCA1MTIgMTYyLjI4MyA1MTJIMTk2LjVDMjAzLjEyNyA1MTIgMjA4LjUgNTA2LjYyNyAyMDguNSA1MDBWNDc2QzIwOC41IDQ2OS4zNzMgMjAzLjEyNyA0NjQgMTk2LjUgNDY0SDE2Mi4yODNDMTQ5LjAyOCA0NjQgMTM4LjI4MyA0NTMuMjU1IDEzOC4yODMgNDQwVjMzNkMxMzguMjgzIDMwOS4wMjIgMTI4LjAxMSAyODQuNDQzIDExMS4xNjQgMjY1Ljk2MUMxMDYuMTA5IDI2MC40MTYgMTA2LjEwOSAyNTEuNTg0IDExMS4xNjQgMjQ2LjAzOUMxMjguMDExIDIyNy41NTcgMTM4LjI4MyAyMDIuOTc4IDEzOC4yODMgMTc2VjgwQzEzOC4yODMgNjIuMzI2OSAxNTIuNjEgNDggMTcwLjI4MyA0OFoiIGZpbGw9IiNGRjk5MjIiLz4KPHBhdGggZD0iTTMwNSAzNkMzMDUgNDIuNjI3NCAzMTAuMzczIDQ4IDMxNyA0OEgzNDIuOTc5QzM2MC42NTIgNDggMzc0Ljk3OCA2Mi4zMjY5IDM3NC45NzggODBWMTc2QzM3NC45NzggMjAyLjk3OCAzODUuMjUxIDIyNy41NTcgNDAyLjA5OCAyNDYuMDM5QzQwNy4xNTMgMjUxLjU4NCA0MDcuMTUzIDI2MC40MTYgNDAyLjA5OCAyNjUuOTYxQzM4NS4yNTEgMjg0LjQ0MyAzNzQuOTc4IDMwOS4wMjIgMzc0Ljk3OCAzMzZWNDMyQzM3NC45NzggNDQ5LjY3MyAzNjAuNjUyIDQ2NCAzNDIuOTc5IDQ2NEgzMTdDMzEwLjM3MyA0NjQgMzA1IDQ2OS4zNzMgMzA1IDQ3NlY1MDBDMzA1IDUwNi42MjcgMzEwLjM3MyA1MTIgMzE3IDUxMkgzNDIuOTc5QzM4Ny4xNjEgNTEyIDQyMi45NzggNDc2LjE4MyA0MjIuOTc4IDQzMlYzMzZDNDIyLjk3OCAzMDUuMDcyIDQ0OC4wNTEgMjgwIDQ3OC45NzkgMjgwSDQ5MEM0OTYuNjI3IDI4MCA1MDIgMjc0LjYyOCA1MDIgMjY4VjI0NEM1MDIgMjM3LjM3MyA0OTYuNjI4IDIzMiA0OTAgMjMyTDQ3OC45NzkgMjMyQzQ0OC4wNTEgMjMyIDQyMi45NzggMjA2LjkyOCA0MjIuOTc4IDE3NlY4MEM0MjIuOTc4IDM1LjgxNzIgMzg3LjE2MSAwIDM0Mi45NzkgMEgzMTdDMzEwLjM3MyAwIDMwNSA1LjM3MjU4IDMwNSAxMlYzNloiIGZpbGw9IiNGRjk5MjIiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xMTcxXzQ0MSI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="
      },
      "displayName": "Code",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 5,
          "name": "Development"
        },
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 844,
      "icon": "fa:filter",
      "name": "n8n-nodes-base.filter",
      "codex": {
        "data": {
          "alias": [
            "Router",
            "Filter",
            "Condition",
            "Logic",
            "Boolean",
            "Branch"
          ],
          "details": "The Filter node can be used to filter items based on a condition. If the condition is met, the item will be passed on to the next node. If the condition is not met, the item will be omitted. Conditions can be combined together by AND(meet all conditions), or OR(meet at least one condition).",
          "resources": {
            "generic": [],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.filter/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Flow",
              "Data Transformation"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Filter",
        "color": "#229eff"
      },
      "iconData": {
        "icon": "filter",
        "type": "icon"
      },
      "displayName": "Filter",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    }
  ],
  "views": 28,
  "recentViews": 1,
  "workflow": {
    "meta": {
      "instanceId": "54727bff0f5eeffb7bf9295509a4e3003a61b32ef52459f329ae99e7b5243230",
      "templateCredsSetupCompleted": true
    },
    "nodes": [
      {
        "id": "4a36d370-4d43-4090-a8e0-6e2002550bfc",
        "name": "Set Configuration",
        "type": "n8n-nodes-base.set",
        "position": [
          -1328,
          7968
        ],
        "parameters": {
          "values": {
            "string": [
              {
                "name": "sourceFolderId",
                "value": "1RdenWIrighEr6S53e25CkwYmUa7jAFjq"
              },
              {
                "name": "targetFolderId",
                "value": "13BQRVwg2QFGFRJstRzUt0CoO5w8bpS1I"
              },
              {
                "name": "newFolderName",
                "value": "Duplicated Folder"
              }
            ]
          },
          "options": {}
        },
        "typeVersion": 1
      },
      {
        "id": "4107d258-363c-4bf9-b5bf-3cfa2a8e7f8e",
        "name": "Create Main Folder",
        "type": "n8n-nodes-base.googleDrive",
        "position": [
          -1168,
          7968
        ],
        "parameters": {
          "name": "={{ $json.newFolderName }}",
          "driveId": {
            "__rl": true,
            "mode": "id",
            "value": "={{ $json.targetFolderId }}"
          },
          "options": {},
          "folderId": {
            "__rl": true,
            "mode": "list",
            "value": "root",
            "cachedResultName": "/ (Root folder)"
          },
          "resource": "folder"
        },
        "credentials": {
          "googleDriveOAuth2Api": {
            "id": "t01llYvLZwTdfjby",
            "name": "Google Drive account 3"
          }
        },
        "typeVersion": 3
      },
      {
        "id": "5b2cdf23-9f31-4668-a5cc-0dd2d6b94129",
        "name": "Start Recursive Processing",
        "type": "n8n-nodes-base.executeWorkflow",
        "position": [
          -1008,
          7968
        ],
        "parameters": {
          "options": {},
          "workflowId": {
            "__rl": true,
            "mode": "id",
            "value": "{{ $workflow.id }}"
          },
          "workflowInputs": {
            "value": {
              "sourceFolderId": "={{ $node['Set Configuration'].json.sourceFolderId }}",
              "targetFolderId": "={{ $json.id }}"
            },
            "schema": [
              {
                "id": "sourceFolderId",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "sourceFolderId",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "targetFolderId",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "targetFolderId",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              }
            ],
            "mappingMode": "defineBelow",
            "matchingColumns": [],
            "attemptToConvertTypes": false,
            "convertFieldsToString": true
          }
        },
        "typeVersion": 1.2
      },
      {
        "id": "59abdaa3-b57e-4c75-a07e-1b8e720fb5ac",
        "name": "Main Completion",
        "type": "n8n-nodes-base.set",
        "position": [
          -848,
          7968
        ],
        "parameters": {
          "values": {
            "string": [
              {
                "name": "status",
                "value": "Main folder duplication completed successfully"
              },
              {
                "name": "sourceFolder",
                "value": "={{ $node['Set Configuration'].json.sourceFolderId }}"
              },
              {
                "name": "newMainFolder",
                "value": "={{ $node['Create Main Folder'].json.id }}"
              }
            ]
          },
          "options": {}
        },
        "typeVersion": 1
      },
      {
        "id": "62d4d9eb-7c1d-48c8-bf0b-55269ee4caeb",
        "name": "Prepare File Data",
        "type": "n8n-nodes-base.set",
        "position": [
          -864,
          8448
        ],
        "parameters": {
          "values": {
            "string": [
              {
                "name": "originalFileId",
                "value": "={{ $node['Filter Files Only1'].json.id }}"
              },
              {
                "name": "originalPermissions",
                "value": "={{ JSON.stringify($node['Filter Files Only1'].json.permissions || []) }}"
              },
              {
                "name": "newFileId",
                "value": "={{ $json.id }}"
              }
            ]
          },
          "options": {}
        },
        "typeVersion": 1
      },
      {
        "id": "27f8d8ca-96ab-41e8-96db-33afdbd63959",
        "name": "Recursive Call to Self",
        "type": "n8n-nodes-base.executeWorkflow",
        "position": [
          -160,
          8656
        ],
        "parameters": {
          "options": {},
          "workflowId": {
            "__rl": true,
            "mode": "id",
            "value": "{{ $workflow.id }}"
          },
          "workflowInputs": {
            "value": {
              "sourceFolderId": "={{ $json.originalFolderId }}",
              "targetFolderId": "={{ $json.newFolderId }}"
            },
            "schema": [
              {
                "id": "sourceFolderId",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "sourceFolderId",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              },
              {
                "id": "targetFolderId",
                "type": "string",
                "display": true,
                "required": false,
                "displayName": "targetFolderId",
                "defaultMatch": false,
                "canBeUsedToMatch": true
              }
            ],
            "mappingMode": "defineBelow",
            "matchingColumns": [],
            "attemptToConvertTypes": false,
            "convertFieldsToString": true
          }
        },
        "typeVersion": 1.2
      },
      {
        "id": "15343d75-5c61-4de7-9ce4-4250ceccc03d",
        "name": "Level Completion",
        "type": "n8n-nodes-base.set",
        "position": [
          64,
          8464
        ],
        "parameters": {
          "values": {
            "string": [
              {
                "name": "status",
                "value": "Level processing completed"
              }
            ]
          },
          "options": {}
        },
        "typeVersion": 1
      },
      {
        "id": "0221146d-05a2-4c8f-a812-8b7ebe3e6a1c",
        "name": "Search Folder Contents1",
        "type": "n8n-nodes-base.googleDrive",
        "position": [
          -1344,
          8544
        ],
        "parameters": {
          "filter": {},
          "options": {
            "fields": [
              "id",
              "name",
              "mimeType",
              "permissions"
            ]
          },
          "resource": "fileFolder",
          "returnAll": true,
          "queryString": "'{{ $json.sourceFolderId }}' in parents and trashed = false",
          "searchMethod": "query"
        },
        "credentials": {
          "googleDriveOAuth2Api": {
            "id": "t01llYvLZwTdfjby",
            "name": "Google Drive account 3"
          }
        },
        "typeVersion": 3
      },
      {
        "id": "b437a057-3931-4c8e-ab6b-fab0f9f117dc",
        "name": "Filter Files Only1",
        "type": "n8n-nodes-base.filter",
        "position": [
          -1184,
          8448
        ],
        "parameters": {
          "conditions": {
            "string": [
              {
                "value1": "={{ $json.mimeType }}",
                "value2": "application/vnd.google-apps.folder",
                "operation": "notEqual"
              }
            ]
          }
        },
        "typeVersion": 1
      },
      {
        "id": "ce118b58-cd56-4eaf-adea-e2e117eec17e",
        "name": "Filter Folders Only1",
        "type": "n8n-nodes-base.filter",
        "position": [
          -1184,
          8640
        ],
        "parameters": {
          "conditions": {
            "string": [
              {
                "value1": "={{ $json.mimeType }}",
                "value2": "application/vnd.google-apps.folder"
              }
            ]
          }
        },
        "typeVersion": 1
      },
      {
        "id": "4b80da29-fc25-48db-8aed-0f8c5ef13526",
        "name": "Copy File1",
        "type": "n8n-nodes-base.googleDrive",
        "position": [
          -1024,
          8448
        ],
        "parameters": {
          "name": "={{ $json.name }}",
          "fileId": {
            "__rl": true,
            "mode": "id",
            "value": "={{ $json.id }}"
          },
          "driveId": {
            "__rl": true,
            "mode": "id",
            "value": "={{ $node['Start'].json.targetFolderId }}"
          },
          "options": {},
          "folderId": {
            "__rl": true,
            "mode": "list",
            "value": "root",
            "cachedResultName": "/ (Root folder)"
          },
          "operation": "copy",
          "sameFolder": false
        },
        "credentials": {
          "googleDriveOAuth2Api": {
            "id": "t01llYvLZwTdfjby",
            "name": "Google Drive account 3"
          }
        },
        "typeVersion": 3
      },
      {
        "id": "38835c99-1d5c-4571-a505-ac3a57db699b",
        "name": "Check File Has Permissions1",
        "type": "n8n-nodes-base.if",
        "position": [
          -704,
          8448
        ],
        "parameters": {
          "conditions": {
            "string": [
              {
                "value1": "={{ JSON.parse($json.originalPermissions || '[]').length }}",
                "value2": "0",
                "operation": "larger"
              }
            ]
          }
        },
        "typeVersion": 1
      },
      {
        "id": "9c25ddac-17de-45c9-b106-e13e740f8385",
        "name": "Prepare File Permissions1",
        "type": "n8n-nodes-base.code",
        "position": [
          -512,
          8272
        ],
        "parameters": {
          "jsCode": "const data = $input.first().json;\nconst newFileId = data.newFileId;\nconst originalPermissions = JSON.parse(data.originalPermissions || '[]');\nconst permissionsToApply = [];\nif (originalPermissions.length > 0) {\n  for (const permission of originalPermissions) {\n    if (permission.role !== 'owner' && permission.type && permission.role) {\n      const permObj = {\n        fileId: newFileId,\n        type: permission.type,\n        role: permission.role\n      };\n      if (permission.type === 'user' || permission.type === 'group') {\n        if (permission.emailAddress) {\n          permObj.emailAddress = permission.emailAddress;\n        }\n      } else if (permission.type === 'domain') {\n        if (permission.domain) {\n          permObj.domain = permission.domain;\n        }\n      }\n      permissionsToApply.push(permObj);\n    }\n  }\n}\nif (permissionsToApply.length > 0) {\n  return permissionsToApply.map(p => ({ json: p }));\n} else {\n  return [];\n}"
        },
        "typeVersion": 2
      },
      {
        "id": "b2927eae-9f20-49ab-a60b-8fc5e6784cdb",
        "name": "Apply File Permission1",
        "type": "n8n-nodes-base.googleDrive",
        "position": [
          -352,
          8272
        ],
        "parameters": {
          "fileId": "={{ $json.fileId }}",
          "options": {
            "sendNotificationEmail": false
          },
          "operation": "share",
          "permissionsUi": {
            "permissionsValues": {}
          }
        },
        "credentials": {
          "googleDriveOAuth2Api": {
            "id": "t01llYvLZwTdfjby",
            "name": "Google Drive account 3"
          }
        },
        "typeVersion": 3
      },
      {
        "id": "bc443b2f-cc4b-4474-a78c-1d2ec1e4f500",
        "name": "Create Subfolder1",
        "type": "n8n-nodes-base.googleDrive",
        "position": [
          -1024,
          8640
        ],
        "parameters": {
          "name": "={{ $json.name }}",
          "driveId": {
            "__rl": true,
            "mode": "id",
            "value": "={{ $node['Start'].json.targetFolderId }}"
          },
          "options": {},
          "folderId": {
            "__rl": true,
            "mode": "list",
            "value": "root",
            "cachedResultName": "/ (Root folder)"
          },
          "resource": "folder"
        },
        "credentials": {
          "googleDriveOAuth2Api": {
            "id": "t01llYvLZwTdfjby",
            "name": "Google Drive account 3"
          }
        },
        "typeVersion": 3
      },
      {
        "id": "01063a74-b9a6-4378-95b3-4dce49690f6f",
        "name": "Prepare Folder Data1",
        "type": "n8n-nodes-base.set",
        "position": [
          -864,
          8640
        ],
        "parameters": {
          "values": {
            "string": [
              {
                "name": "originalFolderId",
                "value": "={{ $node['Filter Folders Only1'].json.id }}"
              },
              {
                "name": "originalPermissions",
                "value": "={{ JSON.stringify($node['Filter Folders Only1'].json.permissions || []) }}"
              },
              {
                "name": "newFolderId",
                "value": "={{ $json.id }}"
              }
            ]
          },
          "options": {}
        },
        "typeVersion": 1
      },
      {
        "id": "d223bee5-58d6-4f38-8eab-9ec0a4101a08",
        "name": "Check Folder Has Permissions1",
        "type": "n8n-nodes-base.if",
        "position": [
          -704,
          8640
        ],
        "parameters": {
          "conditions": {
            "string": [
              {
                "value1": "={{ JSON.parse($json.originalPermissions || '[]').length }}",
                "value2": "0",
                "operation": "larger"
              }
            ]
          }
        },
        "typeVersion": 1
      },
      {
        "id": "e840b153-3754-4fb2-88b9-97a4e675e05c",
        "name": "Prepare Folder Permissions1",
        "type": "n8n-nodes-base.code",
        "position": [
          -512,
          8544
        ],
        "parameters": {
          "jsCode": "const data = $input.first().json;\nconst newFolderId = data.newFolderId;\nconst originalPermissions = JSON.parse(data.originalPermissions || '[]');\nconst permissionsToApply = [];\nif (originalPermissions.length > 0) {\n  for (const permission of originalPermissions) {\n    if (permission.role !== 'owner' && permission.type && permission.role) {\n      const permObj = {\n        fileId: newFolderId,\n        type: permission.type,\n        role: permission.role\n      };\n      if (permission.type === 'user' || permission.type === 'group') {\n        if (permission.emailAddress) {\n          permObj.emailAddress = permission.emailAddress;\n        }\n      } else if (permission.type === 'domain') {\n        if (permission.domain) {\n          permObj.domain = permission.domain;\n        }\n      }\n      permissionsToApply.push(permObj);\n    }\n  }\n}\nif (permissionsToApply.length > 0) {\n  return permissionsToApply.map(p => ({ json: p }));\n} else {\n  return [];\n}"
        },
        "typeVersion": 2
      },
      {
        "id": "f4a0f68a-947a-4f57-b3fd-18a5d819592b",
        "name": "Apply Folder Permission1",
        "type": "n8n-nodes-base.googleDrive",
        "position": [
          -352,
          8544
        ],
        "parameters": {
          "fileId": "={{ $json.fileId }}",
          "options": {
            "sendNotificationEmail": false
          },
          "operation": "share",
          "permissionsUi": {
            "permissionsValues": {}
          }
        },
        "credentials": {
          "googleDriveOAuth2Api": {
            "id": "t01llYvLZwTdfjby",
            "name": "Google Drive account 3"
          }
        },
        "typeVersion": 3
      },
      {
        "id": "c3779818-366b-4a85-9422-8c72d4da956f",
        "name": "Sticky Note",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -1856,
          7664
        ],
        "parameters": {
          "color": 3,
          "width": 368,
          "height": 1200,
          "content": "# Google Drive Folder Duplicator with Permissions\n\n## This workflow creates a complete duplicate of any Google Drive folder\nIncluding:\n- All files and subfolders (recursive)\n- Preserving folder structure\n- Copying sharing permissions\n- Maintaining file metadata\n\n## Use Cases\n- Backup folder structures\n- Template duplication\n- Project archiving\n- Permission-preserved migrations\n\n## Setup Requirements\n\n***1. Google Drive Credentials:***\n* OAuth2 API connection required\n* https://www.googleapis.com/auth/drive\n\n***2. Folder IDs:***\n- Source folder ID (to duplicate)\n- Target parent folder ID (destination)\n\n***3. Permissions:***\n- Read access to source folder\n- Write access to target folder\n- Admin rights for permission copying"
        },
        "typeVersion": 1
      },
      {
        "id": "0720dc37-20be-486e-9e7e-6086927013d1",
        "name": "Sticky Note2",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -1472,
          7664
        ],
        "parameters": {
          "width": 1792,
          "height": 480,
          "content": "## START HERE\n\nConfiguration Hub\n\nThis node sets up the workflow parameters:\n- Source folder to duplicate\n- Target destination folder\n- New folder name\n\nEdit these values before running the workflow."
        },
        "typeVersion": 1
      },
      {
        "id": "6fbd5544-e61b-4cfd-a982-271eed9f45db",
        "name": "Sticky Note3",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -1472,
          8160
        ],
        "parameters": {
          "width": 1792,
          "height": 704,
          "content": "## CORE RECURSIVE ENGINE\n\n1. SCAN: Discovers all folder contents (files + subfolders)\n2. SPLIT: Separates files from folders \n3. COPY: Duplicates files with permissions\n4. CREATE: Makes subfolders with permissions\n5. RECURSE: Calls itself for each subfolder\n\n***UNLIMITED DEPTH RECURSION***\nThe workflow calls itself for every subfolder found, creating an infinite loop that processes ALL nested levels automatically."
        },
        "typeVersion": 1
      }
    ],
    "pinData": {},
    "connections": {
      "Copy File1": {
        "main": [
          [
            {
              "node": "Prepare File Data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Create Subfolder1": {
        "main": [
          [
            {
              "node": "Prepare Folder Data1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Prepare File Data": {
        "main": [
          [
            {
              "node": "Check File Has Permissions1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Set Configuration": {
        "main": [
          [
            {
              "node": "Create Main Folder",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Create Main Folder": {
        "main": [
          [
            {
              "node": "Start Recursive Processing",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Filter Files Only1": {
        "main": [
          [
            {
              "node": "Copy File1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Filter Folders Only1": {
        "main": [
          [
            {
              "node": "Create Subfolder1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Prepare Folder Data1": {
        "main": [
          [
            {
              "node": "Check Folder Has Permissions1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Apply File Permission1": {
        "main": [
          [
            {
              "node": "Level Completion",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Recursive Call to Self": {
        "main": [
          [
            {
              "node": "Level Completion",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Search Folder Contents1": {
        "main": [
          [
            {
              "node": "Filter Files Only1",
              "type": "main",
              "index": 0
            },
            {
              "node": "Filter Folders Only1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Apply Folder Permission1": {
        "main": [
          [
            {
              "node": "Recursive Call to Self",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Prepare File Permissions1": {
        "main": [
          [
            {
              "node": "Apply File Permission1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Start Recursive Processing": {
        "main": [
          [
            {
              "node": "Main Completion",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Check File Has Permissions1": {
        "main": [
          [
            {
              "node": "Prepare File Permissions1",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Level Completion",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Prepare Folder Permissions1": {
        "main": [
          [
            {
              "node": "Apply Folder Permission1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Check Folder Has Permissions1": {
        "main": [
          [
            {
              "node": "Prepare Folder Permissions1",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Recursive Call to Self",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    }
  },
  "lastUpdatedBy": 29,
  "workflowInfo": {
    "nodeCount": 22,
    "nodeTypes": {
      "n8n-nodes-base.if": {
        "count": 2
      },
      "n8n-nodes-base.set": {
        "count": 5
      },
      "n8n-nodes-base.code": {
        "count": 2
      },
      "n8n-nodes-base.filter": {
        "count": 2
      },
      "n8n-nodes-base.stickyNote": {
        "count": 3
      },
      "n8n-nodes-base.googleDrive": {
        "count": 6
      },
      "n8n-nodes-base.executeWorkflow": {
        "count": 2
      }
    }
  },
  "categories": [
    {
      "id": 36,
      "name": "File Management"
    },
    {
      "id": 51,
      "name": "Multimodal AI"
    }
  ],
  "image": []
}