{
  "id": 7939,
  "name": "Deep Research Assistant with Perplexity AI and Telegram Citations",
  "totalViews": 60,
  "price": 0,
  "purchaseUrl": null,
  "user": {
    "name": "David",
    "username": "davids",
    "bio": "",
    "verified": false,
    "links": [],
    "avatar": "https://gravatar.com/avatar/291aa41afa9e1f149dc61255147752b1e8c703f45780832752a7a9fcab45e649?r=pg&d=retro&size=200"
  },
  "description": "**Turn your Telegram bot into a real-time research assistant** with this intelligent n8n workflow. Designed for founders, analysts, and knowledge workers, this automation uses Perplexity Sonar and Sonar Pro to deliver **concise, citation-rich answers** to complex queries ‚Äî directly inside Telegram.\n\n---\n\n**üîç What It Does**\n- **‚úÖ Smart Query Routing**  \n  Automatically selects the right tool based on query complexity ‚Äî Sonar for fast lookups, Sonar Pro for multi-source synthesis.\n\n- **üìö Cited Research Summaries**  \n  Includes clickable URLs from Perplexity‚Äôs source data for transparency and auditability.\n\n- **üß† Session Memory**  \n  Maintains chat context using Telegram chat ID for follow-up questions and threaded insight.\n\n- **üîê Secure Access Filter**  \n  Restricts bot usage to authorized Telegram users.\n\n- **‚öôÔ∏è Customizable Agent Behavior**  \n  Easily adjust tone, tool preferences, and citation style via system message.\n\n---\n\n**üöÄ Use Cases**\n- Market research & competitor analysis  \n- Academic and scientific deep-dives  \n- Legal and transcript summarization  \n- Podcast, video, and trend monitoring  \n- Personal AI assistant for founders and consultants\n\n---\n\n**üõ† Setup Instructions**\n1. Create a Telegram bot via [@BotFather](https://t.me/BotFather) and add your token.  \n2. Add your OpenAI and Perplexity API keys.  \n3. Update the filter node with your Telegram user ID.  \n4. Deploy and start chatting ‚Äî responses appear in Telegram.\n\n",
  "createdAt": "2025-08-27T09:04:37.061Z",
  "nodes": [
    {
      "id": 49,
      "icon": "file:telegram.svg",
      "name": "n8n-nodes-base.telegram",
      "codex": {
        "data": {
          "alias": [
            "human",
            "form",
            "wait",
            "hitl",
            "approval"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                "icon": "üß¨",
                "label": "Why business process automation with n8n can change your daily life"
              },
              {
                "url": "https://n8n.io/blog/create-a-toxic-language-detector-for-telegram/",
                "icon": "ü§¨",
                "label": "Create a toxic language detector for Telegram in 4 step"
              },
              {
                "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                "icon": "üßæ",
                "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
              },
              {
                "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                "icon": "store",
                "label": "6 e-commerce workflows to power up your Shopify s"
              },
              {
                "url": "https://n8n.io/blog/world-poetry-day-workflow/",
                "icon": "üìú",
                "label": "Celebrating World Poetry Day with a daily poem in Telegram"
              },
              {
                "url": "https://n8n.io/blog/using-automation-to-boost-productivity-in-the-workplace/",
                "icon": "üí™",
                "label": "Using Automation to Boost Productivity in the Workplace"
              },
              {
                "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                "icon": "üé°",
                "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
              },
              {
                "url": "https://n8n.io/blog/creating-scheduled-text-affirmations-with-n8n/",
                "icon": "ü§ü",
                "label": "Creating scheduled text affirmations with n8n"
              },
              {
                "url": "https://n8n.io/blog/creating-telegram-bots-with-n8n-a-no-code-platform/",
                "icon": "üí¨",
                "label": "Creating Telegram Bots with n8n, a No-Code Platform"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.telegram/"
              }
            ],
            "credentialDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/credentials/telegram/"
              }
            ]
          },
          "categories": [
            "Communication",
            "HITL"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "HITL": [
              "Human in the Loop"
            ]
          }
        }
      },
      "group": "[\"output\"]",
      "defaults": {
        "name": "Telegram"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiB2aWV3Qm94PSIwIDAgNjYgNjYiPjx1c2UgeGxpbms6aHJlZj0iI2EiIHg9Ii41IiB5PSIuNSIvPjxzeW1ib2wgaWQ9ImEiIG92ZXJmbG93PSJ2aXNpYmxlIj48ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSI+PHBhdGggZmlsbD0iIzM3YWVlMiIgZD0iTTAgMzJjMCAxNy42NzMgMTQuMzI3IDMyIDMyIDMyczMyLTE0LjMyNyAzMi0zMlM0OS42NzMgMCAzMiAwIDAgMTQuMzI3IDAgMzIiLz48cGF0aCBmaWxsPSIjYzhkYWVhIiBkPSJtMjEuNjYxIDM0LjMzOCAzLjc5NyAxMC41MDhzLjQ3NS45ODMuOTgzLjk4MyA4LjA2OC03Ljg2NCA4LjA2OC03Ljg2NGw4LjQwNy0xNi4yMzctMjEuMTE5IDkuODk4eiIvPjxwYXRoIGZpbGw9IiNhOWM2ZDgiIGQ9Im0yNi42OTUgMzcuMDM0LS43MjkgNy43NDZzLS4zMDUgMi4zNzMgMi4wNjggMGw0LjY0NC00LjIwMyIvPjxwYXRoIGQ9Im0yMS43MyAzNC43MTItNy44MDktMi41NDVzLS45MzItLjM3OC0uNjMzLTEuMjM3Yy4wNjItLjE3Ny4xODYtLjMyOC41NTktLjU4OCAxLjczMS0xLjIwNiAzMi4wMjgtMTIuMDk2IDMyLjAyOC0xMi4wOTZzLjg1Ni0uMjg4IDEuMzYxLS4wOTdjLjIzMS4wODguMzc4LjE4Ny41MDMuNTQ4LjA0NS4xMzIuMDcxLjQxMS4wNjguNjg5LS4wMDMuMjAxLS4wMjcuMzg2LS4wNDUuNjc4LS4xODQgMi45NzgtNS43MDYgMjUuMTk4LTUuNzA2IDI1LjE5OHMtLjMzIDEuMy0xLjUxNCAxLjM0NWMtLjQzMi4wMTYtLjk1Ni0uMDcxLTEuNTgyLS42MS0yLjMyMy0xLjk5OC0xMC4zNTItNy4zOTQtMTIuMTI2LTguNThhLjM0LjM0IDAgMCAxLS4xNDYtLjIzOWMtLjAyNS0uMTI1LjEwOC0uMjguMTA4LS4yOHMxMy45OC0xMi40MjcgMTQuMzUyLTEzLjczMWMuMDI5LS4xMDEtLjA3OS0uMTUxLS4yMjYtLjEwNy0uOTI5LjM0Mi0xNy4wMjUgMTAuNTA2LTE4LjgwMSAxMS42MjktLjEwNC4wNjYtLjM5NS4wMjMtLjM5NS4wMjMiLz48L2c+PC9zeW1ib2w+PC9zdmc+"
      },
      "displayName": "Telegram",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 6,
          "name": "Communication"
        },
        {
          "id": 28,
          "name": "HITL"
        }
      ]
    },
    {
      "id": 50,
      "icon": "file:telegram.svg",
      "name": "n8n-nodes-base.telegramTrigger",
      "codex": {
        "data": {
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/create-a-toxic-language-detector-for-telegram/",
                "icon": "ü§¨",
                "label": "Create a toxic language detector for Telegram in 4 step"
              },
              {
                "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                "icon": "üßæ",
                "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
              },
              {
                "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                "icon": "üé°",
                "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
              },
              {
                "url": "https://n8n.io/blog/creating-telegram-bots-with-n8n-a-no-code-platform/",
                "icon": "üí¨",
                "label": "Creating Telegram Bots with n8n, a No-Code Platform"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/trigger-nodes/n8n-nodes-base.telegramtrigger/"
              }
            ],
            "credentialDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/credentials/telegram/"
              }
            ]
          },
          "categories": [
            "Communication"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0"
        }
      },
      "group": "[\"trigger\"]",
      "defaults": {
        "name": "Telegram Trigger"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiB2aWV3Qm94PSIwIDAgNjYgNjYiPjx1c2UgeGxpbms6aHJlZj0iI2EiIHg9Ii41IiB5PSIuNSIvPjxzeW1ib2wgaWQ9ImEiIG92ZXJmbG93PSJ2aXNpYmxlIj48ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSI+PHBhdGggZmlsbD0iIzM3YWVlMiIgZD0iTTAgMzJjMCAxNy42NzMgMTQuMzI3IDMyIDMyIDMyczMyLTE0LjMyNyAzMi0zMlM0OS42NzMgMCAzMiAwIDAgMTQuMzI3IDAgMzIiLz48cGF0aCBmaWxsPSIjYzhkYWVhIiBkPSJtMjEuNjYxIDM0LjMzOCAzLjc5NyAxMC41MDhzLjQ3NS45ODMuOTgzLjk4MyA4LjA2OC03Ljg2NCA4LjA2OC03Ljg2NGw4LjQwNy0xNi4yMzctMjEuMTE5IDkuODk4eiIvPjxwYXRoIGZpbGw9IiNhOWM2ZDgiIGQ9Im0yNi42OTUgMzcuMDM0LS43MjkgNy43NDZzLS4zMDUgMi4zNzMgMi4wNjggMGw0LjY0NC00LjIwMyIvPjxwYXRoIGQ9Im0yMS43MyAzNC43MTItNy44MDktMi41NDVzLS45MzItLjM3OC0uNjMzLTEuMjM3Yy4wNjItLjE3Ny4xODYtLjMyOC41NTktLjU4OCAxLjczMS0xLjIwNiAzMi4wMjgtMTIuMDk2IDMyLjAyOC0xMi4wOTZzLjg1Ni0uMjg4IDEuMzYxLS4wOTdjLjIzMS4wODguMzc4LjE4Ny41MDMuNTQ4LjA0NS4xMzIuMDcxLjQxMS4wNjguNjg5LS4wMDMuMjAxLS4wMjcuMzg2LS4wNDUuNjc4LS4xODQgMi45NzgtNS43MDYgMjUuMTk4LTUuNzA2IDI1LjE5OHMtLjMzIDEuMy0xLjUxNCAxLjM0NWMtLjQzMi4wMTYtLjk1Ni0uMDcxLTEuNTgyLS42MS0yLjMyMy0xLjk5OC0xMC4zNTItNy4zOTQtMTIuMTI2LTguNThhLjM0LjM0IDAgMCAxLS4xNDYtLjIzOWMtLjAyNS0uMTI1LjEwOC0uMjguMTA4LS4yOHMxMy45OC0xMi40MjcgMTQuMzUyLTEzLjczMWMuMDI5LS4xMDEtLjA3OS0uMTUxLS4yMjYtLjEwNy0uOTI5LjM0Mi0xNy4wMjUgMTAuNTA2LTE4LjgwMSAxMS42MjktLjEwNC4wNjYtLjM5NS4wMjMtLjM5NS4wMjMiLz48L2c+PC9zeW1ib2w+PC9zdmc+"
      },
      "displayName": "Telegram Trigger",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 6,
          "name": "Communication"
        }
      ]
    },
    {
      "id": 565,
      "icon": "fa:sticky-note",
      "name": "n8n-nodes-base.stickyNote",
      "codex": {
        "data": {
          "alias": [
            "Comments",
            "Notes",
            "Sticky"
          ],
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Sticky Note",
        "color": "#FFD233"
      },
      "iconData": {
        "icon": "sticky-note",
        "type": "icon"
      },
      "displayName": "Sticky Note",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 844,
      "icon": "fa:filter",
      "name": "n8n-nodes-base.filter",
      "codex": {
        "data": {
          "alias": [
            "Router",
            "Filter",
            "Condition",
            "Logic",
            "Boolean",
            "Branch"
          ],
          "details": "The Filter node can be used to filter items based on a condition. If the condition is met, the item will be passed on to the next node. If the condition is not met, the item will be omitted. Conditions can be combined together by AND(meet all conditions), or OR(meet at least one condition).",
          "resources": {
            "generic": [],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.filter/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Flow",
              "Data Transformation"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Filter",
        "color": "#229eff"
      },
      "iconData": {
        "icon": "filter",
        "type": "icon"
      },
      "displayName": "Filter",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 1119,
      "icon": "fa:robot",
      "name": "@n8n/n8n-nodes-langchain.agent",
      "codex": {
        "data": {
          "alias": [
            "LangChain",
            "Chat",
            "Conversational",
            "Plan and Execute",
            "ReAct",
            "Tools"
          ],
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Agents",
              "Root Nodes"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "AI Agent",
        "color": "#404040"
      },
      "iconData": {
        "icon": "robot",
        "type": "icon"
      },
      "displayName": "AI Agent",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    },
    {
      "id": 1153,
      "icon": "file:openAiLight.svg",
      "name": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "codex": {
        "data": {
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.lmchatopenai/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Language Models",
              "Root Nodes"
            ],
            "Language Models": [
              "Chat Models (Recommended)"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "OpenAI Chat Model"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTM2Ljg2NzEgMTYuMzcxOEMzNy43NzQ2IDEzLjY0OCAzNy40NjIxIDEwLjY2NDIgMzYuMDEwOCA4LjE4NjYxQzMzLjgyODIgNC4zODY1MyAyOS40NDA3IDIuNDMxNDkgMjUuMTU1NiAzLjM1MTUxQzIzLjI0OTMgMS4yMDM5NiAyMC41MTA1IC0wLjAxNzMxNDggMTcuNjM5MiAwLjAwMDE4NTUzM0MxMy4yNTkxIC0wLjAwOTgxNDY4IDkuMzcyNzMgMi44MTAyNSA4LjAyNTIgNi45Nzc4M0M1LjIxMTM5IDcuNTU0MSAyLjc4MjU4IDkuMzE1MzggMS4zNjEzIDExLjgxMTdDLTAuODM3NDkzIDE1LjYwMTggLTAuMzM2MjMyIDIwLjM3OTQgMi42MDEzMyAyMy42Mjk0QzEuNjkzODEgMjYuMzUzMiAyLjAwNjMyIDI5LjMzNzEgMy40NTc2IDMxLjgxNDZDNS42NDAxNSAzNS42MTQ3IDEwLjAyNzcgMzcuNTY5NyAxNC4zMTI4IDM2LjY0OTdDMTYuMjE3OSAzOC43OTczIDE4Ljk1NzkgNDAuMDE4NSAyMS44MjkyIDM5Ljk5OThDMjYuMjExOCA0MC4wMTEgMzAuMDk5NCAzNy4xODg1IDMxLjQ0NjkgMzMuMDE3MUMzNC4yNjA4IDMyLjQ0MDkgMzYuNjg5NiAzMC42Nzk2IDM4LjExMDggMjguMTgzM0M0MC4zMDcxIDI0LjM5MzIgMzkuODA0NiAxOS42MTk0IDM2Ljg2ODMgMTYuMzY5M0wzNi44NjcxIDE2LjM3MThaTTIxLjgzMTcgMzcuMzg2QzIwLjA3OCAzNy4zODg1IDE4LjM3OTIgMzYuNzc0NyAxNy4wMzI5IDM1LjY1MDlDMTcuMDk0MSAzNS42MTg0IDE3LjIwMDQgMzUuNTU5NyAxNy4yNjkxIDM1LjUxNzJMMjUuMjM0MyAzMC45MTcxQzI1LjY0MTggMzAuNjg1OCAyNS44OTE4IDMwLjI1MjEgMjUuODg5MyAyOS43ODMzVjE4LjU1NDNMMjkuMjU1NyAyMC40OTgxQzI5LjI5MTkgMjAuNTE1NiAyOS4zMTU3IDIwLjU1MDYgMjkuMzIwNyAyMC41OTA2VjI5Ljg4OTZDMjkuMzE1NyAzNC4wMjQ3IDI1Ljk2NjggMzcuMzc3MiAyMS44MzE3IDM3LjM4NlpNNS43MjY0IDMwLjUwNzFDNC44NDc2MyAyOC45ODk2IDQuNTMxMzcgMjcuMjEwOCA0LjgzMjYzIDI1LjQ4NDVDNC44OTEzOCAyNS41MTk1IDQuOTk1MTMgMjUuNTgzMiA1LjA2ODg4IDI1LjYyNTdMMTMuMDM0MSAzMC4yMjU4QzEzLjQzNzggMzAuNDYyMSAxMy45Mzc4IDMwLjQ2MjEgMTQuMzQyOCAzMC4yMjU4TDI0LjA2NjggMjQuNjEwN1YyOC40OTgzQzI0LjA2OTMgMjguNTM4MyAyNC4wNTA1IDI4LjU3NyAyNC4wMTkzIDI4LjYwMkwxNS45Njc5IDMzLjI1MDlDMTIuMzgxNSAzNS4zMTU5IDcuODAxNDQgMzQuMDg4NCA1LjcyNzY1IDMwLjUwNzFINS43MjY0Wk0zLjYzMDEgMTMuMTIwNUM0LjUwNTEyIDExLjYwMDQgNS44ODY0IDEwLjQzNzkgNy41MzE0NCA5LjgzNDE1QzcuNTMxNDQgOS45MDI5IDcuNTI3NjkgMTAuMDI0MiA3LjUyNzY5IDEwLjEwOTJWMTkuMzEwNkM3LjUyNTE5IDE5Ljc3ODEgNy43NzUxOSAyMC4yMTE5IDguMTgxNDUgMjAuNDQzMUwxNy45MDU0IDI2LjA1N0wxNC41MzkxIDI4LjAwMDhDMTQuNTA1MyAyOC4wMjMzIDE0LjQ2MjggMjguMDI3IDE0LjQyNTMgMjguMDEwOEw2LjM3MjY2IDIzLjM1ODJDMi43OTM4MyAyMS4yODU2IDEuNTY2MzEgMTYuNzA2OCAzLjYyODg1IDEzLjEyMTdMMy42MzAxIDEzLjEyMDVaTTMxLjI4ODIgMTkuNTU2OUwyMS41NjQyIDEzLjk0MTdMMjQuOTMwNiAxMS45OTkyQzI0Ljk2NDMgMTEuOTc2NyAyNS4wMDY4IDExLjk3MjkgMjUuMDQ0MyAxMS45ODkyTDMzLjA5NyAxNi42MzhDMzYuNjgyMSAxOC43MDkzIDM3LjkxMDggMjMuMjk1NyAzNS44Mzk1IDI2Ljg4MDhDMzQuOTYzMyAyOC4zOTgzIDMzLjU4MzIgMjkuNTYwOCAzMS45Mzk1IDMwLjE2NThWMjAuNjg5NEMzMS45NDMyIDIwLjIyMTkgMzEuNjk0NSAxOS43ODk0IDMxLjI4OTQgMTkuNTU2OUgzMS4yODgyWk0zNC42MzgzIDE0LjUxNDJDMzQuNTc5NSAxNC40NzggMzQuNDc1OCAxNC40MTU1IDM0LjQwMiAxNC4zNzNMMjYuNDM2OCA5Ljc3Mjg5QzI2LjAzMzEgOS41MzY2NCAyNS41MzMxIDkuNTM2NjQgMjUuMTI4MSA5Ljc3Mjg5TDE1LjQwNDEgMTUuMzg4VjExLjUwMDRDMTUuNDAxNiAxMS40NjA0IDE1LjQyMDQgMTEuNDIxNyAxNS40NTE2IDExLjM5NjdMMjMuNTAzIDYuNzUxNThDMjcuMDg5NCA0LjY4Mjc5IDMxLjY3NDUgNS45MTQwNiAzMy43NDIgOS41MDE2NEMzNC42MTU4IDExLjAxNjcgMzQuOTMyIDEyLjc5MDUgMzQuNjM1OCAxNC41MTQySDM0LjYzODNaTTEzLjU3NDEgMjEuNDQzMUwxMC4yMDY1IDE5LjQ5OTRDMTAuMTcwMiAxOS40ODE5IDEwLjE0NjUgMTkuNDQ2OCAxMC4xNDE1IDE5LjQwNjhWMTAuMTA3OUMxMC4xNDQgNS45Njc4MSAxMy41MDI4IDIuNjEyNzQgMTcuNjQyOSAyLjYxNTI0QzE5LjM5NDIgMi42MTUyNCAyMS4wODkyIDMuMjMwMjUgMjIuNDM1NSA0LjM1MDI4QzIyLjM3NDMgNC4zODI3OCAyMi4yNjkzIDQuNDQxNTMgMjIuMTk5MiA0LjQ4NDAzTDE0LjIzNDEgOS4wODQxM0MxMy44MjY2IDkuMzE1MzggMTMuNTc2NiA5Ljc0Nzg5IDEzLjU3OTEgMTAuMjE2N0wxMy41NzQxIDIxLjQ0MDZWMjEuNDQzMVpNMTUuNDAyOSAxNy41MDA2TDE5LjczNDIgMTQuOTk5M0wyNC4wNjU1IDE3LjQ5OTNWMjIuNTAwN0wxOS43MzQyIDI1LjAwMDdMMTUuNDAyOSAyMi41MDA3VjE3LjUwMDZaIiBmaWxsPSIjN0Q3RDg3Ii8+Cjwvc3ZnPgo="
      },
      "displayName": "OpenAI Chat Model",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    },
    {
      "id": 1163,
      "icon": "fa:database",
      "name": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "codex": {
        "data": {
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.memorybufferwindow/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Memory"
            ],
            "Memory": [
              "For beginners"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Simple Memory"
      },
      "iconData": {
        "icon": "database",
        "type": "icon"
      },
      "displayName": "Simple Memory",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    }
  ],
  "views": 60,
  "recentViews": 60,
  "workflow": {
    "meta": {
      "instanceId": "93492ad7b85fe52ec3ead1e96f0add030f2389fbe9175f2fc6dc08fb0457b641",
      "templateCredsSetupCompleted": true
    },
    "nodes": [
      {
        "id": "c75d8927-6322-4d3e-a2a0-21e719ffc63e",
        "name": "AI Agent",
        "type": "@n8n/n8n-nodes-langchain.agent",
        "position": [
          -384,
          -224
        ],
        "parameters": {
          "text": "={{ $json.chatInput }} {{ $json.message.text }}",
          "options": {
            "systemMessage": "=You are a research-focused AI assistant that combines real-time web intelligence from Perplexity  to generate insightful, concise, and well-cited answers to my queries.\n\nüîß Tool Usage Logic\n\nUse the Perplexity Sonar tool for:\n\t‚Ä¢\tQuick lookups and factual summaries\n\t‚Ä¢\tDefinitions, current events, book/show/movie synopses\n\t‚Ä¢\tExplainers for theories, concepts, and popular discussions\n\t‚Ä¢\tPodcast and video summaries\n\t‚Ä¢\tTrend monitoring and fast comparisons\n\nUse the Perplexity Sonar Pro tool for:\n\t‚Ä¢\tQuestions requiring synthesis of multiple sources or expert reasoning\n\t‚Ä¢\tBusiness research (competitor analysis, investor briefs, product comparisons)\n\t‚Ä¢\tScientific or academic deep-dives\n\t‚Ä¢\tStructured summarization (transcripts, feedback, legal docs, surveys)\n\t‚Ä¢\tMarket trend analysis, job monitoring, and sentiment clustering\n\t‚Ä¢\tLong-form content aggregation across industries, geographies, or verticals\n\nüß† Output Guidelines\n\t‚Ä¢\tFocus only on answering the user‚Äôs question. Do not offer extra services unless explicitly requested.\n\t‚Ä¢\tDeliver answers in clear, structured formats\n\t‚Ä¢\tInclude citations with clickable URLs from the original sources used by Perplexity. \n\t‚Ä¢\tIf the query contains ambiguity, politely ask for clarification instead of guessing.\n\nüìå Style & Tone\n\t‚Ä¢\tMaintain a professional, neutral tone.\n\t‚Ä¢\tUse plain language for general audiences unless the context requires technical specificity.\n\t‚Ä¢\tPrioritize depth, clarity, and relevance over length.\n\t‚Ä¢\tAvoid filler language and generic intros‚Äîget straight to the value.\n\nIf I ask about a person, use Sonar Pro and in addition to all details, get links to their social profiles: Instagram, LinkedIn, and whichever others you can find."
          },
          "promptType": "define"
        },
        "typeVersion": 1.7
      },
      {
        "id": "0df084d7-379c-4a44-96c6-9faf75168485",
        "name": "OpenAI Chat Model",
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "position": [
          -720,
          64
        ],
        "parameters": {
          "model": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4o-mini",
            "cachedResultName": "gpt-4o-mini"
          },
          "options": {}
        },
        "credentials": {
          "openAiApi": {
            "id": "GHCe1xYUWsC8pVC6",
            "name": "OpenAi account 2"
          }
        },
        "typeVersion": 1.2
      },
      {
        "id": "00b2cd49-ab28-4148-9b5a-f11345b90e65",
        "name": "Window Buffer Memory",
        "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
        "position": [
          -416,
          48
        ],
        "parameters": {
          "sessionKey": "={{ $json.message.chat.id }}",
          "sessionIdType": "customKey"
        },
        "typeVersion": 1.3
      },
      {
        "id": "b7b7feb3-0eaf-4607-86cd-46ec16f57258",
        "name": "Perplexity Sonar",
        "type": "n8n-nodes-base.perplexityTool",
        "position": [
          -80,
          48
        ],
        "parameters": {
          "model": "sonar",
          "options": {},
          "messages": {
            "message": [
              {}
            ]
          },
          "requestOptions": {}
        },
        "credentials": {
          "perplexityApi": {
            "id": "iVyxXY6X3aKOLsni",
            "name": "Perplexity account 2"
          }
        },
        "typeVersion": 1
      },
      {
        "id": "b88c3c4c-fc80-4f4e-baf5-2a92cafd49cb",
        "name": "Perplexity Sonar Pro",
        "type": "n8n-nodes-base.perplexityTool",
        "position": [
          128,
          48
        ],
        "parameters": {
          "model": "sonar-pro",
          "options": {},
          "messages": {
            "message": [
              {}
            ]
          },
          "requestOptions": {}
        },
        "credentials": {
          "perplexityApi": {
            "id": "iVyxXY6X3aKOLsni",
            "name": "Perplexity account 2"
          }
        },
        "typeVersion": 1
      },
      {
        "id": "7cb5983f-c2a1-4401-9fd2-ec045c718247",
        "name": "Telegram Trigger",
        "type": "n8n-nodes-base.telegramTrigger",
        "position": [
          -992,
          -224
        ],
        "webhookId": "d7061cf0-267b-4818-883f-42972ea7672f",
        "parameters": {
          "updates": [
            "message"
          ],
          "additionalFields": {}
        },
        "typeVersion": 1.1
      },
      {
        "id": "bb263737-5be3-4807-9da3-db4e31fc1cf8",
        "name": "Telegram",
        "type": "n8n-nodes-base.telegram",
        "position": [
          -16,
          -224
        ],
        "webhookId": "e38f4bdb-0f47-45b0-a258-20cb49c3b4f4",
        "parameters": {
          "text": "={{ $json.output }}",
          "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
          "additionalFields": {}
        },
        "typeVersion": 1.2
      },
      {
        "id": "f8da851b-40f5-4bad-a6d2-fa0488c59112",
        "name": "Filter",
        "type": "n8n-nodes-base.filter",
        "position": [
          -672,
          -224
        ],
        "parameters": {
          "options": {},
          "conditions": {
            "options": {
              "version": 2,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "combinator": "and",
            "conditions": [
              {
                "id": "be4dd9dc-55f3-4668-a5e8-0205c230fb75",
                "operator": {
                  "type": "number",
                  "operation": "equals"
                },
                "leftValue": "={{ $json.message.from.id }}",
                "rightValue": 5675741296
              }
            ]
          }
        },
        "typeVersion": 2.2
      },
      {
        "id": "e298f904-ec98-4cc7-b599-66b044a280a2",
        "name": "Workflow Overview",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -1504,
          -416
        ],
        "parameters": {
          "color": 4,
          "width": 350,
          "height": 356,
          "content": "üìã WORKFLOW OVERVIEW\n\nüîÑ FLOW:\nTelegram ‚Üí Filter ‚Üí AI Agent ‚Üí Response\n\nüîß REQUIRED SETUP:\n1. Telegram Bot Token\n2. OpenAI API Key\n3. Perplexity API Key\n4. Update user ID in filter\n\n‚ö†Ô∏è SECURITY:\n- Keep API keys secure\n- User filter prevents unauthorized access\n- Test with your user ID first"
        },
        "typeVersion": 1
      },
      {
        "id": "038365a8-bb63-4534-8dc9-6acef4f33682",
        "name": "Telegram Setup",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -1088,
          -464
        ],
        "parameters": {
          "width": 300,
          "height": 406,
          "content": "üì± TELEGRAM TRIGGER SETUP\n\n1. Create a Telegram bot via @BotFather\n2. Get your bot token\n3. Add Telegram credentials in n8n\n4. Set webhook URL in bot settings\n\n‚ö†Ô∏è IMPORTANT: Update the webhook ID if importing this workflow"
        },
        "typeVersion": 1
      },
      {
        "id": "e5778cb2-410b-42f8-9516-5b75e70a0dab",
        "name": "Security Filter",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -752,
          -544
        ],
        "parameters": {
          "color": 2,
          "width": 280,
          "height": 460,
          "content": "üîí USER FILTER\n\n‚ö†Ô∏è CHANGE REQUIRED:\nUpdate the user ID (5675741296) to your Telegram user ID\n\nTo find your ID:\n1. Message @userinfobot on Telegram\n2. Replace the number in the filter condition\n\nThis prevents unauthorized access to your bot"
        },
        "typeVersion": 1
      },
      {
        "id": "1aa1f2e7-69ab-467d-9445-5c822e250d17",
        "name": "AI Agent Config",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -432,
          -624
        ],
        "parameters": {
          "color": 6,
          "width": 320,
          "height": 528,
          "content": "ü§ñ AI AGENT CORE\n\n‚öôÔ∏è CUSTOMIZATION OPTIONS:\n\n1. SYSTEM MESSAGE:\n   - Modify research focus\n   - Change response style\n   - Adjust tool usage logic\n\n2. PROMPT HANDLING:\n   - Currently uses chat input + message text\n   - Can modify input processing\n\n3. BEHAVIOR:\n   - Update guidelines for different use cases\n   - Modify citation requirements"
        },
        "typeVersion": 1
      },
      {
        "id": "261f40c0-6f40-492a-a455-f032331d0e4e",
        "name": "Telegram Response",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -96,
          -528
        ],
        "parameters": {
          "width": 280,
          "height": 444,
          "content": "üì§ TELEGRAM RESPONSE\n\nSends AI response back to user\n\n‚öôÔ∏è CUSTOMIZATION:\n- Add message formatting\n- Include parse_mode for HTML/Markdown\n- Add reply_to_message_id for threading\n- Modify response structure\n\nüí° Uses same Telegram credentials as trigger"
        },
        "typeVersion": 1
      },
      {
        "id": "11bbb9dc-ebf2-4ec1-9a9d-00e366c21d30",
        "name": "OpenAI Setup",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -816,
          16
        ],
        "parameters": {
          "color": 5,
          "width": 280,
          "height": 470,
          "content": "\n\n\n\n\n\n\n\n\n\n\n\nü§ñ OPENAI SETUP\n\n1. Get API key from OpenAI platform\n2. Add OpenAI credentials in n8n\n3. Select your preferred model\n\nüí° TIP: gpt-4o-mini is cost-effective\n\n‚öôÔ∏è CUSTOMIZATION:\n- Change model based on your needs\n- Adjust temperature in options if needed"
        },
        "typeVersion": 1
      },
      {
        "id": "5ee33d92-73d4-410d-bbfd-046633442917",
        "name": "Memory Config",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -512,
          16
        ],
        "parameters": {
          "color": 7,
          "width": 260,
          "height": 466,
          "content": "\n\n\n\n\n\n\n\n\n\n\n\n\nüß† MEMORY CONFIGURATION\n\nCurrently uses chat ID for session management\n\n‚öôÔ∏è CUSTOMIZATION OPTIONS:\n- Change session key logic\n- Adjust window size for memory\n- Modify memory type if needed\n\nThis maintains conversation context per chat"
        },
        "typeVersion": 1
      },
      {
        "id": "fcf87cde-7a38-4683-9b1a-976103daf0c9",
        "name": "Perplexity Pro",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -240,
          16
        ],
        "parameters": {
          "color": 3,
          "width": 636,
          "height": 998,
          "content": "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nüîç PERPLEXITY SONAR\n\n1. Get API key from Perplexity\n2. Add HTTP Header Auth credentials\n3. Set Authorization: Bearer YOUR_API_KEY\n\n‚öôÔ∏è CUSTOMIZATION:\n- Adjust max_tokens (currently 200)\n- Modify model if Perplexity updates\n- Change tool description for different use cases\n\nPerplexity Sonar (\"Sonar\" model):\n\n- Designed for quick lookups and factual summaries\n- Best for definitions, current events, book/show/movie synopses\n- Handles explainers for theories, concepts, and popular discussions\n- Good for podcast and video summaries\n- Efficient for trend monitoring and fast comparisons\n\n\n\nPerplexity Sonar Pro (\"Sonar Pro\" model):\n\n- Built for questions requiring synthesis of multiple sources or expert reasoning\n- Excels at business research (competitor analysis, investor briefs, product comparisons)\n- Handles scientific or academic deep-dives\n- Perfect for structured summarization (transcripts, feedback, legal docs, surveys)\n- Specialized in market trend analysis, job monitoring, and sentiment clustering\n- Manages long-form content aggregation across industries, geographies, or verticals\n\n\n\nThe AI Agent's system message specifically instructs it to choose the appropriate tool based on the complexity and type of research needed. This creates an intelligent routing system where simpler queries use the faster, more cost-effective Sonar model, while complex research tasks leverage the more powerful Sonar Pro model.\n\nYou can adjust the AI's prmopt to just use 1 or the other and disable or delete the unused node."
        },
        "typeVersion": 1
      }
    ],
    "pinData": {},
    "connections": {
      "Filter": {
        "main": [
          [
            {
              "node": "AI Agent",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "AI Agent": {
        "main": [
          [
            {
              "node": "Telegram",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Perplexity Sonar": {
        "ai_tool": [
          [
            {
              "node": "AI Agent",
              "type": "ai_tool",
              "index": 0
            }
          ]
        ]
      },
      "Telegram Trigger": {
        "main": [
          [
            {
              "node": "Filter",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "OpenAI Chat Model": {
        "ai_languageModel": [
          [
            {
              "node": "AI Agent",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "Perplexity Sonar Pro": {
        "ai_tool": [
          [
            {
              "node": "AI Agent",
              "type": "ai_tool",
              "index": 0
            }
          ]
        ]
      },
      "Window Buffer Memory": {
        "ai_memory": [
          [
            {
              "node": "AI Agent",
              "type": "ai_memory",
              "index": 0
            }
          ]
        ]
      }
    }
  },
  "lastUpdatedBy": 29,
  "workflowInfo": {
    "nodeCount": 16,
    "nodeTypes": {
      "n8n-nodes-base.filter": {
        "count": 1
      },
      "n8n-nodes-base.telegram": {
        "count": 1
      },
      "n8n-nodes-base.stickyNote": {
        "count": 8
      },
      "n8n-nodes-base.perplexityTool": {
        "count": 2
      },
      "@n8n/n8n-nodes-langchain.agent": {
        "count": 1
      },
      "n8n-nodes-base.telegramTrigger": {
        "count": 1
      },
      "@n8n/n8n-nodes-langchain.lmChatOpenAi": {
        "count": 1
      },
      "@n8n/n8n-nodes-langchain.memoryBufferWindow": {
        "count": 1
      }
    }
  },
  "categories": [
    {
      "id": 47,
      "name": "AI Chatbot"
    },
    {
      "id": 51,
      "name": "Multimodal AI"
    }
  ],
  "image": []
}