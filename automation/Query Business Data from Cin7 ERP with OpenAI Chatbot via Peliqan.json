{
  "id": 7315,
  "name": "Query Business Data from Cin7 ERP with OpenAI Chatbot via Peliqan",
  "totalViews": 28,
  "purchaseUrl": null,
  "user": {
    "name": "Peliqan",
    "username": "peliqan",
    "bio": "Peliqan.io is the one-click data foundation for our n8n AI Agents. Add all your business applications for RAG and \"Text to SQL\", and build AI chatbots and AI Agents that can interact with all internal company data from CRM, ERP, cloud storage, accounting, HRM/ATS etc.",
    "verified": true,
    "links": [
      "https://peliqan.io"
    ],
    "avatar": "https://gravatar.com/avatar/e785240597164bf59330862d655d57a86ed5e7c4b46ee64064da0652578b2c5b?r=pg&d=retro&size=200"
  },
  "description": "![Peliqan n8n template Cin7 AI Chatbot.png](fileId:2065)\n\n## How it works\n\nThis template is an end-to-end demo of an in-house AI agent that can answer a wide range of questions by retrieving information from the Cin7 ERP system. For example users can ask questions related to products, stock, accounting or any other type of information contained in Cin7.\n\nPeliqan.io is used as a \"cache\" of all Cin7 data. Peliqan uses one-click ELT to sync all data from Cin7 to the built-in data warehouse, allowing for fast & accurate queries. The AI agent uses Text-to-SQL to answer questions.\n\nText-to-SQL is performed via the Peliqan node, added as a tool to the AI Agent. The question of the user - in natural language - is converted to an SQL query by the AI Agent. The query is executed by Peliqan.io on the source Cin7 data and the result is interpreted by the AI Agent.\n\n\n## Preconditions\n\n* You signed up for a [Peliqan.io free trial account](https://app.eu.peliqan.io)\n* You have a Cin7 Omni or Cin7 Core ERP system\n\n## Set up steps\n\n* Sign up for a [free trial on peliqan.io](https://peliqan.io)\n* Add Cin7 Omni or Cin7 Core as a connection in Peliqan (using an API key from Cin7)\n* Copy your Peliqan API key (in Peliqan go to Settings &gt; API key) and use it in n8n to add a Peliqan connection\n* Select your data warehouse in the Peliqan node \"Execute an SQL query via Peliqan\" in the drop-down field \"Data warehouse name or id\"\n* Optional: run the [template script](https://help.peliqan.io/build-ai-agents-with-n8n-and-peliqan#block-2401aa9b387980cf8b2ff069588dd3dc) in Peliqan that outputs your specific Cin7 datamodel (tables & columns). Copy your datamodel and paste it in the System Message of the AI Agent (replace the standard Cin7 model already present in this workflow)\n\nVisit [peliqan.io/n8n](https://peliqan.io/n8n) for more information.\nNeed help ? Contact Peliqan at [support@peliqan.io](support@peliqan.io)\n\n_Disclaimer: This template contains a community node and therefore only works for n8n self-hosted users._",
  "createdAt": "2025-08-13T06:50:21.796Z",
  "nodes": [
    {
      "id": 565,
      "icon": "fa:sticky-note",
      "name": "n8n-nodes-base.stickyNote",
      "codex": {
        "data": {
          "alias": [
            "Comments",
            "Notes",
            "Sticky"
          ],
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Sticky Note",
        "color": "#FFD233"
      },
      "iconData": {
        "icon": "sticky-note",
        "type": "icon"
      },
      "displayName": "Sticky Note",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 1119,
      "icon": "fa:robot",
      "name": "@n8n/n8n-nodes-langchain.agent",
      "codex": {
        "data": {
          "alias": [
            "LangChain",
            "Chat",
            "Conversational",
            "Plan and Execute",
            "ReAct",
            "Tools"
          ],
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Agents",
              "Root Nodes"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "AI Agent",
        "color": "#404040"
      },
      "iconData": {
        "icon": "robot",
        "type": "icon"
      },
      "displayName": "AI Agent",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    },
    {
      "id": 1153,
      "icon": "file:openAiLight.svg",
      "name": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "codex": {
        "data": {
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.lmchatopenai/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Language Models",
              "Root Nodes"
            ],
            "Language Models": [
              "Chat Models (Recommended)"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "OpenAI Chat Model"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTM2Ljg2NzEgMTYuMzcxOEMzNy43NzQ2IDEzLjY0OCAzNy40NjIxIDEwLjY2NDIgMzYuMDEwOCA4LjE4NjYxQzMzLjgyODIgNC4zODY1MyAyOS40NDA3IDIuNDMxNDkgMjUuMTU1NiAzLjM1MTUxQzIzLjI0OTMgMS4yMDM5NiAyMC41MTA1IC0wLjAxNzMxNDggMTcuNjM5MiAwLjAwMDE4NTUzM0MxMy4yNTkxIC0wLjAwOTgxNDY4IDkuMzcyNzMgMi44MTAyNSA4LjAyNTIgNi45Nzc4M0M1LjIxMTM5IDcuNTU0MSAyLjc4MjU4IDkuMzE1MzggMS4zNjEzIDExLjgxMTdDLTAuODM3NDkzIDE1LjYwMTggLTAuMzM2MjMyIDIwLjM3OTQgMi42MDEzMyAyMy42Mjk0QzEuNjkzODEgMjYuMzUzMiAyLjAwNjMyIDI5LjMzNzEgMy40NTc2IDMxLjgxNDZDNS42NDAxNSAzNS42MTQ3IDEwLjAyNzcgMzcuNTY5NyAxNC4zMTI4IDM2LjY0OTdDMTYuMjE3OSAzOC43OTczIDE4Ljk1NzkgNDAuMDE4NSAyMS44MjkyIDM5Ljk5OThDMjYuMjExOCA0MC4wMTEgMzAuMDk5NCAzNy4xODg1IDMxLjQ0NjkgMzMuMDE3MUMzNC4yNjA4IDMyLjQ0MDkgMzYuNjg5NiAzMC42Nzk2IDM4LjExMDggMjguMTgzM0M0MC4zMDcxIDI0LjM5MzIgMzkuODA0NiAxOS42MTk0IDM2Ljg2ODMgMTYuMzY5M0wzNi44NjcxIDE2LjM3MThaTTIxLjgzMTcgMzcuMzg2QzIwLjA3OCAzNy4zODg1IDE4LjM3OTIgMzYuNzc0NyAxNy4wMzI5IDM1LjY1MDlDMTcuMDk0MSAzNS42MTg0IDE3LjIwMDQgMzUuNTU5NyAxNy4yNjkxIDM1LjUxNzJMMjUuMjM0MyAzMC45MTcxQzI1LjY0MTggMzAuNjg1OCAyNS44OTE4IDMwLjI1MjEgMjUuODg5MyAyOS43ODMzVjE4LjU1NDNMMjkuMjU1NyAyMC40OTgxQzI5LjI5MTkgMjAuNTE1NiAyOS4zMTU3IDIwLjU1MDYgMjkuMzIwNyAyMC41OTA2VjI5Ljg4OTZDMjkuMzE1NyAzNC4wMjQ3IDI1Ljk2NjggMzcuMzc3MiAyMS44MzE3IDM3LjM4NlpNNS43MjY0IDMwLjUwNzFDNC44NDc2MyAyOC45ODk2IDQuNTMxMzcgMjcuMjEwOCA0LjgzMjYzIDI1LjQ4NDVDNC44OTEzOCAyNS41MTk1IDQuOTk1MTMgMjUuNTgzMiA1LjA2ODg4IDI1LjYyNTdMMTMuMDM0MSAzMC4yMjU4QzEzLjQzNzggMzAuNDYyMSAxMy45Mzc4IDMwLjQ2MjEgMTQuMzQyOCAzMC4yMjU4TDI0LjA2NjggMjQuNjEwN1YyOC40OTgzQzI0LjA2OTMgMjguNTM4MyAyNC4wNTA1IDI4LjU3NyAyNC4wMTkzIDI4LjYwMkwxNS45Njc5IDMzLjI1MDlDMTIuMzgxNSAzNS4zMTU5IDcuODAxNDQgMzQuMDg4NCA1LjcyNzY1IDMwLjUwNzFINS43MjY0Wk0zLjYzMDEgMTMuMTIwNUM0LjUwNTEyIDExLjYwMDQgNS44ODY0IDEwLjQzNzkgNy41MzE0NCA5LjgzNDE1QzcuNTMxNDQgOS45MDI5IDcuNTI3NjkgMTAuMDI0MiA3LjUyNzY5IDEwLjEwOTJWMTkuMzEwNkM3LjUyNTE5IDE5Ljc3ODEgNy43NzUxOSAyMC4yMTE5IDguMTgxNDUgMjAuNDQzMUwxNy45MDU0IDI2LjA1N0wxNC41MzkxIDI4LjAwMDhDMTQuNTA1MyAyOC4wMjMzIDE0LjQ2MjggMjguMDI3IDE0LjQyNTMgMjguMDEwOEw2LjM3MjY2IDIzLjM1ODJDMi43OTM4MyAyMS4yODU2IDEuNTY2MzEgMTYuNzA2OCAzLjYyODg1IDEzLjEyMTdMMy42MzAxIDEzLjEyMDVaTTMxLjI4ODIgMTkuNTU2OUwyMS41NjQyIDEzLjk0MTdMMjQuOTMwNiAxMS45OTkyQzI0Ljk2NDMgMTEuOTc2NyAyNS4wMDY4IDExLjk3MjkgMjUuMDQ0MyAxMS45ODkyTDMzLjA5NyAxNi42MzhDMzYuNjgyMSAxOC43MDkzIDM3LjkxMDggMjMuMjk1NyAzNS44Mzk1IDI2Ljg4MDhDMzQuOTYzMyAyOC4zOTgzIDMzLjU4MzIgMjkuNTYwOCAzMS45Mzk1IDMwLjE2NThWMjAuNjg5NEMzMS45NDMyIDIwLjIyMTkgMzEuNjk0NSAxOS43ODk0IDMxLjI4OTQgMTkuNTU2OUgzMS4yODgyWk0zNC42MzgzIDE0LjUxNDJDMzQuNTc5NSAxNC40NzggMzQuNDc1OCAxNC40MTU1IDM0LjQwMiAxNC4zNzNMMjYuNDM2OCA5Ljc3Mjg5QzI2LjAzMzEgOS41MzY2NCAyNS41MzMxIDkuNTM2NjQgMjUuMTI4MSA5Ljc3Mjg5TDE1LjQwNDEgMTUuMzg4VjExLjUwMDRDMTUuNDAxNiAxMS40NjA0IDE1LjQyMDQgMTEuNDIxNyAxNS40NTE2IDExLjM5NjdMMjMuNTAzIDYuNzUxNThDMjcuMDg5NCA0LjY4Mjc5IDMxLjY3NDUgNS45MTQwNiAzMy43NDIgOS41MDE2NEMzNC42MTU4IDExLjAxNjcgMzQuOTMyIDEyLjc5MDUgMzQuNjM1OCAxNC41MTQySDM0LjYzODNaTTEzLjU3NDEgMjEuNDQzMUwxMC4yMDY1IDE5LjQ5OTRDMTAuMTcwMiAxOS40ODE5IDEwLjE0NjUgMTkuNDQ2OCAxMC4xNDE1IDE5LjQwNjhWMTAuMTA3OUMxMC4xNDQgNS45Njc4MSAxMy41MDI4IDIuNjEyNzQgMTcuNjQyOSAyLjYxNTI0QzE5LjM5NDIgMi42MTUyNCAyMS4wODkyIDMuMjMwMjUgMjIuNDM1NSA0LjM1MDI4QzIyLjM3NDMgNC4zODI3OCAyMi4yNjkzIDQuNDQxNTMgMjIuMTk5MiA0LjQ4NDAzTDE0LjIzNDEgOS4wODQxM0MxMy44MjY2IDkuMzE1MzggMTMuNTc2NiA5Ljc0Nzg5IDEzLjU3OTEgMTAuMjE2N0wxMy41NzQxIDIxLjQ0MDZWMjEuNDQzMVpNMTUuNDAyOSAxNy41MDA2TDE5LjczNDIgMTQuOTk5M0wyNC4wNjU1IDE3LjQ5OTNWMjIuNTAwN0wxOS43MzQyIDI1LjAwMDdMMTUuNDAyOSAyMi41MDA3VjE3LjUwMDZaIiBmaWxsPSIjN0Q3RDg3Ii8+Cjwvc3ZnPgo="
      },
      "displayName": "OpenAI Chat Model",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    },
    {
      "id": 1163,
      "icon": "fa:database",
      "name": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "codex": {
        "data": {
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.memorybufferwindow/"
              }
            ]
          },
          "categories": [
            "AI",
            "Langchain"
          ],
          "subcategories": {
            "AI": [
              "Memory"
            ],
            "Memory": [
              "For beginners"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Simple Memory"
      },
      "iconData": {
        "icon": "database",
        "type": "icon"
      },
      "displayName": "Simple Memory",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 25,
          "name": "AI"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    },
    {
      "id": 1247,
      "icon": "fa:comments",
      "name": "@n8n/n8n-nodes-langchain.chatTrigger",
      "codex": {
        "data": {
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-langchain.chattrigger/"
              }
            ]
          },
          "categories": [
            "Core Nodes",
            "Langchain"
          ]
        }
      },
      "group": "[\"trigger\"]",
      "defaults": {
        "name": "When chat message received"
      },
      "iconData": {
        "icon": "comments",
        "type": "icon"
      },
      "displayName": "Chat Trigger",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        },
        {
          "id": 26,
          "name": "Langchain"
        }
      ]
    }
  ],
  "views": 28,
  "recentViews": 1,
  "workflow": {
    "id": "pBZWaawNMbd3tEI4",
    "meta": {
      "instanceId": "cbd8796a3029a9f181c009fb761c940559eea31ad59a753266d15d4a76041a7c",
      "templateCredsSetupCompleted": true
    },
    "name": "Peliqan AI Agent Cin7 ERP",
    "tags": [],
    "nodes": [
      {
        "id": "2538becc-d76f-46b5-a4d0-377e5ee7d3ca",
        "name": "When chat message received",
        "type": "@n8n/n8n-nodes-langchain.chatTrigger",
        "position": [
          464,
          96
        ],
        "webhookId": "f0cf0cfb-8b1b-4854-ac72-7fc85f9e3dd2",
        "parameters": {
          "public": true,
          "options": {}
        },
        "typeVersion": 1.1
      },
      {
        "id": "9db24d24-5222-4586-91a8-86ef4cff9867",
        "name": "AI Agent",
        "type": "@n8n/n8n-nodes-langchain.agent",
        "position": [
          640,
          96
        ],
        "parameters": {
          "options": {
            "systemMessage": "You are an assistant answering questions on internal business data from the Cin7 ERP system.\n\nYou can query Cin7 by running SQL queries on the Cin7 tables in the Peliqan data warehouse. To execute an SQL query: send the query to Peliqan tool \"Execute SQL\" in a key SQL_Query__View_. Get the results from key \"detail\".\n\nThis is the Cin7 data model of tables & columns that can be used in SQL queries:\n\nColumns in table cin7_omni.adjustments:\n\nid\ncreateddate\nmodifieddate\ncreatedby\nprocessedby\nisapproved\nreference\nbranchid\ncompleteddate\nadjustinaccountingsystem\nadjustmentreason\nalternativeaccountcode\nproducttotal\nsource\n\nColumns in table cin7_omni.adjustments__lineitems:\n\nid\ncreateddate\ntransactionid\nparentid\nproductid\nproductoptionid\nintegrationref\nsort\ncode\nname\noption1\noption2\noption3\nqty\nqtyadjusted\nholdingqty\naccount\nunitcost\n\nColumns in table cin7_omni.contacts:\n\nid\ncreateddate\nmodifieddate\nisactive\ncompany\nfirstname\nlastname\njobtitle\nemail\nwebsite\nphone\nfax\nmobile\naddress1\naddress2\ncity\nstate\npostcode\ncountry\npostaladdress1\npostaladdress2\npostalcity\npostalpostcode\npostalstate\npostalcountry\nnotes\nintegrationref\ntype\nsalespersonid\naccountnumber\nbillingid\nbillingcompany\naccountsfirstname\naccountslastname\nbillingemail\naccountsphone\nbillingcostcenter\ncostcenter\npricecolumn\npercentageoff\npaymentterms\ntaxstatus\ntaxnumber\ncreditlimit\nbalanceowing\nonhold\n\"group\"\nsubgroup\nstages\naccountingintegrationid__xero\naccountingintegrationid__quickbooksonline\naccountingintegrationid__quickbooksdesktop\n\nColumns in table cin7_omni.credit_notes:\n\nid\ncreateddate\nmodifieddate\ncreatedby\nprocessedby\nisapproved\nreference\nmemberid\nfirstname\nlastname\ncompany\nemail\nphone\nmobile\nfax\ndeliveryfirstname\ndeliverylastname\ndeliverycompany\ndeliveryaddress1\ndeliveryaddress2\ndeliverycity\ndeliverystate\ndeliverypostalcode\ndeliverycountry\nbillingfirstname\nbillinglastname\nbillingcompany\nbillingaddress1\nbillingaddress2\nbillingcity\nbillingpostalcode\nbillingstate\nbillingcountry\nbranchid\nbranchemail\nprojectname\ntrackingcode\ninternalcomments\nproducttotal\nfreighttotal\nfreightdescription\nsurcharge\nsurchargedescription\ndiscounttotal\ndiscountdescription\ntotal\ncurrencycode\ncurrencyrate\ncurrencysymbol\ntaxstatus\ntaxrate\nsource\nmemberemail\nmodifiedcogsdate\nstatus\nsalesreference\ncreditnotenumber\ncreditnotedate\ncompleteddate\ncustomerreport\nalternativeaccountcode\nsalespersonid\nlogisticscarrier\nlogisticsstatus\naccountingattributes__importdate\naccountingattributes__accountingimportstatus\n\nColumns in table cin7_omni.credit_notes__lineitems:\n\nid\ncreateddate\ntransactionid\nparentid\nproductid\nproductoptionid\nintegrationref\nsort\ncode\nname\noption1\noption2\noption3\nqty\nstylecode\nbarcode\nsizecodes\nlinecomments\nunitcost\nunitprice\ndiscount\nqtyshipped\naccountcode\n\nColumns in table cin7_omni.payments:\n\nid\ncreateddate\nmodifieddate\npaymentdate\namount\nmethod\nisauthorized\ntransactionref\ncomments\norderid\norderref\npaymentimportedref\nbatchreference\nreconciledate\nbranchid\nordertype\n\nColumns in table cin7_omni.product_categories:\n\nid\nparentid\nisactive\nsort\nname\ndescription\nimage\n\nColumns in table cin7_omni.products:\n\nid\nstatus\ncreateddate\nmodifieddate\nstylecode\nname\ndescription\ntags\npdfupload\npdfdescription\nsupplierid\nbrand\ncategory\nsubcategory\nchannels\nweight\nheight\nwidth\nlength\nvolume\nstockcontrol\nordertype\nproducttype\nproductsubtype\nprojectname\noptionlabel1\noptionlabel2\noptionlabel3\nsalesaccount\npurchasesaccount\nimportcustomsduty\nsizerangeid\ncustomfields__products_1000\n\nColumns in table cin7_omni.products__images:\n\nlink\n\nColumns in table cin7_omni.products__productoptions:\n\nid\ncreateddate\nmodifieddate\nstatus\nproductid\ncode\nbarcode\nproductoptioncode\nproductoptionsizecode\nproductoptionbarcode\nproductoptionsizebarcode\nsuppliercode\noption1\noption2\noption3\noptionweight\nsize\nsizeid\nretailprice\nwholesaleprice\nvipprice\nspecialprice\nspecialsstartdate\nspecialdays\nstockavailable\nstockonhand\nimage__link\npricecolumns__retailaud\npricecolumns__vipaud\npricecolumns__wholesaleaud\npricecolumns__priceusd\npricecolumns__costaud\npricecolumns__costusd\npricecolumns__specialprice\n\nColumns in table cin7_omni.purchase_orders:\n\nid\ncreateddate\nmodifieddate\ncreatedby\nprocessedby\nisapproved\nreference\nmemberid\nfirstname\nlastname\ncompany\nemail\nphone\nmobile\nfax\ndeliveryfirstname\ndeliverylastname\ndeliverycompany\ndeliveryaddress1\ndeliveryaddress2\ndeliverycity\ndeliverystate\ndeliverypostalcode\ndeliverycountry\nbillingfirstname\nbillinglastname\nbillingcompany\nbillingaddress1\nbillingaddress2\nbillingcity\nbillingpostalcode\nbillingstate\nbillingcountry\nbranchid\nbranchemail\nprojectname\ntrackingcode\ninternalcomments\nproducttotal\nfreighttotal\nfreightdescription\nsurcharge\nsurchargedescription\ndiscounttotal\ndiscountdescription\ntotal\ncurrencycode\ncurrencyrate\ncurrencysymbol\ntaxstatus\ntaxrate\nsource\nisvoid\naccountingattributes__importdate\naccountingattributes__accountingimportstatus\nmemberemail\nmembercostcenter\nmemberalternativetaxrate\ncostcenter\nalternativetaxrate\nestimateddeliverydate\nsalespersonid\nsalespersonemail\npaymentterms\ncustomerorderno\nvouchercode\ndeliveryinstructions\ncancellationdate\nmodifiedcogsdate\nstatus\nstage\nsupplierinvoicereference\nsupplieracceptancedate\nport\nestimatedarrivaldate\nfullyreceiveddate\ninvoicedate\nlogisticscarrier\nlogisticsstatus\n\nColumns in table cin7_omni.purchase_orders__lineitems:\n\nid\ncreateddate\ntransactionid\nparentid\nproductid\nproductoptionid\nintegrationref\nsort\ncode\nname\noption1\noption2\noption3\nqty\nstylecode\nbarcode\nsizecodes\nlinecomments\nunitprice\ndiscount\nqtyshipped\nholdingqty\naccountcode\n\nColumns in table cin7_omni.quotes:\n\nid\ncreateddate\nmodifieddate\ncreatedby\nprocessedby\nisapproved\nreference\nmemberid\nfirstname\nlastname\ncompany\nemail\nphone\nmobile\nfax\ndeliveryfirstname\ndeliverylastname\ndeliverycompany\ndeliveryaddress1\ndeliveryaddress2\ndeliverycity\ndeliverystate\ndeliverypostalcode\ndeliverycountry\nbillingfirstname\nbillinglastname\nbillingcompany\nbillingaddress1\nbillingaddress2\nbillingcity\nbillingpostalcode\nbillingstate\nbillingcountry\nbranchid\nbranchemail\nprojectname\ntrackingcode\ninternalcomments\nproducttotal\nfreighttotal\nfreightdescription\nsurcharge\nsurchargedescription\ndiscounttotal\ndiscountdescription\ntotal\ncurrencycode\ncurrencyrate\ncurrencysymbol\ntaxstatus\ntaxrate\nsource\nmemberemail\nmembercostcenter\nmemberalternativetaxrate\ncostcenter\nalternativetaxrate\nestimateddeliverydate\nsalespersonid\nsalespersonemail\npaymentterms\ncustomerorderno\nvouchercode\ndeliveryinstructions\ncancellationdate\nmodifiedcogsdate\nstatus\nstage\nprobability\nexpectedorderdate\nacceptancedate\n\nColumns in table cin7_omni.quotes__lineitems:\n\nid\ncreateddate\ntransactionid\nparentid\nproductid\nproductoptionid\nintegrationref\nsort\ncode\nname\noption1\noption2\noption3\nqty\nstylecode\nbarcode\nsizecodes\nlinecomments\nunitcost\nunitprice\ndiscount\nqtyshipped\nholdingqty\n\nColumns in table cin7_omni.sales_orders:\n\nid\ncreateddate\nmodifieddate\ncreatedby\nprocessedby\nisapproved\nreference\nmemberid\nfirstname\nlastname\ncompany\nemail\nphone\nmobile\nfax\ndeliveryfirstname\ndeliverylastname\ndeliverycompany\ndeliveryaddress1\ndeliveryaddress2\ndeliverycity\ndeliverystate\ndeliverypostalcode\ndeliverycountry\nbillingfirstname\nbillinglastname\nbillingcompany\nbillingaddress1\nbillingaddress2\nbillingcity\nbillingpostalcode\nbillingstate\nbillingcountry\nbranchid\nbranchemail\nprojectname\ntrackingcode\ninternalcomments\nproducttotal\nfreighttotal\nfreightdescription\nsurcharge\nsurchargedescription\ndiscounttotal\ndiscountdescription\ntotal\ncurrencycode\ncurrencyrate\ncurrencysymbol\ntaxstatus\ntaxrate\nsource\nisvoid\naccountingattributes__importdate\naccountingattributes__accountingimportstatus\nmemberemail\nmembercostcenter\nmemberalternativetaxrate\ncostcenter\nalternativetaxrate\nestimateddeliverydate\nsalespersonid\nsalespersonemail\npaymentterms\ncustomerorderno\nvouchercode\ndeliveryinstructions\ncancellationdate\nmodifiedcogsdate\nstatus\nstage\ninvoicedate\ninvoicenumber\ndispatcheddate\nlogisticscarrier\nlogisticsstatus\nedistatus\ndistributionbranchid\ndepartmentnumber\nstorelocationnumber\ndistributioncenter\nssccnumber\n\nColumns in table cin7_omni.sales_orders__lineitems:\n\nid\ncreateddate\ntransactionid\nparentid\nproductid\nproductoptionid\nintegrationref\nsort\ncode\nname\noption1\noption2\noption3\nqty\nstylecode\nbarcode\nsizecodes\nlinecomments\nunitcost\nunitprice\nuomprice\ndiscount\nuomqtyordered\nuomqtyshipped\nuomsize\nqtyshipped\nholdingqty\naccountcode\nstockcontrol\n\nColumns in table cin7_omni.sales_orders__lineitems__stockmovements:\n\nbatch\nquantity\nserial\n\nColumns in table cin7_omni.size_ranges:\n\nsizerangename\nsizes\nid\n\nColumns in table cin7_omni.stocks:\n\nproductid\nproductoptionid\nmodifieddate\nstylecode\ncode\nbarcode\nbranchid\nbranchname\nproductname\noption1\noption2\noption3\nsize\navailable\nstockonhand\nopensales\nincoming\nvirtual\nholding\n\nColumns in table cin7_omni.users:\n\nid\nisactive\nfirstname\nlastname\njobtitle\nemail"
          }
        },
        "typeVersion": 1.6,
        "alwaysOutputData": true
      },
      {
        "id": "1840df90-cf66-49c0-a0ab-2259ab757752",
        "name": "OpenAI Chat Model",
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "position": [
          592,
          384
        ],
        "parameters": {
          "options": {}
        },
        "credentials": {
          "openAiApi": {
            "id": "LqJFRkYjgKQumtJx",
            "name": "OpenAi account dev@peliqan.io"
          }
        },
        "typeVersion": 1
      },
      {
        "id": "86af58b1-c240-4083-b6d9-102edd331a95",
        "name": "Sticky Note5",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -400,
          32
        ],
        "parameters": {
          "color": 4,
          "width": 786,
          "height": 580,
          "content": "## ℹ️ Introduction\n\nEnd-to-end demo of an in-house AI agent that can answer a wide range of questions by retrieving information from the **Cin7 ERP** system. For example users can ask questions related to products, stock, accounting or any other type of information contained in Cin7.\n\nPeliqan.io is used as a \"cache\" of all Cin7 data. Peliqan uses one-click ELT to sync all data from Cin7 to the built-in data warehouse, allowing for fast & accurate queries. The AI agent uses Text-to-SQL to answer questions.\n\nText-to-SQL is performed via the Peliqan node, added as a tool to the AI Agent. The question of the user - in natural language - is converted to an SQL query by the AI Agent. The query is executed by Peliqan.io on the source Cin7 data and the result is interpreted by the AI Agent.\n\n## ⚙️ Setup\n\n* Sign up for a free trial on https://peliqan.io\n* Add Cin7 Omni or Cin7 Core as a connection in Peliqan (using an API key from Cin7)\n* Copy your Peliqan API key (in Peliqan go to Settings > API key) and use it in n8n to add a Peliqan connection\n* Select your data warehouse in the Peliqan node \"Execute an SQL query via Peliqan\" in the drop-down field \"Data warehouse name or id\"\n* Optional: run the [template script](https://help.peliqan.io/build-ai-agents-with-n8n-and-peliqan#block-2401aa9b387980cf8b2ff069588dd3dc) in Peliqan that outputs your specific Cin7 datamodel (tables & columns). Copy your datamodel and paste it in the System Message of the AI Agent (replace the standard Cin7 model already present in this workflow)\n\nVisit peliqan.io/n8n for more information.\nNeed help ? Contact Peliqan at support@peliqan.io"
        },
        "typeVersion": 1
      },
      {
        "id": "611bd81e-fcb8-4a45-b123-beff3c3b7395",
        "name": "Sticky Note4",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          1008,
          496
        ],
        "parameters": {
          "color": 2,
          "width": 471,
          "height": 80,
          "content": "⚠️ To use the Peliqan as tool with Operation \"Execute SQL query\":\nset the below env variable. Run on command line:\n`export N8N_COMMUNITY_PACKAGES_ALLOW_TOOL_USAGE=True`"
        },
        "typeVersion": 1
      },
      {
        "id": "8284c916-0a01-4ebf-aeb7-e9e2c78c6b93",
        "name": "Simple Memory",
        "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
        "position": [
          768,
          384
        ],
        "parameters": {},
        "typeVersion": 1.3
      },
      {
        "id": "b560538d-4f81-4e26-9dfb-1230f1b24b76",
        "name": "Sticky Note",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          992,
          32
        ],
        "parameters": {
          "width": 512,
          "height": 576,
          "content": "## Tools for AI Agent: SQL"
        },
        "typeVersion": 1
      },
      {
        "id": "97d823cf-7cc4-48f2-b994-ba73e0c8dc68",
        "name": "Sticky Note1",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          416,
          32
        ],
        "parameters": {
          "color": 3,
          "width": 544,
          "height": 576,
          "content": "## AI Chatbot"
        },
        "typeVersion": 1
      },
      {
        "id": "65ac29cf-8fb1-4149-95d2-20f9dd228598",
        "name": "Sticky Note2",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          544,
          304
        ],
        "parameters": {
          "color": 6,
          "width": 384,
          "height": 224,
          "content": "## Brain"
        },
        "typeVersion": 1
      },
      {
        "id": "1c239ab5-91c1-46b9-9282-c3be28469e95",
        "name": "Execute an SQL query via Peliqan",
        "type": "n8n-nodes-peliqan.peliqanTool",
        "position": [
          1184,
          320
        ],
        "parameters": {
          "querySql": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('SQL_Query', ``, 'string') }}",
          "resource": "query",
          "operation": "exec",
          "connection": "1163"
        },
        "credentials": {
          "peliqanApi": {
            "id": "d7QTqJXKU5v3t5zN",
            "name": "Peliqan account"
          }
        },
        "typeVersion": 1
      }
    ],
    "active": false,
    "pinData": {},
    "settings": {
      "executionOrder": "v1"
    },
    "versionId": "4b8f53b9-463a-4075-b688-e504839d1e0d",
    "connections": {
      "Simple Memory": {
        "ai_memory": [
          [
            {
              "node": "AI Agent",
              "type": "ai_memory",
              "index": 0
            }
          ]
        ]
      },
      "OpenAI Chat Model": {
        "ai_languageModel": [
          [
            {
              "node": "AI Agent",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "When chat message received": {
        "main": [
          [
            {
              "node": "AI Agent",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Execute an SQL query via Peliqan": {
        "ai_tool": [
          [
            {
              "node": "AI Agent",
              "type": "ai_tool",
              "index": 0
            }
          ]
        ]
      }
    }
  },
  "lastUpdatedBy": 29,
  "workflowInfo": {
    "nodeCount": 10,
    "nodeTypes": {
      "n8n-nodes-base.stickyNote": {
        "count": 5
      },
      "n8n-nodes-peliqan.peliqanTool": {
        "count": 1
      },
      "@n8n/n8n-nodes-langchain.agent": {
        "count": 1
      },
      "@n8n/n8n-nodes-langchain.chatTrigger": {
        "count": 1
      },
      "@n8n/n8n-nodes-langchain.lmChatOpenAi": {
        "count": 1
      },
      "@n8n/n8n-nodes-langchain.memoryBufferWindow": {
        "count": 1
      }
    }
  },
  "categories": [
    {
      "id": 42,
      "name": "Internal Wiki"
    },
    {
      "id": 51,
      "name": "Multimodal AI"
    }
  ],
  "image": [
    {
      "id": 2065,
      "url": "https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/Peliqan_n8n_template_Cin7_AI_Chatbot_9eb20d2200.png"
    }
  ]
}