{
  "id": 6578,
  "name": "Enrich Hubspot Companies with Bedrijfsdata.nl",
  "totalViews": 61,
  "purchaseUrl": null,
  "user": {
    "name": "Olivier",
    "username": "olivier-nl",
    "bio": "",
    "verified": false,
    "links": [],
    "avatar": "https://gravatar.com/avatar/028f79e14efaca7962fdc9a594b7ba252058048514ce4db459c95b6ebcdb3609?r=pg&d=retro&size=200"
  },
  "description": "This template enriches HubSpot company records using real-time data from the [Bedrijfsdata.nl API](https://developers.bedrijfsdata.nl). It listens for changes to company properties (e.g., `domain`) and updates records with verified information such as KvK, LinkedIn, phone, and company size.\n\n---\n\n## ‚ú® Features\n\n- Automatically enrich HubSpot company profiles with verified Dutch business data\n- Smart fallback: match by Bedrijfsdata ID or dynamic fuzzy matching existing data\n- Customize which HubSpot event triggers the workflow (`company.propertyChange`, `create`, etc.)\n- Realtime integration with Bedrijfsdata.nl via their official API node\n- Secure, modular, and extendable structure (error handling included)\n\n---\n\n## üè¢ Example Data from Bedrijfsdata.nl\n\nBedrijfsdata.nl offers over 100 attributes per company. Example fields:\n\n- `name`, `address`, `postcode`, `city`, `province`\n- `phone`, `email`, `website`, `linkedin_link`\n- `industry_section`, `employees`, `revenue`, `sbi`, `vat`\n- `bag_bouwjaar`, `bag_oppervlakte`, `bag_energielabel`\n- SEO data (keywords, backlinks), usage of software, structured descriptions\n- Review ratings, opening hours, geo-location, etc.\n\nExample:  \n`Bedrijfsdata.nl B.V.`  \n- Phone: `020-7895050`\n- Mail: `klantenservice@bedrijfsdata.nl`\n- Employees: `2-10`  \n- SBI: `6201`  \n- LinkedIn: [linkedin.com/company/bedrijfsdata-nl](https://www.linkedin.com/company/bedrijfsdata-nl/)  \n- Description: `Bedrijfsdata.nl B.V. is a Dutch company that provides comprehensive data on over 3.1 million businesses in the Netherlands. They offer datasets categorized by industry, region, company [...]`\n- More fields: see [developers.bedrijfsdata.nl](https://developers.bedrijfsdata.nl)\n\n---\n\n## ‚öô Requirements\n\n- n8n instance or cloud workspace\n- Install the Bedrijfsdata.nl n8n **Verified** Community Node\n- HubSpot private app (OAuth2) with a webhook\n- Bedrijfsdata.nl developer account (14-day free trial, 500 credits)\n\n---\n\n## üîß Setup Instructions\n\n1. **Create HubSpot Private App**\n   - Enable scopes for companies\n   - Add a webhook to listen to e.g. `company.propertyChange` on `domain`\n   - More info: [HubSpot Private Apps](https://developers.hubspot.com/docs/guides/apps/private-apps/overview)\n\n2. **Configure n8n Workflow**\n   - Import this template\n   - Set your Bedrijfsdata.nl API credentials\n   - Set up HubSpot OAuth2 credentials\n\n3. **Customize Fields (Optional)**\n   - Modify the `Update a company` node to match your internal CRM fields\n   - Add logging, Slack notifications, or conditional branches if needed\n\n---\n\n## üîê Security Notes\n\n- Workflow checks `portalId`, `objectId`, and event type\n- Test-mode detection using a known company ID\n- Errors are routed via dedicated error branches\n\n---\n\n## üß™ Testing\n\n1. Create or update a company in HubSpot with a known domain\n2. Trigger the webhook from HubSpot\n3. Check n8n‚Äôs execution history\n4. Verify enrichment in HubSpot\n\n---\n\n## üñº Screenshots\n\n**Before enrichment**  \n![Before](https://www.bedrijfsdata.nl/wp-content/uploads/2025/07/Schermafbeelding-2025-07-28-om-13.00.55.png)\n\n**After enrichment**  \n![After](https://www.bedrijfsdata.nl/wp-content/uploads/2025/07/Schermafbeelding-2025-07-28-om-13.03.47.png)\n\n---\n\n## üìå About Bedrijfsdata.nl\n\nBedrijfsdata.nl operates the most comprehensive company database in the Netherlands. With real-time data on 3.7M+ businesses and AI-ready APIs, we help Dutch SMEs enrich their CRM, workflows, and marketing automation. Built on 25+ years of experience in data collection and enrichment, our technology brings corporate-grade data quality to every organisation.\n\nWebsite: [https://www.bedrijfsdata.nl](https://www.bedrijfsdata.nl)  \nDevelopers: [developers.bedrijfsdata.nl](https://developers.bedrijfsdata.nl)  \n\n---\n\n## üìû Support\n\n- Email: klantenservice@bedrijfsdata.nl  \n- Phone: +31 20 789 50 50  \n- Support hours: Monday‚ÄìFriday, 09:00‚Äì17:00 CET\n",
  "createdAt": "2025-07-28T12:21:00.667Z",
  "nodes": [
    {
      "id": 20,
      "icon": "fa:map-signs",
      "name": "n8n-nodes-base.if",
      "codex": {
        "data": {
          "alias": [
            "Router",
            "Filter",
            "Condition",
            "Logic",
            "Boolean",
            "Branch"
          ],
          "details": "The IF node can be used to implement binary conditional logic in your workflow. You can set up one-to-many conditions to evaluate each item of data being inputted into the node. That data will either evaluate to TRUE or FALSE and route out of the node accordingly.\n\nThis node has multiple types of conditions: Bool, String, Number, and Date & Time.",
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                "icon": "üè≠",
                "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
              },
              {
                "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                "icon": "‚òÄÔ∏è",
                "label": "2021: The Year to Automate the New You with n8n"
              },
              {
                "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                "icon": "üß¨",
                "label": "Why business process automation with n8n can change your daily life"
              },
              {
                "url": "https://n8n.io/blog/create-a-toxic-language-detector-for-telegram/",
                "icon": "ü§¨",
                "label": "Create a toxic language detector for Telegram in 4 step"
              },
              {
                "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                "icon": "store",
                "label": "6 e-commerce workflows to power up your Shopify s"
              },
              {
                "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                "icon": "üîó",
                "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
              },
              {
                "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                "icon": "‚öôÔ∏è",
                "label": "Automate your data processing pipeline in 9 steps"
              },
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "üë•",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                "icon": "‚ö°Ô∏è",
                "label": "5 tasks you can automate with the new Notion API "
              },
              {
                "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                "icon": "üí°",
                "label": "15 Google apps you can combine and automate to increase productivity"
              },
              {
                "url": "https://n8n.io/blog/automation-for-maintainers-of-open-source-projects/",
                "icon": "üè∑Ô∏è",
                "label": "How to automatically manage contributions to open-source projects"
              },
              {
                "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                "icon": " üï∏Ô∏è",
                "label": "How uProc scraped a multi-page website with a low-code workflow"
              },
              {
                "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                "icon": "ü§ñ",
                "label": "5 workflow automations for Mattermost that we love at n8n"
              },
              {
                "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                "icon": "üß†",
                "label": "Why this Product Manager loves workflow automation with n8n"
              },
              {
                "url": "https://n8n.io/blog/sending-automated-congratulations-with-google-sheets-twilio-and-n8n/",
                "icon": "üôå",
                "label": "Sending Automated Congratulations with Google Sheets, Twilio, and n8n "
              },
              {
                "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                "icon": "üé°",
                "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
              },
              {
                "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                "icon": "üéñ",
                "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.if/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Flow"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "If",
        "color": "#408000"
      },
      "iconData": {
        "icon": "map-signs",
        "type": "icon"
      },
      "displayName": "If",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 26,
      "icon": "fa:arrow-right",
      "name": "n8n-nodes-base.noOp",
      "codex": {
        "data": {
          "alias": [
            "nothing"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                "icon": "üè≠",
                "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
              },
              {
                "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                "icon": "‚òÄÔ∏è",
                "label": "2021: The Year to Automate the New You with n8n"
              },
              {
                "url": "https://n8n.io/blog/create-a-toxic-language-detector-for-telegram/",
                "icon": "ü§¨",
                "label": "Create a toxic language detector for Telegram in 4 step"
              },
              {
                "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                "icon": "store",
                "label": "6 e-commerce workflows to power up your Shopify s"
              },
              {
                "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                "icon": "‚öôÔ∏è",
                "label": "Automate your data processing pipeline in 9 steps"
              },
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "üë•",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                "icon": "‚ö°Ô∏è",
                "label": "5 tasks you can automate with the new Notion API "
              },
              {
                "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                "icon": "ü§ñ",
                "label": "5 workflow automations for Mattermost that we love at n8n"
              },
              {
                "url": "https://n8n.io/blog/sending-automated-congratulations-with-google-sheets-twilio-and-n8n/",
                "icon": "üôå",
                "label": "Sending Automated Congratulations with Google Sheets, Twilio, and n8n "
              },
              {
                "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                "icon": "üé°",
                "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
              },
              {
                "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                "icon": "üéñ",
                "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
              },
              {
                "url": "https://n8n.io/blog/aws-workflow-automation/",
                "label": "7 no-code workflow automations for Amazon Web Services"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.noop/"
              }
            ]
          },
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"organization\"]",
      "defaults": {
        "name": "No Operation, do nothing",
        "color": "#b0b0b0"
      },
      "iconData": {
        "icon": "arrow-right",
        "type": "icon"
      },
      "displayName": "No Operation, do nothing",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 47,
      "icon": "file:webhook.svg",
      "name": "n8n-nodes-base.webhook",
      "codex": {
        "data": {
          "alias": [
            "HTTP",
            "API",
            "Build",
            "WH"
          ],
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/learn-how-to-automatically-cross-post-your-content-with-n8n/",
                "icon": "‚úçÔ∏è",
                "label": "Learn how to automatically cross-post your content with n8n"
              },
              {
                "url": "https://n8n.io/blog/running-n8n-on-ships-an-interview-with-maranics/",
                "icon": "üõ≥",
                "label": "Running n8n on ships: An interview with Maranics"
              },
              {
                "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                "icon": "üîó",
                "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
              },
              {
                "url": "https://n8n.io/blog/what-are-apis-how-to-use-them-with-no-code/",
                "icon": " ü™¢",
                "label": "What are APIs and how to use them with no code"
              },
              {
                "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                "icon": "‚ö°Ô∏è",
                "label": "5 tasks you can automate with the new Notion API "
              },
              {
                "url": "https://n8n.io/blog/how-a-digital-strategist-uses-n8n-for-online-marketing/",
                "icon": "üíª",
                "label": "How a digital strategist uses n8n for online marketing"
              },
              {
                "url": "https://n8n.io/blog/the-ultimate-guide-to-automate-your-video-collaboration-with-whereby-mattermost-and-n8n/",
                "icon": "üìπ",
                "label": "The ultimate guide to automate your video collaboration with Whereby, Mattermost, and n8n"
              },
              {
                "url": "https://n8n.io/blog/how-to-automatically-give-kudos-to-contributors-with-github-slack-and-n8n/",
                "icon": "üëè",
                "label": "How to automatically give kudos to contributors with GitHub, Slack, and n8n"
              },
              {
                "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                "icon": "ü§ñ",
                "label": "5 workflow automations for Mattermost that we love at n8n"
              },
              {
                "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                "icon": "üß†",
                "label": "Why this Product Manager loves workflow automation with n8n"
              },
              {
                "url": "https://n8n.io/blog/creating-custom-incident-response-workflows-with-n8n/",
                "label": "How to automate every step of an incident response workflow"
              },
              {
                "url": "https://n8n.io/blog/learn-to-build-powerful-api-endpoints-using-webhooks/",
                "icon": "üß∞",
                "label": "Learn to Build Powerful API Endpoints Using Webhooks"
              },
              {
                "url": "https://n8n.io/blog/learn-how-to-use-webhooks-with-mattermost-slash-commands/",
                "icon": "ü¶Ñ",
                "label": "Learn how to use webhooks with Mattermost slash commands"
              },
              {
                "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                "icon": "üõµ",
                "label": "How Goomer automated their operations with over 200 n8n workflows"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.webhook/"
              }
            ]
          },
          "categories": [
            "Development",
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"trigger\"]",
      "defaults": {
        "name": "Webhook"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCI+PHBhdGggZmlsbD0iIzM3NDc0ZiIgZD0iTTM1IDM3Yy0yLjIgMC00LTEuOC00LTRzMS44LTQgNC00IDQgMS44IDQgNC0xLjggNC00IDQiLz48cGF0aCBmaWxsPSIjMzc0NzRmIiBkPSJNMzUgNDNjLTMgMC01LjktMS40LTcuOC0zLjdsMy4xLTIuNWMxLjEgMS40IDIuOSAyLjMgNC43IDIuMyAzLjMgMCA2LTIuNyA2LTZzLTIuNy02LTYtNmMtMSAwLTIgLjMtMi45LjdsLTEuNyAxTDIzLjMgMTZsMy41LTEuOSA1LjMgOS40YzEtLjMgMi0uNSAzLS41IDUuNSAwIDEwIDQuNSAxMCAxMFM0MC41IDQzIDM1IDQzIi8+PHBhdGggZmlsbD0iIzM3NDc0ZiIgZD0iTTE0IDQzQzguNSA0MyA0IDM4LjUgNCAzM2MwLTQuNiAzLjEtOC41IDcuNS05LjdsMSAzLjlDOS45IDI3LjkgOCAzMC4zIDggMzNjMCAzLjMgMi43IDYgNiA2czYtMi43IDYtNnYtMmgxNXY0SDIzLjhjLS45IDQuNi01IDgtOS44IDgiLz48cGF0aCBmaWxsPSIjZTkxZTYzIiBkPSJNMTQgMzdjLTIuMiAwLTQtMS44LTQtNHMxLjgtNCA0LTQgNCAxLjggNCA0LTEuOCA0LTQgNCIvPjxwYXRoIGZpbGw9IiMzNzQ3NGYiIGQ9Ik0yNSAxOWMtMi4yIDAtNC0xLjgtNC00czEuOC00IDQtNCA0IDEuOCA0IDQtMS44IDQtNCA0Ii8+PHBhdGggZmlsbD0iI2U5MWU2MyIgZD0ibTE1LjcgMzQtMy40LTIgNS45LTkuN2MtMi0xLjktMy4yLTQuNS0zLjItNy4zIDAtNS41IDQuNS0xMCAxMC0xMHMxMCA0LjUgMTAgMTBjMCAuOS0uMSAxLjctLjMgMi41bC0zLjktMWMuMS0uNS4yLTEgLjItMS41IDAtMy4zLTIuNy02LTYtNnMtNiAyLjctNiA2YzAgMi4xIDEuMSA0IDIuOSA1LjFsMS43IDF6Ii8+PC9zdmc+"
      },
      "displayName": "Webhook",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 5,
          "name": "Development"
        },
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 76,
      "icon": "file:hubspot.svg",
      "name": "n8n-nodes-base.hubspot",
      "codex": {
        "data": {
          "resources": {
            "generic": [
              {
                "url": "https://n8n.io/blog/how-to-sync-data-between-two-systems/",
                "icon": "üè¨",
                "label": "How to synchronize data between two systems (one-way vs. two-way sync"
              },
              {
                "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                "icon": "üë•",
                "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
              },
              {
                "url": "https://n8n.io/blog/your-business-doesnt-need-you-to-operate/",
                "icon": " üñ•Ô∏è",
                "label": "Hey founders! Your business doesn't need you to operate"
              },
              {
                "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                "icon": "üéñ",
                "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
              },
              {
                "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                "icon": "üõµ",
                "label": "How Goomer automated their operations with over 200 n8n workflows"
              }
            ],
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.hubspot/"
              }
            ],
            "credentialDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/credentials/hubspot/"
              }
            ]
          },
          "categories": [
            "Sales"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0"
        }
      },
      "group": "[\"output\"]",
      "defaults": {
        "name": "HubSpot"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiB2aWV3Qm94PSIwIDAgNjIuODgzIDY5Ljg4MyI+PHVzZSB4bGluazpocmVmPSIjYSIgeD0iMi40NDIiIHk9IjIuNDQyIi8+PHN5bWJvbCBpZD0iYSIgb3ZlcmZsb3c9InZpc2libGUiPjxwYXRoIGZpbGw9IiNmODc2MWYiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlPSJub25lIiBkPSJNNTUuNTA0IDMwLjQwMWExNi4yNiAxNi4yNiAwIDAgMC01LjkwNC01Ljg2NGMtMS44NjUtMS4wODQtMy43OTQtMS43NzMtNS45NzItMi4wN3YtNy43OThhNS43MSA1LjcxIDAgMCAwIDMuNTI1LTUuMzU3IDUuODYgNS44NiAwIDAgMC01Ljg1OS01Ljg4OSA1LjkxIDUuOTEgMCAwIDAtNS45MDggNS44ODljMCAyLjM5MyAxLjI3IDQuNDM0IDMuNDUyIDUuMzU3djcuNzU0YTE3IDE3IDAgMCAwLTUuMTk1IDEuNjMxTDEyLjc2OSA4LjI0N2MuMTQ2LS41NTIuMjczLTEuMTIzLjI3My0xLjcyNEE2LjUyIDYuNTIgMCAwIDAgNi41MTkgMCA2LjUyIDYuNTIgMCAwIDAgMCA2LjUyNGE2LjUyMyA2LjUyMyAwIDAgMCA2LjUyNCA2LjUyNCA2LjQ3IDYuNDcgMCAwIDAgMy4zNS0uOTUybDEuMzY3IDEuMDM1IDE4LjcyNiAxMy41MDFjLS45OTEuOTA4LTEuOTE0IDEuOTQzLTIuNjUxIDMuMTA1LTEuNDk0IDIuMzY4LTIuNDA3IDQuOTcxLTIuNDA3IDcuODEzdi41ODZhMTYuNCAxNi40IDAgMCAwIDEuMDI1IDUuNjQ1QzI2LjUgNDUuMzI0IDI3LjMzIDQ2LjczIDI4LjM2MSA0OGwtNi4yMjEgNi4yMzVhNS4wMSA1LjAxIDAgMCAwLTUuMjk4IDEuMTYyYy0uOTQ3Ljk0Mi0xLjQ4IDIuMjI3LTEuNDc1IDMuNTY1cy41MjcgMi42MTIgMS40NzkgMy41NjQgMi4yMjcgMS40OCAzLjU2NSAxLjQ4YTUgNSAwIDAgMCAzLjU2NS0xLjQ4IDUuMDUgNS4wNSAwIDAgMCAxLjQ3NS0zLjU2NCA1IDUgMCAwIDAtLjIzNC0xLjUxNGw2LjQyNi02LjQyNmExNiAxNiAwIDAgMCAyLjg1NiAxLjU2MyAxNi43IDE2LjcgMCAwIDAgNi42ODUgMS40MDZoLjQzOWExNS43NiAxNS43NiAwIDAgMCA3LjYyNy0xLjkyOSAxNS43NyAxNS43NyAwIDAgMCA1Ljk3Ny01LjYzYzEuNDk5LTIuMzkzIDIuMzE5LTUuMDQ0IDIuMzE5LTcuOTU5di0uMTQ2YzAtMi44NjYtLjY2NC01LjUwOC0yLjA1MS03Ljkzem0tNy44NDcgMTMuNDg3Yy0xLjc0MyAxLjkzOC0zLjc1IDMuMTM1LTYuMDE2IDMuMTM1aC0uNDNjLTEuMjk0IDAtMi41NjQtLjM1Ni0zLjc5OS0xLjAxMWE4LjggOC44IDAgMCAxLTMuMzMtMy4wMzJjLS44OTgtMS4yNy0xLjM4Ny0yLjY1Ni0xLjM4Ny00LjEyNnYtLjQzOWMwLTEuNDQ1LjI3OC0yLjgxNy45NzctNC4xMTEuNzQ3LTEuNDY1IDEuNzU4LTIuNTE1IDMuMTAxLTMuMzg5YTcuNiA3LjYgMCAwIDEgNC4yOTctMS4yOTRoLjE0N2MxLjQxNiAwIDIuNzY5LjI3OCA0LjAzOC45MjhhOC41NiA4LjU2IDAgMCAxIDMuMTc0IDIuODg2IDkuMiA5LjIgMCAwIDEgMS40MjEgNC4wNTNsLjAzNC45MTNjMCAxLjk4Ny0uNzYyIDMuODI4LTIuMjggNS40OTh6Ii8+PC9zeW1ib2w+PC9zdmc+"
      },
      "displayName": "HubSpot",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 2,
          "name": "Sales"
        }
      ]
    },
    {
      "id": 565,
      "icon": "fa:sticky-note",
      "name": "n8n-nodes-base.stickyNote",
      "codex": {
        "data": {
          "alias": [
            "Comments",
            "Notes",
            "Sticky"
          ],
          "categories": [
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers"
            ]
          }
        }
      },
      "group": "[\"input\"]",
      "defaults": {
        "name": "Sticky Note",
        "color": "#FFD233"
      },
      "iconData": {
        "icon": "sticky-note",
        "type": "icon"
      },
      "displayName": "Sticky Note",
      "typeVersion": 1,
      "nodeCategories": [
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    },
    {
      "id": 834,
      "icon": "file:code.svg",
      "name": "n8n-nodes-base.code",
      "codex": {
        "data": {
          "alias": [
            "cpde",
            "Javascript",
            "JS",
            "Python",
            "Script",
            "Custom Code",
            "Function"
          ],
          "details": "The Code node allows you to execute JavaScript in your workflow.",
          "resources": {
            "primaryDocumentation": [
              {
                "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.code/"
              }
            ]
          },
          "categories": [
            "Development",
            "Core Nodes"
          ],
          "nodeVersion": "1.0",
          "codexVersion": "1.0",
          "subcategories": {
            "Core Nodes": [
              "Helpers",
              "Data Transformation"
            ]
          }
        }
      },
      "group": "[\"transform\"]",
      "defaults": {
        "name": "Code"
      },
      "iconData": {
        "type": "file",
        "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xMTcxXzQ0MSkiPgo8cGF0aCBkPSJNMTcwLjI4MyA0OEgxOTYuNUMyMDMuMTI3IDQ4IDIwOC41IDQyLjYyNzQgMjA4LjUgMzZWMTJDMjA4LjUgNS4zNzI1OCAyMDMuMTI3IDAgMTk2LjUgMEgxNzAuMjgzQzEyNi4xIDAgOTAuMjgzIDM1LjgxNzIgOTAuMjgzIDgwVjE3NkM5MC4yODMgMjA2LjkyOCA2NS4yMTA5IDIzMiAzNC4yODMgMjMySDIzQzE2LjM3MjYgMjMyIDExIDIzNy4zNzIgMTEgMjQ0VjI2OEMxMSAyNzQuNjI3IDE2LjM3MjQgMjgwIDIyLjk5OTYgMjgwTDM0LjI4MyAyODBDNjUuMjEwOSAyODAgOTAuMjgzIDMwNS4wNzIgOTAuMjgzIDMzNlY0NDBDOTAuMjgzIDQ3OS43NjQgMTIyLjUxOCA1MTIgMTYyLjI4MyA1MTJIMTk2LjVDMjAzLjEyNyA1MTIgMjA4LjUgNTA2LjYyNyAyMDguNSA1MDBWNDc2QzIwOC41IDQ2OS4zNzMgMjAzLjEyNyA0NjQgMTk2LjUgNDY0SDE2Mi4yODNDMTQ5LjAyOCA0NjQgMTM4LjI4MyA0NTMuMjU1IDEzOC4yODMgNDQwVjMzNkMxMzguMjgzIDMwOS4wMjIgMTI4LjAxMSAyODQuNDQzIDExMS4xNjQgMjY1Ljk2MUMxMDYuMTA5IDI2MC40MTYgMTA2LjEwOSAyNTEuNTg0IDExMS4xNjQgMjQ2LjAzOUMxMjguMDExIDIyNy41NTcgMTM4LjI4MyAyMDIuOTc4IDEzOC4yODMgMTc2VjgwQzEzOC4yODMgNjIuMzI2OSAxNTIuNjEgNDggMTcwLjI4MyA0OFoiIGZpbGw9IiNGRjk5MjIiLz4KPHBhdGggZD0iTTMwNSAzNkMzMDUgNDIuNjI3NCAzMTAuMzczIDQ4IDMxNyA0OEgzNDIuOTc5QzM2MC42NTIgNDggMzc0Ljk3OCA2Mi4zMjY5IDM3NC45NzggODBWMTc2QzM3NC45NzggMjAyLjk3OCAzODUuMjUxIDIyNy41NTcgNDAyLjA5OCAyNDYuMDM5QzQwNy4xNTMgMjUxLjU4NCA0MDcuMTUzIDI2MC40MTYgNDAyLjA5OCAyNjUuOTYxQzM4NS4yNTEgMjg0LjQ0MyAzNzQuOTc4IDMwOS4wMjIgMzc0Ljk3OCAzMzZWNDMyQzM3NC45NzggNDQ5LjY3MyAzNjAuNjUyIDQ2NCAzNDIuOTc5IDQ2NEgzMTdDMzEwLjM3MyA0NjQgMzA1IDQ2OS4zNzMgMzA1IDQ3NlY1MDBDMzA1IDUwNi42MjcgMzEwLjM3MyA1MTIgMzE3IDUxMkgzNDIuOTc5QzM4Ny4xNjEgNTEyIDQyMi45NzggNDc2LjE4MyA0MjIuOTc4IDQzMlYzMzZDNDIyLjk3OCAzMDUuMDcyIDQ0OC4wNTEgMjgwIDQ3OC45NzkgMjgwSDQ5MEM0OTYuNjI3IDI4MCA1MDIgMjc0LjYyOCA1MDIgMjY4VjI0NEM1MDIgMjM3LjM3MyA0OTYuNjI4IDIzMiA0OTAgMjMyTDQ3OC45NzkgMjMyQzQ0OC4wNTEgMjMyIDQyMi45NzggMjA2LjkyOCA0MjIuOTc4IDE3NlY4MEM0MjIuOTc4IDM1LjgxNzIgMzg3LjE2MSAwIDM0Mi45NzkgMEgzMTdDMzEwLjM3MyAwIDMwNSA1LjM3MjU4IDMwNSAxMlYzNloiIGZpbGw9IiNGRjk5MjIiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xMTcxXzQ0MSI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="
      },
      "displayName": "Code",
      "typeVersion": 2,
      "nodeCategories": [
        {
          "id": 5,
          "name": "Development"
        },
        {
          "id": 9,
          "name": "Core Nodes"
        }
      ]
    }
  ],
  "views": 61,
  "recentViews": 0,
  "workflow": {
    "id": "cVd6mI56A2ruupJ7",
    "meta": {
      "instanceId": "04f23e4c433f478fbd7cc8c4ceff447b7061f1e9f3641a5ebf456657ac823807",
      "templateCredsSetupCompleted": true
    },
    "name": "Enrich Hubspot Companies",
    "tags": [],
    "nodes": [
      {
        "id": "841f4da5-7a5f-4d54-ac48-4c37d7437beb",
        "name": "Hubspot - Company - Enrichment request",
        "type": "n8n-nodes-base.webhook",
        "position": [
          -16,
          0
        ],
        "webhookId": "b5e3e64f-f57a-4d08-8631-9bc61416193d",
        "parameters": {
          "path": "b5e3e64f-f57a-4d08-8631-9bc61416193d",
          "options": {},
          "httpMethod": "POST"
        },
        "typeVersion": 2
      },
      {
        "id": "483ba532-1775-42b8-95c3-189170052ebf",
        "name": "Get TEST Company Data",
        "type": "n8n-nodes-base.hubspot",
        "onError": "continueErrorOutput",
        "position": [
          496,
          32
        ],
        "parameters": {
          "resource": "company",
          "companyId": {
            "__rl": true,
            "mode": "list",
            "value": 7611838964,
            "cachedResultName": "TEST COMPANY"
          },
          "operation": "get",
          "authentication": "oAuth2",
          "additionalFields": {}
        },
        "credentials": {
          "hubspotOAuth2Api": {
            "id": "8J6vWIspjToV6Qwv",
            "name": "HubSpot account 2"
          }
        },
        "typeVersion": 2.1,
        "alwaysOutputData": false
      },
      {
        "id": "87781cab-5d7a-46b8-af7f-20efddf33236",
        "name": "Is TEST Mode?",
        "type": "n8n-nodes-base.if",
        "position": [
          496,
          -112
        ],
        "parameters": {
          "options": {},
          "conditions": {
            "options": {
              "version": 2,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "combinator": "and",
            "conditions": [
              {
                "id": "c3ddf742-0db2-42c2-a021-220636a7215a",
                "operator": {
                  "type": "number",
                  "operation": "equals"
                },
                "leftValue": "={{ $json.body[0].objectId }}",
                "rightValue": 123
              }
            ]
          }
        },
        "typeVersion": 2.2
      },
      {
        "id": "9600d2e3-d397-4f2f-aa1f-3937055d0420",
        "name": "Validate Incoming Data",
        "type": "n8n-nodes-base.if",
        "position": [
          240,
          0
        ],
        "parameters": {
          "options": {},
          "conditions": {
            "options": {
              "version": 2,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "combinator": "and",
            "conditions": [
              {
                "id": "547f3272-86e1-4d04-9182-4aa05d5aacdf",
                "operator": {
                  "type": "boolean",
                  "operation": "true",
                  "singleValue": true
                },
                "leftValue": "={{ !!$json.body[0].objectId }}",
                "rightValue": ""
              },
              {
                "id": "1143d9d4-385c-4fc9-98ba-a5a454e2b7ef",
                "operator": {
                  "type": "number",
                  "operation": "equals"
                },
                "leftValue": "={{ $json.body[0].portalId }}",
                "rightValue": 139601726
              },
              {
                "id": "21398e1b-dd3f-47ec-bea0-3b5ebe2a34e3",
                "operator": {
                  "name": "filter.operator.equals",
                  "type": "string",
                  "operation": "equals"
                },
                "leftValue": "={{ $json.body[0].subscriptionType }}",
                "rightValue": "company.propertyChange"
              }
            ]
          }
        },
        "typeVersion": 2.2
      },
      {
        "id": "ad1b73d5-bd6f-4207-b18d-c2cfb3e73834",
        "name": "Enrich company data",
        "type": "@bedrijfsdatanl/n8n-nodes-bedrijfsdata.bedrijfsdata",
        "onError": "continueErrorOutput",
        "position": [
          1184,
          32
        ],
        "parameters": {
          "url": "={{ $json.properties.domain.value }}",
          "city": "={{ $json.properties.city.value}}",
          "name": "={{ $json.properties.name.value }}",
          "details": true,
          "resource": "enrich",
          "requestOptions": {}
        },
        "credentials": {
          "bedrijfsdataApi": {
            "id": "G5an8JqsPZzMrxn7",
            "name": "TEMP"
          }
        },
        "typeVersion": 1,
        "alwaysOutputData": true
      },
      {
        "id": "53635275-968e-4f70-81ab-b67c4064b1fb",
        "name": "Has Known Bedrijfsdata ID",
        "type": "n8n-nodes-base.if",
        "position": [
          960,
          32
        ],
        "parameters": {
          "options": {},
          "conditions": {
            "options": {
              "version": 2,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "combinator": "and",
            "conditions": [
              {
                "id": "a2b1940e-eebd-4337-b5c6-2d1f3a8cba4e",
                "operator": {
                  "type": "boolean",
                  "operation": "true",
                  "singleValue": true
                },
                "leftValue": "={{ !!$json.properties.prospectpro_id.value && $json.properties.prospectpro_id.value !== '' }}",
                "rightValue": ""
              }
            ]
          }
        },
        "typeVersion": 2.2
      },
      {
        "id": "0c370c1f-7e68-48f5-aa10-c004c619c74e",
        "name": "Get company",
        "type": "@bedrijfsdatanl/n8n-nodes-bedrijfsdata.bedrijfsdata",
        "onError": "continueErrorOutput",
        "position": [
          1184,
          -304
        ],
        "parameters": {
          "id": "={{ $json.properties.prospectpro_id.value }}",
          "details": true,
          "operation": "get",
          "requestOptions": {}
        },
        "credentials": {
          "bedrijfsdataApi": {
            "id": "G5an8JqsPZzMrxn7",
            "name": "TEMP"
          }
        },
        "typeVersion": 1,
        "alwaysOutputData": true
      },
      {
        "id": "cc4a6457-d12f-48d7-b0b7-deffcdf281a8",
        "name": "Update a company",
        "type": "n8n-nodes-base.hubspot",
        "onError": "continueErrorOutput",
        "position": [
          1936,
          16
        ],
        "parameters": {
          "resource": "company",
          "companyId": {
            "__rl": true,
            "mode": "id",
            "value": "={{ $('Hubspot - Company - Enrichment request').first().json.body[0].objectId !== 123 ? $('Hubspot - Company - Enrichment request').first().json.body[0].objectId : $('Get TEST Company Data').first().json.companyId }}"
          },
          "operation": "update",
          "updateFields": {
            "customPropertiesUi": {
              "customPropertiesValues": [
                {
                  "value": "={{ $json.id }}",
                  "property": "prospectpro_id"
                },
                {
                  "value": "={{ $json.coc }}",
                  "property": "kvk"
                },
                {
                  "value": "={{ Array.isArray($json.linkedin_link) ?$json.linkedin_link[0] : $json.linkedin_link }}",
                  "property": "linkedin_link"
                }
              ]
            }
          },
          "authentication": "oAuth2"
        },
        "credentials": {
          "hubspotOAuth2Api": {
            "id": "8J6vWIspjToV6Qwv",
            "name": "HubSpot account 2"
          }
        },
        "typeVersion": 2.1
      },
      {
        "id": "8a39e467-3b25-4e5c-9821-2bcb748d9c7a",
        "name": "Sticky Note",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -80,
          -448
        ],
        "parameters": {
          "color": 2,
          "height": 640,
          "content": "## Hubspot Trigger\nAs the Hubspot's n8n trigger requires setting up a developer account and creating a public app, it's often easier to use n8n's Webhook Trigger. This allows you to use a [Hubspot private app](https://developers.hubspot.com/docs/guides/apps/private-apps/overview) instead. After creating a private app, [add the n8n webhook](https://developers.hubspot.com/docs/guides/apps/private-apps/create-and-edit-webhook-subscriptions-in-private-apps) and make sure it subscribes to **company.propertyChange** events.\n\n**Check out** the screenshots (left bottom) for details on the required Hubspot Private App setup."
        },
        "typeVersion": 1
      },
      {
        "id": "8becaa25-6fdd-4e75-ae7b-6786b962fb3e",
        "name": "Sticky Note1",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          176,
          -448
        ],
        "parameters": {
          "color": 4,
          "height": 640,
          "content": "## Event filtering & security\nAs Hubspot private apps allow you to listen for an array of events, you need to make sure this workflow only runs on to appropriate events.\n\nAdditionally, you need to ensure a Hubspot Company ID is provided.\n\n**Extra:** as your n8n webhook is publicly available, you may want to add an additional check for the correct Hubspot Portal ID as an layer of protection."
        },
        "typeVersion": 1
      },
      {
        "id": "30b20d79-d54e-4a87-a6d6-51c2e9458b09",
        "name": "Sticky Note2",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          432,
          -448
        ],
        "parameters": {
          "color": 6,
          "height": 640,
          "content": "## Testing your webhook in Hubspot\nWhen testing your connection between Hubspot and n8n, Hubspot will provide a non-existing Company ID. As you need an existing ID to test your workflow properly, we've added an extra step to filter this scenario and select a test-company of your choosing."
        },
        "typeVersion": 1
      },
      {
        "id": "2f48cf70-93da-40d4-93da-56c31229bd0d",
        "name": "Get Company Data",
        "type": "n8n-nodes-base.hubspot",
        "onError": "continueErrorOutput",
        "position": [
          768,
          -96
        ],
        "parameters": {
          "resource": "company",
          "companyId": {
            "__rl": true,
            "mode": "id",
            "value": "={{ $json.body[0].objectId }}"
          },
          "operation": "get",
          "authentication": "oAuth2",
          "additionalFields": {}
        },
        "credentials": {
          "hubspotOAuth2Api": {
            "id": "8J6vWIspjToV6Qwv",
            "name": "HubSpot account 2"
          }
        },
        "typeVersion": 2.1,
        "alwaysOutputData": false
      },
      {
        "id": "91ff90e3-bfd8-47f5-9277-37faf941d595",
        "name": "Sticky Note3",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          688,
          -448
        ],
        "parameters": {
          "width": 432,
          "height": 640,
          "content": "## Select the appropriate sub-flow \nBedrijfsdata.nl has multiple options for retrieving company information. When we need to retrieve a specific company, we have two options:\n\n1. Search by Bedrijfsdata.nl ID (Get company)\n2. Let Bedrijfsdata.nl retrieve the appropriate profile based on available data (Enrich company data)\n\n\nAs your CRM may contain limited data, as well as typo's, it's always best to retrieve company data by ID. As this is not provided by Hubspot when the webhook is called, we need to retrieve this data from Hubspot separately.\n\n**Note:** As the Bedrijfsdata ID is set by this workflow, it will always be available in a second updating cycle."
        },
        "typeVersion": 1
      },
      {
        "id": "4cb536da-e973-4bcc-9541-f9b4631f4805",
        "name": "Sticky Note4",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          1136,
          -448
        ],
        "parameters": {
          "color": 5,
          "width": 704,
          "height": 304,
          "content": "## Retrieve company data by Bedrijfsdata.nl ID\nBedrijfsdata.nl ID's are persistent and should always be stored wherever you save our data (for updating purposes). In addition to our API's, such ID's can be obtained when purchasing a dataset from our website or by using [ProspectPro](https://www.prospectpro.nl) (our B2B prospecting software)."
        },
        "typeVersion": 1
      },
      {
        "id": "652beaaf-b397-47ab-a38f-5e58bdca30eb",
        "name": "Sticky Note5",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          1136,
          -128
        ],
        "parameters": {
          "color": 5,
          "width": 704,
          "height": 320,
          "content": "## Retrieve company data by whatever information you have available in Hubspot\nOur advanced matching algoritmes can retrieve the appropriate company profiles by a combination of company names, websites, cities, and more. Simply provide whatever you have and let us do the heavy lifting."
        },
        "typeVersion": 1
      },
      {
        "id": "2fa753b1-6c5a-49b8-ac41-2ae26f5446cb",
        "name": "If the company profile is found..",
        "type": "n8n-nodes-base.if",
        "position": [
          1440,
          -320
        ],
        "parameters": {
          "options": {},
          "conditions": {
            "options": {
              "version": 2,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "combinator": "and",
            "conditions": [
              {
                "id": "56f2c326-40f7-4130-be1d-63731bd437c5",
                "operator": {
                  "type": "number",
                  "operation": "gt"
                },
                "leftValue": "={{ $json.total }}",
                "rightValue": 0
              }
            ]
          }
        },
        "typeVersion": 2.2
      },
      {
        "id": "4920639e-4353-49dd-93e2-e2e19c82f741",
        "name": "If your data can be matched..",
        "type": "n8n-nodes-base.if",
        "position": [
          1440,
          16
        ],
        "parameters": {
          "options": {},
          "conditions": {
            "options": {
              "version": 2,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "combinator": "and",
            "conditions": [
              {
                "id": "6de0a669-92b2-436f-a80f-32070367fda7",
                "operator": {
                  "type": "number",
                  "operation": "gt"
                },
                "leftValue": "={{$json.found}}",
                "rightValue": 0
              }
            ]
          }
        },
        "typeVersion": 2.2
      },
      {
        "id": "23c4d33b-a20f-46ff-98c7-78a1f5c231a2",
        "name": "Output only the best match",
        "type": "n8n-nodes-base.code",
        "position": [
          1680,
          -336
        ],
        "parameters": {
          "jsCode": "const input = items[0].json;\nconst firstCompany = input.companies?.[0];\n\nreturn [\n  {\n    json: firstCompany\n  }\n];"
        },
        "typeVersion": 2
      },
      {
        "id": "ac8c797e-0dc5-4f7c-9bf0-96e57943e606",
        "name": "Reformat for processing",
        "type": "n8n-nodes-base.code",
        "position": [
          1680,
          0
        ],
        "parameters": {
          "jsCode": "const input = items[0].json;\nconst company = input.company;\n\nreturn [\n  {\n    json: company\n  }\n];"
        },
        "typeVersion": 2
      },
      {
        "id": "666fcb21-9f42-4b69-94ad-086bef496bdf",
        "name": "Sticky Note6",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          1856,
          -448
        ],
        "parameters": {
          "color": 2,
          "height": 640,
          "content": "## Update in Hubspot\nNow it's time to map whatever data you need from our company profiles to the fields you want to put them in in Hubspot.\n\n**Please note** we have dozens of data points available. Check our [documentation](https://docs.bedrijfsdata.nl) for more information."
        },
        "typeVersion": 1
      },
      {
        "id": "f922001d-9efa-4a09-aed6-761376589633",
        "name": "Error type 1: Invalid request from Hubspot",
        "type": "n8n-nodes-base.noOp",
        "position": [
          496,
          352
        ],
        "parameters": {},
        "typeVersion": 1
      },
      {
        "id": "3472ce79-ef9b-4820-b521-dd858a44425d",
        "name": "Sticky Note7",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -80,
          320
        ],
        "parameters": {
          "color": 3,
          "width": 2432,
          "height": 192,
          "content": "## Error handling\nPlease always handle potential errors properly.\n\n**For example**: log in Google Sheet, send Slack/Telegram/email notification."
        },
        "typeVersion": 1
      },
      {
        "id": "659f5b89-eb7f-48c7-94c1-96c8a02e7d6e",
        "name": "Error type 3: Bedrijfsdata.nl API (like insufficient credits)",
        "type": "n8n-nodes-base.noOp",
        "position": [
          1440,
          352
        ],
        "parameters": {},
        "typeVersion": 1
      },
      {
        "id": "accd448b-f196-49d4-a26e-c026a77c6797",
        "name": "Error type 4 - No company found",
        "type": "n8n-nodes-base.noOp",
        "position": [
          1680,
          352
        ],
        "parameters": {},
        "typeVersion": 1
      },
      {
        "id": "277d506a-65b3-4e38-af64-6f9e471d9fc9",
        "name": "Error type 2 - Hubspot error",
        "type": "n8n-nodes-base.noOp",
        "position": [
          960,
          352
        ],
        "parameters": {},
        "typeVersion": 1
      },
      {
        "id": "61154913-14ac-4924-a5ab-5c685c3fb242",
        "name": "Sticky Note8",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          2112,
          -448
        ],
        "parameters": {
          "color": 7,
          "height": 640,
          "content": "## Enrichment completed!\n**Optionally** create a log or trigger another workflow (like searching for decision makers, scraping website data, creating a task or composing outreach messages)"
        },
        "typeVersion": 1
      },
      {
        "id": "9a9521c9-8ce2-4897-b5e3-1783a8185c4d",
        "name": "Do nothing",
        "type": "n8n-nodes-base.noOp",
        "position": [
          2176,
          16
        ],
        "parameters": {},
        "typeVersion": 1
      },
      {
        "id": "03389ade-eb32-4515-983e-20724790ad8d",
        "name": "Sticky Note9",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -1024,
          -448
        ],
        "parameters": {
          "width": 896,
          "height": 704,
          "content": "## Template: Enrich Company Records in Hubspot with the Bedrijfsdata.nl API\nBedrijfsdata.nl Developers Platform: https://developers.bedrijfsdata.nl\nBedrijfsdata.nl API docs: https://www.bedrijfsdata.nl\n\n### Before enrichment:\n![Before enrichment](https://www.bedrijfsdata.nl/wp-content/uploads/2025/07/Schermafbeelding-2025-07-28-om-13.00.55.png#full-width)\n\n### After (minimal) enrichment:\n![Before enrichment](https://www.bedrijfsdata.nl/wp-content/uploads/2025/07/Schermafbeelding-2025-07-28-om-13.03.47.png#full-width)\n\n**Please note** this is merely example data, there's much, much more available."
        },
        "typeVersion": 1
      },
      {
        "id": "bb61107e-6517-4db8-a3c6-1d15131b8312",
        "name": "Sticky Note10",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -1024,
          288
        ],
        "parameters": {
          "color": 2,
          "width": 896,
          "height": 1120,
          "content": "## Hubspot Private App Setup\n\n### 1. Scopes:\n![Before enrichment](https://www.bedrijfsdata.nl/wp-content/uploads/2025/07/Schermafbeelding-2025-07-28-om-13.40.55.png#full-width)\n\n### 2. Webhook & Events:\n![Before enrichment](https://www.bedrijfsdata.nl/wp-content/uploads/2025/07/Schermafbeelding-2025-07-28-om-13.41.09.png)\n\n**Please note** you'll need to customize the actual event that triggers your workflow. Listening for updates on the \"domain\" field is great for triggering enrichment upon record creation, but you'll need a custom trigger if you want to enrich, for example, periodically."
        },
        "typeVersion": 1
      }
    ],
    "active": false,
    "pinData": {
      "Hubspot - Company - Enrichment request": [
        {
          "json": {
            "body": [
              {
                "appId": 16549942,
                "eventId": 100,
                "objectId": 123,
                "portalId": 139601726,
                "occurredAt": 1753253849611,
                "changeSource": "CRM",
                "propertyName": "domain",
                "attemptNumber": 0,
                "propertyValue": "sample-value",
                "subscriptionId": 3969501,
                "subscriptionType": "company.propertyChange"
              }
            ],
            "query": {},
            "params": {},
            "headers": {
              "host": "bedrijfsdata.app.n8n.cloud",
              "accept": "*/*",
              "cf-ray": "9639498af5884e6c-FRA",
              "cdn-loop": "cloudflare; loops=1; subreqs=1",
              "cf-ew-via": "15",
              "cf-worker": "n8n.cloud",
              "x-real-ip": "143.244.87.55",
              "cf-visitor": "{\"scheme\":\"https\"}",
              "user-agent": "HubSpot Connect 2.0 (http://dev.hubspot.com/) (namespace: webhooks-nio-http-client) - WebhooksExecutionService-userweb",
              "cf-ipcountry": "DE",
              "content-type": "application/json",
              "x-is-trusted": "yes",
              "content-length": "260",
              "accept-encoding": "gzip, br",
              "x-forwarded-for": "143.244.87.55, 172.70.248.118",
              "cf-connecting-ip": "143.244.87.55",
              "x-forwarded-host": "bedrijfsdata.app.n8n.cloud",
              "x-forwarded-port": "443",
              "x-forwarded-proto": "https",
              "x-hs-user-request": "1",
              "x-forwarded-server": "traefik-prod-users-gwc-15-6cb64f5ddc-9l27h",
              "x-hubspot-signature": "642171eb861e15b587680d46c8ea5489924eb9e14b3fd585691f159b46ac37f8",
              "x-hs-internal-request": "0",
              "x-hubspot-signature-v3": "DjjZOuBnNqT8AMZKM79THA5qSs0ccwCiiHYoFKMA7t0=",
              "x-hubspot-correlation-id": "8c36de64-896c-4eac-95c5-cfd5bd191cc6",
              "x-hubspot-timeout-millis": "13699",
              "x-hs-internal-user-request": "0",
              "x-hubspot-request-timestamp": "1753253884609",
              "x-hubspot-signature-version": "v1"
            },
            "webhookUrl": "https://bedrijfsdata.app.n8n.cloud/webhook-test/b5e3e64f-f57a-4d08-8631-9bc61416193d",
            "executionMode": "test"
          }
        }
      ]
    },
    "settings": {
      "executionOrder": "v1"
    },
    "versionId": "5acfcff5-ceef-4bb6-9e9e-45bec211b4c6",
    "connections": {
      "Get company": {
        "main": [
          [
            {
              "node": "If the company profile is found..",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Error type 3: Bedrijfsdata.nl API (like insufficient credits)",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Is TEST Mode?": {
        "main": [
          [
            {
              "node": "Get TEST Company Data",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Get Company Data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get Company Data": {
        "main": [
          [
            {
              "node": "Has Known Bedrijfsdata ID",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Error type 2 - Hubspot error",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Update a company": {
        "main": [
          [
            {
              "node": "Do nothing",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Error type 2 - Hubspot error",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Enrich company data": {
        "main": [
          [
            {
              "node": "If your data can be matched..",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Error type 3: Bedrijfsdata.nl API (like insufficient credits)",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get TEST Company Data": {
        "main": [
          [
            {
              "node": "Has Known Bedrijfsdata ID",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Error type 2 - Hubspot error",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Validate Incoming Data": {
        "main": [
          [
            {
              "node": "Is TEST Mode?",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Error type 1: Invalid request from Hubspot",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Reformat for processing": {
        "main": [
          [
            {
              "node": "Update a company",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Has Known Bedrijfsdata ID": {
        "main": [
          [
            {
              "node": "Get company",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Enrich company data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Output only the best match": {
        "main": [
          [
            {
              "node": "Update a company",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "If your data can be matched..": {
        "main": [
          [
            {
              "node": "Reformat for processing",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Error type 4 - No company found",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "If the company profile is found..": {
        "main": [
          [
            {
              "node": "Output only the best match",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Error type 4 - No company found",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Hubspot - Company - Enrichment request": {
        "main": [
          [
            {
              "node": "Validate Incoming Data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    }
  },
  "lastUpdatedBy": 29,
  "workflowInfo": {
    "nodeCount": 29,
    "nodeTypes": {
      "n8n-nodes-base.if": {
        "count": 5
      },
      "n8n-nodes-base.code": {
        "count": 2
      },
      "n8n-nodes-base.noOp": {
        "count": 5
      },
      "n8n-nodes-base.hubspot": {
        "count": 3
      },
      "n8n-nodes-base.webhook": {
        "count": 1
      },
      "n8n-nodes-base.stickyNote": {
        "count": 11
      },
      "@bedrijfsdatanl/n8n-nodes-bedrijfsdata.bedrijfsdata": {
        "count": 2
      }
    }
  },
  "categories": [
    {
      "id": 39,
      "name": "CRM"
    }
  ],
  "image": []
}